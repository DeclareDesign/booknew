<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 15 Experimental designs for descriptive inference | Research Design: Declare, Diagnose, Redesign</title>
<meta name="author" content="Graeme Blair, Alexander Coppock, and Macartan Humphreys">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.3.9000/tabs.js"></script><script src="libs/bs3compat-0.2.3.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<link href="libs/bs4_book-1.0.0/dd_imgpopup.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/bs4_book-1.0.0/dd_imgpopup.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://hypothes.is/embed.js" async></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Research Design: Declare, Diagnose, Redesign</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li class="book-part">Introduction</li>
<li><a class="" href="preamble.html"><span class="header-section-number">1</span> Preamble</a></li>
<li><a class="" href="improving-research-designs.html"><span class="header-section-number">2</span> Improving research designs</a></li>
<li><a class="" href="primer.html"><span class="header-section-number">3</span> Software primer</a></li>
<li><a class="" href="part-i-exercises.html"><span class="header-section-number">4</span> Part I Exercises</a></li>
<li class="book-part">Declaration, Diagnosis, Redesign</li>
<li><a class="" href="declaration.html"><span class="header-section-number">5</span> Declaration</a></li>
<li><a class="" href="specifying-the-model.html"><span class="header-section-number">6</span> Specifying the model</a></li>
<li><a class="" href="defining-the-inquiry.html"><span class="header-section-number">7</span> Defining the inquiry</a></li>
<li><a class="" href="crafting-a-data-strategy.html"><span class="header-section-number">8</span> Crafting a data strategy</a></li>
<li><a class="" href="choosing-an-answer-strategy.html"><span class="header-section-number">9</span> Choosing an answer strategy</a></li>
<li><a class="" href="p2diagnosis.html"><span class="header-section-number">10</span> Diagnosis</a></li>
<li><a class="" href="redesign-2.html"><span class="header-section-number">11</span> Redesign</a></li>
<li><a class="" href="part-ii-exercises.html"><span class="header-section-number">12</span> Part II Exercises</a></li>
<li class="book-part">Research Design Library</li>
<li><a class="" href="research-design-library.html"><span class="header-section-number">13</span> Research Design Library</a></li>
<li><a class="" href="observational-designs-for-descriptive-inference.html"><span class="header-section-number">14</span> Observational designs for descriptive inference</a></li>
<li><a class="active" href="experimental-designs-for-descriptive-inference.html"><span class="header-section-number">15</span> Experimental designs for descriptive inference</a></li>
<li><a class="" href="observational-designs-for-causal-inference.html"><span class="header-section-number">16</span> Observational designs for causal inference</a></li>
<li><a class="" href="experimental-designs-for-causal-inference.html"><span class="header-section-number">17</span> Experimental designs for causal inference</a></li>
<li><a class="" href="complex-designs-1.html"><span class="header-section-number">18</span> Complex designs</a></li>
<li><a class="" href="part-iii-exercises.html"><span class="header-section-number">19</span> Part III Exercises</a></li>
<li class="book-part">Research Design Lifecycle</li>
<li><a class="" href="research-design-lifecycle.html"><span class="header-section-number">20</span> Research Design Lifecycle</a></li>
<li><a class="" href="before.html"><span class="header-section-number">21</span> Before</a></li>
<li><a class="" href="during.html"><span class="header-section-number">22</span> During</a></li>
<li><a class="" href="after.html"><span class="header-section-number">23</span> After</a></li>
<li><a class="" href="part-iv-exercises.html"><span class="header-section-number">24</span> Part IV Exercises</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="experimental-designs-for-descriptive-inference" class="section level1">
<h1>
<span class="header-section-number">15</span> Experimental designs for descriptive inference<a class="anchor" aria-label="anchor" href="#experimental-designs-for-descriptive-inference"><i class="fas fa-link"></i></a>
</h1>
<p>Why would we ever need to do an <em>experiment</em> to do descriptive inference?</p>
<p>Suppose we want to understand the causal model <em>M</em> of a violin. In particular, we have a descriptive inquiry <em>I</em> about the pitch of the highest string, the E string. We want to know if the E string is in tune. Call the latent pitch of the string <span class="math inline">\(Y^*\)</span>. No matter how hard we listen to the string, we can’t hear <span class="math inline">\(Y^*\)</span> – it is latent. As part of a data strategy <span class="math inline">\(D\)</span>, we could measure the pitch by <span class="math inline">\(P\)</span> plucking it: <span class="math inline">\(Y^* -&gt; Y &lt;- P\)</span>. This is descriptive research about the causal model <span class="math inline">\(M\)</span>, because the DAG of the violin includes four string nodes which each cause pitch nodes; we’d like to know a descriptive fact about the pitch nodes (at what frequency do they vibrate?).</p>
<p>This question could be recast as a causal inquiry: the untreated potential outcome is the pitch of the unplucked string, as defined by the frequency of vibration. While strings are never <em>perfectly</em> still, we can call the untreated potential outcome <span class="math inline">\(Y_i(0) = 0hz\)</span>. The treated potential outcome is the frequency when the string is plucked <span class="math inline">\(Y_i(1) = 650hz\)</span>. The causal effect of plucking the string is <span class="math inline">\(Y_i(1) - Y_i(0) = 650 - 0 = 650\)</span>.</p>
<p>Whether framed as a descriptive inquiry or a casual inquiry, we arrive at an answer of 650 hertz. Violinists reading this will know that that means the E string is flat and will need to be tuned up to <span class="math inline">\(659.3hz\)</span> (if using equal temperament).</p>

<!-- note do_bookdown is set in index.rmd, so we know if you're running just this .Rmd or compiling the book-->
<!-- start post here, do not edit above -->
<!-- make sure to rename the section title below -->
<div id="audit-experiments" class="section level2">
<h2>
<span class="header-section-number">15.1</span> Audit experiments<a class="anchor" aria-label="anchor" href="#audit-experiments"><i class="fas fa-link"></i></a>
</h2>
<p>Audit experiments are used to measure whether requests that vary on some dimension of interest receive equal treatment. The design is used commonly in employment settings to measure whether job applications that are otherwise similar but come from candidates from different genders, races, or social backgrounds receive the same rate of job interview invitations. The same approach has been applied to a very wide range of settings, including education, housing, and requests to politicians.</p>
<p>The goal can be thought of a measurement problem: measuring the level of discrimination. But insofar as acts of discrimination are themselves responses to stimuli they can be addressed using methods of causal inference.</p>
<p>For example, <span class="citation">White, Nathan, and Faller (<a href="references.html#ref-WHITE_NATHAN_FALLER_2015" role="doc-biblioref">2015</a>)</span> seek to measure discrimination by assessing the effects of an email from a Latino name (versus a White name) on <em>whether</em> and <em>how well</em> election officials respond to requests for information.</p>
<div id="declaration-4" class="section level3">
<h3>
<span class="header-section-number">15.1.1</span> Declaration<a class="anchor" aria-label="anchor" href="#declaration-4"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p><strong>M</strong>odel:</p>
<p>The model has two outcome variables, <span class="math inline">\(R_i\)</span> and <span class="math inline">\(Y_i\)</span>. <span class="math inline">\(R_i\)</span> stands for “response” and is equal to 1 if a response is sent, and 0 otherwise. <span class="math inline">\(Y_i\)</span> is the tone of the response and is normally distributed when it is defined. <span class="math inline">\(Z_i\)</span> is the treatment and equals 1 if the email is sent using a Latino name and 0 otherwise. The table below shows the potential outcomes for four possible types of subjects, depending on the potential outcomes of <span class="math inline">\(R_i\)</span>. <em>A</em> types always respond regardless of treatment and <em>D</em> types never respond, regardless of treatment. <em>B</em> types respond if and only if they are treated, whereas <em>C</em> types respond if and only if they are <em>not</em> treated. The table also includes columns for the potential outcomes of <span class="math inline">\(Y_i\)</span>, showing which potential outcome subjects would express depending on their type. The key thing to note is that for the B, C, and D types, the effect of treatment on <span class="math inline">\(Y_i\)</span> is <em>undefined</em> because messages never sent have no tone. The last (and very important) feature of our model is that the outcomes <span class="math inline">\(Y_i\)</span> are possibly correlated with subject type. Even though both <span class="math inline">\(\mathbb{E}[Y_i(1) | \text{Type} = A]\)</span> and <span class="math inline">\(\mathbb{E}[Y_i(1) | \text{Type} = B]\)</span> exist, there’s no reason to expect that they are the same.
In the design, we assume a distribution of types with 40% <em>A</em>, 5% <em>B</em>, 10% <em>C</em>, and 45% <em>D</em>.</p>
</li>
</ul>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:auditcausaltypes">Table 15.1: </span> Causal Types</caption>
<thead><tr class="header">
<th>Type</th>
<th><span class="math inline">\(R_i(0)\)</span></th>
<th><span class="math inline">\(R_i(1)\)</span></th>
<th><span class="math inline">\(Y_i(0)\)</span></th>
<th><span class="math inline">\(Y_i(1)\)</span></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>1</td>
<td>1</td>
<td><span class="math inline">\(Y_i(0)\)</span></td>
<td><span class="math inline">\(Y_i(1)\)</span></td>
</tr>
<tr class="even">
<td>B</td>
<td>0</td>
<td>1</td>
<td>NA</td>
<td><span class="math inline">\(Y_i(1)\)</span></td>
</tr>
<tr class="odd">
<td>C</td>
<td>1</td>
<td>0</td>
<td><span class="math inline">\(Y_i(0)\)</span></td>
<td>NA</td>
</tr>
<tr class="even">
<td>D</td>
<td>0</td>
<td>0</td>
<td>NA</td>
<td>NA</td>
</tr>
</tbody>
</table></div>
<ul>
<li>
<p><strong>I</strong>nquiry:</p>
<p>We have two inquiries. The first is straightforward: <span class="math inline">\(\mathbb{E}[R_i(1) - R_i(0)]\)</span> is the Average Treatment Effect on response. The second inquiry is the undefined inquiry that does not have an answer: <span class="math inline">\(\mathbb{E}[Y_i(1) - Y_i(0)]\)</span>. We will also consider a third inquiry, which <em>is</em> defined: <span class="math inline">\(\mathbb{E}[Y_i(1) - Y_i(0) | \mathrm{Type} = A]\)</span>, which is the average effect of treatment on tone among <span class="math inline">\(A\)</span> types.</p>
</li>
<li>
<p><strong>D</strong>ata strategy:</p>
<p>The data strategy will be to use complete random assignment to assign 250 of 500 units to treatment.</p>
</li>
<li>
<p><strong>A</strong>nswer strategy:</p>
<p>We’ll try to answer all three inquiries with the difference-in-means estimator, but as the diagnosis will reveal, this strategy works well for some inquiries but not others.</p>
</li>
</ul>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">design</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_population</span><span class="op">(</span>N <span class="op">=</span> <span class="fl">100</span>,
                     U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span>
    <span class="va">R</span> <span class="op">~</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">Z</span> <span class="op">+</span> <span class="va">U</span> <span class="op">&gt;</span> <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>Z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span>
    <span class="va">Q</span> <span class="op">~</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">R</span> <span class="op">==</span> <span class="fl">1</span>, <span class="va">Z</span> <span class="op">+</span> <span class="va">U</span>, <span class="cn">NA_real_</span><span class="op">)</span>, 
    conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>Z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, R <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimand</span><span class="op">(</span>ATE_R <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">R_Z_1</span> <span class="op">-</span> <span class="va">R_Z_0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_estimand</span><span class="op">(</span>CATE_ar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Q_Z_1_R_1</span> <span class="op">-</span> <span class="va">Q_Z_0_R_1</span><span class="op">)</span>, 
                   subset <span class="op">=</span> <span class="op">(</span><span class="va">R_Z_1</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">R_Z_0</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_assignment</span><span class="op">(</span>prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">reveal_outcomes</span><span class="op">(</span><span class="va">R</span>, <span class="va">Z</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">reveal_outcomes</span><span class="op">(</span><span class="va">Q</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Z</span>, <span class="va">R</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">R</span> <span class="op">~</span> <span class="va">Z</span>, estimand <span class="op">=</span> <span class="st">"ATE_R"</span>, label <span class="op">=</span> <span class="st">"ATE_R"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Q</span> <span class="op">~</span> <span class="va">Z</span>, subset <span class="op">=</span> <span class="op">(</span><span class="va">R</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span>, 
                    estimand <span class="op">=</span> <span class="st">"CATE_ar"</span>, 
                    label <span class="op">=</span> <span class="st">"CATE_ar"</span><span class="op">)</span></code></pre></div>
</div>
<div id="dag-3" class="section level3">
<h3>
<span class="header-section-number">15.1.2</span> DAG<a class="anchor" aria-label="anchor" href="#dag-3"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-figure"><img src="book_files/figure-html/unnamed-chunk-188-1.svg" width="100%"></div>
</div>
<div id="takeaways" class="section level3">
<h3>
<span class="header-section-number">15.1.3</span> Takeaways<a class="anchor" aria-label="anchor" href="#takeaways"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>The effect on response is identified by the design</li>
<li>This is a “descriptive” quantity in the sense that we seek to estimate the fraction of bureaucrats that discriminate against Latinos. We only learn this if the treatment effect on response is “monotonic”</li>
</ul>
<!-- ### Example --><!-- We learn three things from the design diagnosis. First, as expected, our experiment is unbiased for the average treatment effect on response. --><!-- Next, we see that our second inquiry, as well as our diagnostics for it, are undefined. The diagnosis tells us that our definition of potential outcomes produces a definition problem for the estimand. Note that the diagnosands that are defined, including power, depend only on the answer strategy and not on the estimand. --><!-- Finally, our third estimand -- the average effects for the $A$ types -- is defined but our estimates are biased. The reason for this is that we cannot tell from the data which types are the $A$ types: we are not conditioning on the correct subset. Indeed, we are unable to condition on the correct subset. If a subject responds in the treatment group, we don't know if she is an $A$ or a $B$ type; in the control group, we can't tell if a responder is an $A$ or a $C$ type. Our difference-in-means estimator of the ATE on $Y$ among $A$s will be off whenever $A$s have different outcomes from $B$s and $C$s. --><!-- In some cases, the problem might be resolved by changing the inquiry. Closely related estimands can often be defined, perhaps by redefining $Y$ (e.g., emails never sent have a tone of zero). Some redefinitions of the problem, as in the one we examine above, require estimating effects for unobserved subgroups which is a difficult challenge. --><!-- ### Applications --><!-- This kind of problem is surprisingly common. Here are three more distinct instances of the problem: --><!-- 1. $Y$ is the decision to vote Democrat ($Y=1$) or Republican ($Y=0$), $R$ is the decision to turn out to vote and $Z$ is a campaign message. The decision to vote may depend on treatment but if subjects do not vote then $Y$ is undefined. --><!-- 2. $Y$ is the weight of infants, $R$ is whether a child is born and $Z$ is a maternal health intervention. Fertility may depend on treatment but the weight of unborn (possibly never conceived) babies is not defined. --><!-- 2. $Y$ is the charity to whom contributions are made during fundraising and $R$ is whether anything is contributed and $Z$ is an encouragement to contribute. The identity of beneficiaries is not defined if there are no contributions.  --><!-- All of these problem exhibit a form of post treatment bias (see section **Post treatment bias**) but the issue goes beyond picking the right estimator. Our problem here is conceptual: the effect of treatment on the outcome just doesn't exist for some subjects. --><!-- ### Exercises --><!-- 1. The amount of bias on the third estimand depends on both the distribution of types and the correlation of types with the potential outcomes of Y. Modify the declaration so that the estimator of the effect on Y is unbiased, changing only the distribution of types. Repeat the exercise, changing only the correlation of type with the potential outcomes of $Y$.   --><!-- 2. Try approaching the problem by redefining the inquiry, seeking to assess the effect of treatment on the share of responses with positive tone.  --><!-- note do_bookdown is set in index.rmd, so we know if you're running just this .Rmd or compiling the book--><!-- start post here, do not edit above -->
</div>
</div>
<div id="list-experiments" class="section level2">
<h2>
<span class="header-section-number">15.2</span> List experiments<a class="anchor" aria-label="anchor" href="#list-experiments"><i class="fas fa-link"></i></a>
</h2>
<p>Sometimes, subjects might not tell the truth about certain attitudes or behaviors when asked directly. Responses may be affected by sensitivity bias, or the tendency of survey subjects to dissemble for fear of negative repercussions if some individual or group learns their true response <span class="citation">(Blair, Coppock, and Moor <a href="references.html#ref-blair2018list" role="doc-biblioref">2020</a>)</span>. In such cases, standard survey estimates based on direct questions will be biased. One class of solutions to this problem is to obscure individual responses, providing protection from social or legal pressures. When we obscure responses systematically through an experiment, we can often still identify average quantities of interest. One such design is the list experiment (introduced in <span class="citation">Miller (<a href="references.html#ref-miller1984new" role="doc-biblioref">1984</a>)</span>), which asks respondents for the count of the number of `yes’ responses to a series of questions including the sensitive item, rather than for a yes or no answer on the sensitive item itself. List experiments give subjects cover by aggregating their answer to the sensitive item with responses to other questions.</p>
<p>For example, during the 2016 Presidential election in the U.S., some observers were concerned that pre-election estimates of support for Donald Trump might have been downwardly biased by “Shy Trump Supporters” – survey respondents who supported Trump in their hearts, but were embarrassed to admit it to pollsters. To assess this possibility, <span class="citation">Coppock (<a href="references.html#ref-coppock2017did" role="doc-biblioref">2017</a>)</span> obtained estimates of Trump support that were free of social desirability bias using a list experiment. Subjects in the control and treatment groups were asked: “Here is a list of [three/four] things that some people would do and some people would not. Please tell me HOW MANY of them you would do. We do not want to know which ones of these you would do, just how many. Here are the [three/four] things:”</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="36%">
<col width="63%">
</colgroup>
<thead><tr class="header">
<th>Control</th>
<th>Treatment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>If it were up for a vote, I would vote to raise the minimum wage to 15 dollars an hour</td>
<td>If it were up for a vote, I would vote to raise the minimum wage to 15 dollars an hour</td>
</tr>
<tr class="even">
<td>If it were up for a vote, I would vote to repeal the Affordable Care Act, also known as Obamacare</td>
<td>If it were up for a vote, I would vote to repeal the Affordable Care Act, also known as Obamacare</td>
</tr>
<tr class="odd">
<td>If it were up for a vote, I would vote to ban assault weapons</td>
<td>If it were up for a vote, I would vote to ban assault weapons</td>
</tr>
<tr class="even">
<td></td>
<td>If the 2016 presidential election were being held today and the candidates were Hillary Clinton (Democrat) and Donald Trump (Republican), I would vote for Donald Trump.</td>
</tr>
</tbody>
</table></div>
<p>The treatment group averaged 1.843 items while the control group averaged 1.548 items, for a difference-in-means estimate 0.296. Under the usual assumptions of randomized experiments, the difference-in-means is an unbiased estimator for the average treatment effect of <em>being asked</em> to respond to the treated list versus the control list. But our (descriptive) estimand is the proportion of people who support Donald Trump.</p>
<p>For the difference-in-means to be an unbiased estimator for that inquiry, we invoke two additional assumptions <span class="citation">(Imai <a href="references.html#ref-Imai2011" role="doc-biblioref">2011</a>)</span>:</p>
<ul>
<li><p><strong>No design effects.</strong> The count of ``yes’’ responses to control items must be the same whether a respondent is assigned to the treatment or control group. The assumption highlights that we need a good estimate of the average control item count from the control group (in the example, 1.843). We use that to net out the control item count from responses to the treated group (what is left is the sensitive item proportion).</p></li>
<li><p><strong>No misreporting.</strong> The respondent must report the truthful answer to the sensitive item in the treatment group, when granted the anonymity protection of the list experiment. This assumption relies on the fact that the sensitive item is aggregated among the control items and so identifying individual responses is, in most cases, not possible, and this cover is enough to change the respondent’s willingness to truthfully report. However, there are two circumstances in which the respondent is not provided any cover: if the respondent reports “zero” in the treatment group, they are exactly identified as not holding the sensitive trait; when they report the highest possible count in the treatment group, they are exactly identified as holding the trait. We describe the resulting biases below as floor and ceiling effects, respectively.</p></li>
</ul>
<p>The estimate is, under these assumptions, free from sensitivity bias and an unbiased estimator for the proportion holding the sensitive item. However, list experiment estimates have much higher variance than those of direct questions. For the Trump survey example, the 95% confidence interval for the list experiment estimate is nearly 14 percentage points wide, whereas the 95% confidence interval for the (possibly biased!) direct question asked of the same sample is closer to 4 percentage points. The choice between the list experiments and the direct question is therefore a <strong>bias-variance tradeoff</strong>. List experiments may have less bias, but they are of higher variance. Direct questions may be biased, but they have less variance.</p>
<div id="declaration-5" class="section level3">
<h3>
<span class="header-section-number">15.2.1</span> Declaration<a class="anchor" aria-label="anchor" href="#declaration-5"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p><strong>M</strong>odel: Our model includes subjects’ true support for Donald Trump (<span class="math inline">\(Y_star\)</span>) and whether or not they are “shy” (<span class="math inline">\(S\)</span>). These two variables combine to determine how subjects will respond when asked directly about Trump support.</p>
<p>The potential outcomes model combines three types of information to determine how subjects will respond to the list experiment: their responses to the three nonsensitive control items (<span class="math inline">\(X\)</span>), their true support for Trump (<span class="math inline">\(Y_star\)</span>), and whether they are assigned to see the treatment or the control list (<span class="math inline">\(Z\)</span>). Notice that our definition of the potential outcomes embeds the no liars and no design effects assumptions required for the list experiment design.</p>
<p>We also have a global parameter that reflects our expectations about the proportion of Trump supporters who are shy. It’s set at 20%.</p>
</li>
</ul>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_population</span><span class="op">(</span>
    N <span class="op">=</span> <span class="fl">100</span>,
    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
    S <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,
                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Y_star</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">X</span><span class="op">)</span> </code></pre></div>
<ul>
<li>
<strong>I</strong>nquiry: Our estimand is the proportion of voters who actually plan to vote for Trump.</li>
</ul>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">inquiry</span> <span class="op">&lt;-</span> <span class="fu">declare_estimand</span><span class="op">(</span>proportion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Y_star</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<ul>
<li>
<strong>D</strong>ata strategy: We randomly assign 50% of our 100 subjects to treatment and the remainder to control. In the survey, we ask subjects both the direct question (<span class="math inline">\(Y_{\rm direct}\)</span>) and the list experiment question (<span class="math inline">\(Y_{\rm list}\)</span>).</li>
</ul>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_strategy</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_measurement</span><span class="op">(</span>Y_direct <span class="op">=</span> <span class="va">Y_star</span> <span class="op">-</span> <span class="va">S</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_assignment</span><span class="op">(</span>prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_reveal</span><span class="op">(</span><span class="va">Y_list</span>, <span class="va">Z</span><span class="op">)</span></code></pre></div>
<ul>
<li>
<strong>A</strong>nswer strategy: We estimate the proportion of truthful Trump voters in two ways. First, we take the mean of answers to the direct question. Second, we take the difference in means in the responses to the list experiment question.</li>
</ul>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">answer_strategy</span> <span class="op">&lt;-</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y_direct</span> <span class="op">~</span> <span class="fl">1</span>,
                    model <span class="op">=</span> <span class="va">lm_robust</span>,
                    estimand <span class="op">=</span> <span class="st">"proportion"</span>,
                    label <span class="op">=</span> <span class="st">"direct"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Z</span>, estimand <span class="op">=</span> <span class="st">"proportion"</span>, label <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">design</span> <span class="op">&lt;-</span> <span class="va">model</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy</span> <span class="op">+</span> <span class="va">answer_strategy</span></code></pre></div>
</div>
<div id="dag-4" class="section level3">
<h3>
<span class="header-section-number">15.2.2</span> DAG<a class="anchor" aria-label="anchor" href="#dag-4"><i class="fas fa-link"></i></a>
</h3>
<p>The no liars assumption of list experiments is evident in the DAG: Sensitivity bias <span class="math inline">\(S\)</span> is not a parent of the list experiment outcome <span class="math inline">\(Y^L\)</span> by assumption (no liars). The no design effects assumption is not directly visible.</p>
<div class="inline-figure"><img src="book_files/figure-html/unnamed-chunk-199-1.svg" width="100%"></div>
</div>
<div id="diagnosis-2" class="section level3">
<h3>
<span class="header-section-number">15.2.3</span> Diagnosis<a class="anchor" aria-label="anchor" href="#diagnosis-2"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">simulations_list</span> <span class="op">&lt;-</span> <span class="fu">simulate_design</span><span class="op">(</span><span class="va">design</span>, sims <span class="op">=</span> <span class="va">sims</span><span class="op">)</span></code></pre></div>
<p>The plot shows the sampling distribution of the direct and list experiment estimators. The sampling distribution of the direct question is tight but biased; the list experiment (if the requisite assumptions hold) is unbiased, but higher variance. The choice between these two estimators of the prevalence rate depends on which – bias or variance – is more important in a particular setting. See <span class="citation">Blair, Coppock, and Moor (<a href="references.html#ref-blair2018list" role="doc-biblioref">2020</a>)</span> for an extended discussion of how the choice of research design depends deeply on the purpose of the project.</p>
<div class="inline-figure"><img src="book_files/figure-html/unnamed-chunk-202-1.svg" width="100%"></div>
</div>
<div id="assumption-violations" class="section level3">
<h3>
<span class="header-section-number">15.2.4</span> Assumption violations<a class="anchor" aria-label="anchor" href="#assumption-violations"><i class="fas fa-link"></i></a>
</h3>
<p>Recent work on list experiments emphasizes the possibility of violations of both the no liars and the no design effects assumptions. We can diagnose the properties of our design under plausible violations of each.</p>
<p>First, we consider violations of the no design effects assumption, which means that the control item count differs depending on whether a subject is assigned to treatment or control. Typically, this means that the inclusion of the sensitive item changes responses to the control items, because they are judged in relative terms or because the respondent became suspicious of the researcher’s intentions due to the taboo of asking a sensitive question.</p>
<p>We declare a modified design below that defines two different potential control item counts depending on whether the respondent is in the treatment group (<span class="math inline">\(X_{\rm treat}\)</span>) or control group (<span class="math inline">\(X_{\rm control}\)</span>). The potential outcomes for the list outcome also change: <span class="math inline">\(X_{\rm treat}\)</span> is revealed in treatment and <span class="math inline">\(X_{\rm control}\)</span> in control.</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_design_effects</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_population</span><span class="op">(</span>
    N <span class="op">=</span> <span class="fl">100</span>,
    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
    X_control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
    X_treat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span>,
    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
    S <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,
                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span>
    <span class="va">Y_list</span> <span class="op">~</span> <span class="op">(</span><span class="va">Y_star</span> <span class="op">+</span> <span class="va">X_treat</span><span class="op">)</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">X_control</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">Z</span><span class="op">)</span>
  <span class="op">)</span>

<span class="va">design_design_effects</span> <span class="op">&lt;-</span> 
  <span class="va">model_design_effects</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy</span> <span class="op">+</span> <span class="va">answer_strategy</span></code></pre></div>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">diagnose_design_effects</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">design_design_effects</span>, sims <span class="op">=</span> <span class="va">sims</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
estimator_label
</th>
<th style="text-align:left;">
estimand_label
</th>
<th style="text-align:right;">
bias
</th>
<th style="text-align:right;">
rmse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
direct
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
-0.059
</td>
<td style="text-align:right;">
0.064
</td>
</tr>
<tr>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
-0.749
</td>
<td style="text-align:right;">
0.768
</td>
</tr>
</tbody>
</table></div>
<p>Second, a violation of no liars implies that respondents do not respond truthfully even when provided with the privacy protection of the list experiment. Two common circumstances researchers worry about are ceiling effects and floor effects. In ceiling effects, respondents respond with the maximum number of control items rather than with their truthful response of that plus one, to avoid being identified as holding the sensitive trait. The floor effects problem is the reverse, when respondents hide not holding the sensitive trait by responding one <em>more</em> than their truthful count in the treatment group.</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_liars</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_population</span><span class="op">(</span>
    N <span class="op">=</span> <span class="fl">100</span>,
    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
    S <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,
                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span>
    <span class="va">Y_list</span> <span class="op">~</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">X</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">&amp;</span> <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">Z</span> <span class="op">==</span> <span class="fl">1</span>, <span class="fl">3</span>, <span class="va">Y_star</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">X</span><span class="op">)</span>
  <span class="op">)</span>

<span class="va">design_liars</span> <span class="op">&lt;-</span> <span class="va">model_liars</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy</span> <span class="op">+</span> <span class="va">answer_strategy</span></code></pre></div>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">diagnose_liars</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">design_liars</span>, sims <span class="op">=</span> <span class="va">sims</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
estimator_label
</th>
<th style="text-align:left;">
estimand_label
</th>
<th style="text-align:right;">
bias
</th>
<th style="text-align:right;">
rmse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
direct
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
-0.059
</td>
<td style="text-align:right;">
0.064
</td>
</tr>
<tr>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
-0.040
</td>
<td style="text-align:right;">
0.180
</td>
</tr>
</tbody>
</table></div>
<p>Ceiling and floor effects are not the only ways in which the no liars assumption might be violated. Respondents, when noting the sensitive item among the list, might always respond zero (or the highest number) regardless of their control item count to hide their response. A declaration could be made for these other kinds of violations, also by changing the potential outcomes for <span class="math inline">\(Y_{\rm list}\)</span>.</p>
</div>
<div id="redesign-3" class="section level3">
<h3>
<span class="header-section-number">15.2.5</span> Redesign<a class="anchor" aria-label="anchor" href="#redesign-3"><i class="fas fa-link"></i></a>
</h3>
<p>Researchers have control of three important design parameters that affect the inferential power of list experiments: sample size, the number of control items, the selection of control items, and the proportion of the sample assigned to treatment.</p>
<!-- sample size -->
<p><strong>Sample size.</strong> The bias-variance tradeoff in the choice between list and direct questioning can be diagnosed by examining the root mean-squared error (a measure of the efficiency of the design) across two varying parameters: sample size and the amount of sensitivity. We declare a new design with varying <span class="math inline">\(N\)</span> and varying <span class="math inline">\(\mathrm{proportion_shy}\)</span>, the proportion of Trump voters who withhold their truthful response when asked directly:</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_sample_size</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_population</span><span class="op">(</span>
    N <span class="op">=</span> <span class="va">N</span>,
    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
    S <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,
                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="va">proportion_shy</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Y_star</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">X</span><span class="op">)</span> 

<span class="va">design</span> <span class="op">&lt;-</span> <span class="va">model_sample_size</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy</span> <span class="op">+</span> <span class="va">answer_strategy</span>

<span class="va">designs</span> <span class="op">&lt;-</span> <span class="fu">redesign</span><span class="op">(</span><span class="va">design</span>, proportion_shy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">0.5</span>, by <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>, N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">500</span>, to <span class="op">=</span> <span class="fl">5000</span>, by <span class="op">=</span> <span class="fl">500</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">diagnosis_tradeoff</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">designs</span>, sims <span class="op">=</span> <span class="va">sims</span>, bootstrap_sims <span class="op">=</span> <span class="va">b_sims</span><span class="op">)</span></code></pre></div>
<p>Diagnosing this design, we see that at low levels of sensitivity and low sample sizes, the direct question is preferred on RMSE grounds. This is because though the direct question is biased for the proportion of Trump voters in the presence of any sensitivity bias (positive <span class="math inline">\({\rm proportion_shy}\)</span>), it is much more efficient than the list experiment. When we have a large sample size, then we begin to prefer the list experiment for its low bias. At high levels of sensitivity, we prefer the list on RMSE grounds despite its inefficiency, because bias will be so large. Beyond the list experiment, this diagnosis illustrates that when comparing two possible designs we need to understand both the bias and the variance of the designs in order to select the best one in our setting. In other designs, it will not be the proportion who are shy but some other feature of the model or data and answer strategy that affect bias.</p>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># make a plot</span>
<span class="va">diagnosis_tradeoff</span> <span class="op">%&gt;%</span>
  <span class="va">get_diagnosands</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">proportion_shy</span> <span class="op">&lt;</span> <span class="fl">0.35</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>estimator_lbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">estimator_label</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"direct"</span>, <span class="st">"list"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Direct question"</span>, <span class="st">"List experiment"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">N</span>, <span class="va">rmse</span>, group <span class="op">=</span> <span class="va">estimator_lbl</span>, color <span class="op">=</span> <span class="va">estimator_lbl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># bias line</span>
  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_color_discrete</span><span class="op">(</span><span class="st">"Question type"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"RMSE"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span> <span class="va">proportion_shy</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">dd_theme</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="book_files/figure-html/unnamed-chunk-214-1.svg" width="100%"></div>
<p>In the upper left, we see that when there is no sensitivity bias we always prefer the direct question due to the inefficiency of the list experiment. The red line is always below the blue. However, when we get to 0.1, there are sample sizes at which we prefer the direct question to the list: below 3000 subjects. However, above 3000 subjects the RMSE of the list experiment is better than the direct question. When we get to 25 percent of Trump supporters misreporting, we always prefer the list experiment in terms of RMSE. In other words, at such high levels of sensitivity bias we are always willing to tolerate the efficiency loss to get an unbiased estimate in this region.</p>
<!-- N control items -->
<p><strong>How many control items</strong>. After sample size, an early choice list researchers must make is how many control items to select. Here we also face a tradeoff: the more control items, the more privacy protection for the respondent; but the more items the more variance and the less efficient our estimator of the proportion holding the sensitive item. We can quantify the amount of privacy protection provided as the average width of the confidence interval on the posterior prediction of the sensitive item given the observed count. The efficiency can be quantified as the RMSE.</p>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_control_item_count</span> <span class="op">&lt;-</span>
  <span class="fu">declare_population</span><span class="op">(</span>
    N <span class="op">=</span> <span class="fl">100</span>,
    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="va">J</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
    S <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,
                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Y_star</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">X</span><span class="op">)</span> 

<span class="va">design</span> <span class="op">&lt;-</span> <span class="va">model_control_item_count</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy</span> <span class="op">+</span> <span class="va">answer_strategy</span>

<span class="va">designs</span> <span class="op">&lt;-</span> <span class="fu">redesign</span><span class="op">(</span><span class="va">design</span>, J <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">diagnosis_control_item_count</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">designs</span>, sims <span class="op">=</span> <span class="va">sims</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
J
</th>
<th style="text-align:right;">
bias
</th>
<th style="text-align:right;">
rmse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
-0.001
</td>
<td style="text-align:right;">
0.148
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
-0.004
</td>
<td style="text-align:right;">
0.181
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
-0.006
</td>
<td style="text-align:right;">
0.207
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
-0.008
</td>
<td style="text-align:right;">
0.231
</td>
</tr>
</tbody>
</table></div>
<!-- selection of control items --><p><strong>Which control items</strong>. The choice of which set of control items to ask can be as or more important than the number. There are three aims with their selection: reduce bias from ceiling and floor effects, provide sufficient cover to respondents so the no liars assumption is met, and increase efficiency of the estimates. The first goal can be met by reducing the number of people whose latent control count is between one and <span class="math inline">\(J-1\)</span>, one above and one below the lowest and highest numbers possible in the treated group. Respondents in this band will not feel pressured to subtract (add) from their responses to hide that they (do not) hold the sensitive item. One solution to this is to add an item with high prevalance and an item with low prevalence. Though this would address problem one, it would violate problem two: items that are obviously high and low prevalence do nothing to add to privacy protection. The ideal control item count is one with low variance around the middle of the range of the count. To achieve this while providing sufficient cover, items that are inversely correlated can be added.</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_control_item_correlation</span> <span class="op">&lt;-</span>
  <span class="fu">declare_population</span><span class="op">(</span>
    N <span class="op">=</span> <span class="fl">100</span>,
    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
    X_1 <span class="op">=</span> <span class="fu">draw_binary</span><span class="op">(</span><span class="fl">0.5</span>, <span class="va">N</span><span class="op">)</span>, 
    X_2 <span class="op">=</span> <span class="fu">correlate</span><span class="op">(</span>given <span class="op">=</span> <span class="va">X_1</span>, rho <span class="op">=</span> <span class="va">rho</span>, <span class="va">draw_binary</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
    X_3 <span class="op">=</span> <span class="fu">draw_binary</span><span class="op">(</span><span class="fl">0.5</span>, <span class="va">N</span><span class="op">)</span>,
    X <span class="op">=</span> <span class="va">X_1</span> <span class="op">+</span> <span class="va">X_2</span> <span class="op">+</span> <span class="va">X_3</span>,
    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
    S <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,
                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Y_star</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">X</span><span class="op">)</span> 

<span class="va">design</span> <span class="op">&lt;-</span> <span class="va">model_control_item_correlation</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy</span> <span class="op">+</span> <span class="va">answer_strategy</span>

<span class="va">designs</span> <span class="op">&lt;-</span> <span class="fu">redesign</span><span class="op">(</span><span class="va">design</span>, rho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">diagnose_control_item_correlation</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">designs</span>, sims <span class="op">=</span> <span class="va">sims</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
rho
</th>
<th style="text-align:left;">
estimator_label
</th>
<th style="text-align:left;">
estimand_label
</th>
<th style="text-align:right;">
bias
</th>
<th style="text-align:right;">
rmse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.009
</td>
<td style="text-align:right;">
0.151
</td>
</tr>
<tr>
<td style="text-align:right;">
0.25
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.161
</td>
</tr>
<tr>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.168
</td>
</tr>
<tr>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.007
</td>
<td style="text-align:right;">
0.163
</td>
</tr>
<tr>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.009
</td>
<td style="text-align:right;">
0.150
</td>
</tr>
</tbody>
</table></div>
<!-- proportion of sample treated --><p><strong>Proportion treated.</strong> A design parameter not often carefully considered in experiments in general and list experiments in particular is the proportion who are treated in the random assignment procedure. Often, researchers retain the default of 50-50 allocation in two-arm trials. However, as shown in Section XX, when the variance in the outcome differs across treatment and control, this is not the optimal allocation rule. Instead, more units should be assigned to the group in which the variance is higher. In the list experiment, the variance of the outcome is typically higher in the treatment group for the simple reason that the number of control items is higher. There is more variability from more items. To address this, researchers can set the proportion treated to be higher than 50%. We explore this tradeoff by redesigning the study with varying probabilities of assignment from 20% to 80% and examining the RMSE.</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_strategy_prop_treated</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_measurement</span><span class="op">(</span>Y_direct <span class="op">=</span> <span class="va">Y_star</span> <span class="op">-</span> <span class="va">S</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_assignment</span><span class="op">(</span>prob <span class="op">=</span> <span class="va">prop_treated</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_reveal</span><span class="op">(</span><span class="va">Y_list</span>, <span class="va">Z</span><span class="op">)</span>

<span class="va">design</span> <span class="op">&lt;-</span> <span class="va">model</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy_prop_treated</span> <span class="op">+</span> <span class="va">answer_strategy</span>

<span class="va">designs</span> <span class="op">&lt;-</span> <span class="fu">redesign</span><span class="op">(</span><span class="va">design</span>, prop_treated <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0.2</span>, to <span class="op">=</span> <span class="fl">0.8</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">diagnose_prop_treated</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">designs</span>, sims <span class="op">=</span> <span class="va">sims</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
prop_treated
</th>
<th style="text-align:left;">
estimator_label
</th>
<th style="text-align:left;">
estimand_label
</th>
<th style="text-align:right;">
rmse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.230
</td>
</tr>
<tr>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.198
</td>
</tr>
<tr>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.183
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.178
</td>
</tr>
<tr>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.179
</td>
</tr>
<tr>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.194
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:left;">
list
</td>
<td style="text-align:left;">
proportion
</td>
<td style="text-align:right;">
0.228
</td>
</tr>
</tbody>
</table></div>
<!-- See Blair and Imai (2012) and Li (2019) for methods for addressing violations no liars assumption through modeling and bounds. --><!-- Li, Y. (n.d.). Relaxing the No Liars Assumption in List Experiment Analyses. Political Analysis, 1-16. doi:10.1017/pan.2019.7 --><!-- Changes the answer strategy have been proposed to address both the no design effects and no liars assumption. @blair2012statistical propose a statistical test for the design effects assumption; if it does not pass, they suggest not analyzing the list experiment data (i.e., this is a procedure that makes up an answer strategy). Scholars have also identified improvements to the answer strategy to address violations of no liars: @blair2012statistical provides a model that adjusts for ceiling and floor effects and @li2019relaxing provides a bounds approach that relaxes the assumption. -->
</div>
<div id="related-designs" class="section level3">
<h3>
<span class="header-section-number">15.2.6</span> Related designs<a class="anchor" aria-label="anchor" href="#related-designs"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>randomized response</li>
<li>cross-wise technique</li>
<li>block total response</li>
</ul>
<p>The list experiment is one of several experimental designs for answering descriptive inquiries about sensitive topics (for a review see XX). Most can target the same inquiry: the proportion of subjects who hold a sensitive trait. The randomized response technique is another such design, itself with many variants. In a “forced response” randomized response design (see <span class="citation">(<span class="citeproc-not-found" data-reference-id="blairimaizhou"><strong>???</strong></span>)</span>), respondents are asked to roll a dice, and depending on the dice result they either answer honestly or are “forced” to answer either “yes” or “no.” With a six-sided dice, respondents might be asked to answer “yes” if they roll a 6, “no” if they roll a “1”, and to answer the question truthfully if they roll any other number, two through five. Because the probability of rolling a 1 and 6 are known, we can back out the probability of answering the sensitive item from the observed data. Declaring this design necessitates changes in M (potential outcomes are a function of the dice roll); D (random assignment is the dice roll itself); and A (an estimator that is a function of the observed outcomes and the known probability of being forced into each response). We declare one below:</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">rr</span><span class="op">)</span>

<span class="va">model_rr</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_population</span><span class="op">(</span>
    N <span class="op">=</span> <span class="fl">100</span>,
    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,
    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
    S <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,
                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_potential_outcomes</span><span class="op">(</span>
    <span class="va">Y_rr</span> <span class="op">~</span> 
      <span class="fu">case_when</span><span class="op">(</span>
        <span class="va">dice</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fl">0L</span>,
        <span class="va">dice</span> <span class="op">%in%</span> <span class="fl">2</span><span class="op">:</span><span class="fl">5</span> <span class="op">~</span> <span class="va">Y_star</span>,
        <span class="va">dice</span> <span class="op">==</span> <span class="fl">6</span> <span class="op">~</span> <span class="fl">1L</span>
      <span class="op">)</span>,
    conditions <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, assignment_variable <span class="op">=</span> <span class="st">"dice"</span><span class="op">)</span>

<span class="va">data_strategy_rr</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_measurement</span><span class="op">(</span>Y_direct <span class="op">=</span> <span class="va">Y_star</span> <span class="op">-</span> <span class="va">S</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_assignment</span><span class="op">(</span>prob_each <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">6</span>, <span class="fl">6</span><span class="op">)</span>, conditions <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>,
                     assignment_variable <span class="op">=</span> <span class="st">"dice"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_reveal</span><span class="op">(</span><span class="va">Y_rr</span>, <span class="va">dice</span><span class="op">)</span>

<span class="va">answer_strategy_rr</span> <span class="op">&lt;-</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y_direct</span> <span class="op">~</span> <span class="fl">1</span>,
                    model <span class="op">=</span> <span class="va">lm_robust</span>,
                    estimand <span class="op">=</span> <span class="st">"proportion"</span>,
                    label <span class="op">=</span> <span class="st">"direct"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y_rr</span> <span class="op">~</span> <span class="fl">1</span>, handler <span class="op">=</span> <span class="va">rr_forced_known</span>, 
                    label <span class="op">=</span> <span class="st">"forced_known"</span>, estimand <span class="op">=</span> <span class="st">"proportion"</span><span class="op">)</span>


<span class="va">design</span> <span class="op">&lt;-</span> <span class="va">model_rr</span> <span class="op">+</span> <span class="va">inquiry</span> <span class="op">+</span> <span class="va">data_strategy_rr</span> <span class="op">+</span> <span class="va">answer_strategy_rr</span></code></pre></div>
</div>
<div id="further-readings" class="section level3">
<h3>
<span class="header-section-number">15.2.7</span> Further readings<a class="anchor" aria-label="anchor" href="#further-readings"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><span class="citation">Miller (<a href="references.html#ref-miller1984new" role="doc-biblioref">1984</a>)</span></li>
<li><span class="citation">Imai (<a href="references.html#ref-Imai2011" role="doc-biblioref">2011</a>)</span></li>
<li><span class="citation">Blair, Coppock, and Moor (<a href="references.html#ref-blair2018list" role="doc-biblioref">2020</a>)</span></li>
</ul>
<!-- note do_bookdown is set in index.rmd, so we know if you're running just this .Rmd or compiling the book--><!-- start post here, do not edit above --><!-- make sure to rename the section title below -->
</div>
</div>
<div id="conjoint-experiments" class="section level2">
<h2>
<span class="header-section-number">15.3</span> Conjoint experiments<a class="anchor" aria-label="anchor" href="#conjoint-experiments"><i class="fas fa-link"></i></a>
</h2>
<p>Conjoint survey experiments have become hugely popular in political science and beyond for studying multidimensional choice <span class="citation">(Hainmueller, Hopkins, and Yamamoto <a href="references.html#ref-Hainmueller2014" role="doc-biblioref">2014</a>)</span>. In the common “forced-choice” design variant, subjects are presented with a choice task: a pair of profiles (of candidates, of immigrants, of policies) and are asked to make a binary choice between them.</p>
<p>When you’re designing a conjoint, you have to make (at least) three choices:</p>
<ol style="list-style-type: decimal">
<li>The number of <strong>attributes</strong>
</li>
<li>The number of <strong>levels</strong> within each attribute</li>
<li>The number of <strong>choice tasks</strong> subjects are asked to rate.</li>
</ol>
<p>The right number of <strong>attributes</strong> is governed by the “masking/satisficing” tradeoff <span class="citation">(Bansak et al. <a href="references.html#ref-bansak_hainmueller_hopkins_yamamoto_2019" role="doc-biblioref">2019</a>)</span>. If you don’t include an important attribute (like partisanship in a candidate choice experiment), you’re worried that subjects will partially infer partisanship from other attributes (like race or gender). If so, partisanship is “masked”, and the estimates for the effects of race or gender will be biased by this “omitted variable.” But if you add too many attributes in order to avoid masking, you may induce “satisficing” among subjects, whereby they only take in a little bit of information, enough to make a “good enough” choice among the candidates.</p>
<p>The right number of <strong>levels</strong> is governed by your sample size. If an attribute has three levels, it’s like you’re conducting a three-arm trial, so you’ll want to have enough subjects for each arm. The more levels, the lower the power.</p>
<p>The right number of <strong>choice tasks</strong> depends on your survey budget. You can always add more pairs of profiles and the only cost is the opportunity cost of asking a different question of the survey that may serve some higher scientific purpose. If you’re worried that respondents will get bored with the task, you can always throw out profile pairs that come later in the survey. <span class="citation">Bansak et al. (<a href="references.html#ref-bansak_hainmueller_hopkins_yamamoto_2019" role="doc-biblioref">2019</a>)</span> suggest that you can ask many pairs without much loss of data quality.</p>
<div id="declaration-6" class="section level3">
<h3>
<span class="header-section-number">15.3.1</span> Declaration<a class="anchor" aria-label="anchor" href="#declaration-6"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># applies the function to each pair</span>
<span class="va">Y_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">data</span> <span class="op">%&gt;%</span>
    <span class="fu">group_by</span><span class="op">(</span><span class="va">pair</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>Y <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">E</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">E</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="va">ungroup</span>
<span class="op">}</span>
<span class="va">design</span> <span class="op">&lt;-</span> 
  <span class="fu">declare_population</span><span class="op">(</span>
    subject <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span>N <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>,
    pair <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span>N <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,
    candidate <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span>N <span class="op">=</span> <span class="fl">2</span>, U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_assignment</span><span class="op">(</span>assignment_variable <span class="op">=</span> <span class="st">"A1"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_assignment</span><span class="op">(</span>assignment_variable <span class="op">=</span> <span class="st">"A2"</span>, 
                     conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"young"</span>, <span class="st">"middle"</span>, <span class="st">"old"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_assignment</span><span class="op">(</span>assignment_variable <span class="op">=</span> <span class="st">"A3"</span><span class="op">)</span>  <span class="op">+</span>
  <span class="fu">declare_step</span><span class="op">(</span>
    E <span class="op">=</span> 
      <span class="fl">0.05</span> <span class="op">*</span> <span class="va">A1</span> <span class="op">+</span> 
      <span class="fl">0.04</span> <span class="op">*</span> <span class="op">(</span><span class="va">A2</span> <span class="op">==</span> <span class="st">"middle"</span><span class="op">)</span> <span class="op">+</span> 
      <span class="fl">0.08</span> <span class="op">*</span> <span class="op">(</span><span class="va">A2</span> <span class="op">==</span> <span class="st">"old"</span><span class="op">)</span> <span class="op">+</span> 
      <span class="fl">0.02</span> <span class="op">*</span> <span class="va">A3</span> <span class="op">+</span> <span class="va">U</span>,
    handler <span class="op">=</span> <span class="va">fabricate</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_measurement</span><span class="op">(</span>handler <span class="op">=</span> <span class="va">Y_function</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">A1</span> <span class="op">+</span> <span class="va">A2</span> <span class="op">+</span> <span class="va">A3</span>,
                    model <span class="op">=</span> <span class="va">lm_robust</span>, term <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div id="dag-5" class="section level3">
<h3>
<span class="header-section-number">15.3.2</span> DAG<a class="anchor" aria-label="anchor" href="#dag-5"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-figure"><img src="book_files/figure-html/unnamed-chunk-235-1.svg" width="100%"></div>
</div>
<div id="example-3" class="section level3">
<h3>
<span class="header-section-number">15.3.3</span> Example<a class="anchor" aria-label="anchor" href="#example-3"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="further-reading-7" class="section level3">
<h3>
<span class="header-section-number">15.3.4</span> Further reading<a class="anchor" aria-label="anchor" href="#further-reading-7"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><span class="citation">Hainmueller, Hopkins, and Yamamoto (<a href="references.html#ref-Hainmueller2014" role="doc-biblioref">2014</a>)</span></li>
<li><span class="citation">Bansak et al. (<a href="references.html#ref-bansak_hainmueller_hopkins_yamamoto_2019" role="doc-biblioref">2019</a>)</span></li>
</ul>
<!-- note do_bookdown is set in index.rmd, so we know if you're running just this .Rmd or compiling the book--><!-- start post here, do not edit above --><!-- make sure to rename the section title below -->
</div>
</div>
<div id="behavioral-games" class="section level2">
<h2>
<span class="header-section-number">15.4</span> Behavioral games<a class="anchor" aria-label="anchor" href="#behavioral-games"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>What behavioral game would be the most informative to demonstrate here?</li>
</ul>
<div id="declaration-7" class="section level3">
<h3>
<span class="header-section-number">15.4.1</span> Declaration<a class="anchor" aria-label="anchor" href="#declaration-7"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">design</span> <span class="op">&lt;-</span>
  <span class="fu">declare_population</span><span class="op">(</span>
    games <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span>N <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,
    players <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span>
      N <span class="op">=</span> <span class="fl">2</span>,
      prosociality <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,
      fairness <span class="op">=</span> <span class="va">prosociality</span>,
      cutoff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span><span class="op">(</span><span class="va">prosociality</span> <span class="op">-</span> <span class="fl">0.25</span>, <span class="fl">0</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimand</span><span class="op">(</span>mean_fairness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">fairness</span><span class="op">)</span>,
                   mean_cutoff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">cutoff</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_assignment</span><span class="op">(</span>
    blocks <span class="op">=</span> <span class="va">games</span>, 
    conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"proposer"</span>, <span class="st">"responder"</span><span class="op">)</span>,
    assignment_variable <span class="op">=</span> <span class="st">"role"</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_step</span><span class="op">(</span>
    id_cols <span class="op">=</span> <span class="va">games</span>, 
    names_from <span class="op">=</span> <span class="va">role</span>, 
    values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">prosociality</span>, <span class="va">fairness</span>, <span class="va">cutoff</span><span class="op">)</span>, 
    handler <span class="op">=</span> <span class="va">pivot_wider</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_measurement</span><span class="op">(</span>
    proposal <span class="op">=</span> <span class="va">fairness_proposer</span> <span class="op">*</span> <span class="fl">0.5</span>, 
    response <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">proposal</span> <span class="op">&gt;=</span> <span class="va">cutoff_responder</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">proposal</span> <span class="op">~</span> <span class="fl">1</span>,
                    model <span class="op">=</span> <span class="va">lm_robust</span>,
                    estimand <span class="op">=</span> <span class="st">"mean_fairness"</span>,
                    label <span class="op">=</span> <span class="st">"mean_fairness"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">response</span> <span class="op">~</span> <span class="fl">1</span>,
                    model <span class="op">=</span> <span class="va">lm_robust</span>,
                    estimand <span class="op">=</span> <span class="st">"mean_cutoff"</span>,
                    label <span class="op">=</span> <span class="st">"mean_cutoff"</span><span class="op">)</span></code></pre></div>
</div>
<div id="dag-6" class="section level3">
<h3>
<span class="header-section-number">15.4.2</span> DAG<a class="anchor" aria-label="anchor" href="#dag-6"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-figure"><img src="book_files/figure-html/unnamed-chunk-242-1.svg" width="100%"></div>
</div>
<div id="example-4" class="section level3">
<h3>
<span class="header-section-number">15.4.3</span> Example<a class="anchor" aria-label="anchor" href="#example-4"><i class="fas fa-link"></i></a>
</h3>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="observational-designs-for-descriptive-inference.html"><span class="header-section-number">14</span> Observational designs for descriptive inference</a></div>
<div class="next"><a href="observational-designs-for-causal-inference.html"><span class="header-section-number">16</span> Observational designs for causal inference</a></div>
</div></main><div id="on-this-page-nav" class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#experimental-designs-for-descriptive-inference"><span class="header-section-number">15</span> Experimental designs for descriptive inference</a></li>
<li>
<a class="nav-link" href="#audit-experiments"><span class="header-section-number">15.1</span> Audit experiments</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#declaration-4"><span class="header-section-number">15.1.1</span> Declaration</a></li>
<li><a class="nav-link" href="#dag-3"><span class="header-section-number">15.1.2</span> DAG</a></li>
<li><a class="nav-link" href="#takeaways"><span class="header-section-number">15.1.3</span> Takeaways</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#list-experiments"><span class="header-section-number">15.2</span> List experiments</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#declaration-5"><span class="header-section-number">15.2.1</span> Declaration</a></li>
<li><a class="nav-link" href="#dag-4"><span class="header-section-number">15.2.2</span> DAG</a></li>
<li><a class="nav-link" href="#diagnosis-2"><span class="header-section-number">15.2.3</span> Diagnosis</a></li>
<li><a class="nav-link" href="#assumption-violations"><span class="header-section-number">15.2.4</span> Assumption violations</a></li>
<li><a class="nav-link" href="#redesign-3"><span class="header-section-number">15.2.5</span> Redesign</a></li>
<li><a class="nav-link" href="#related-designs"><span class="header-section-number">15.2.6</span> Related designs</a></li>
<li><a class="nav-link" href="#further-readings"><span class="header-section-number">15.2.7</span> Further readings</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#conjoint-experiments"><span class="header-section-number">15.3</span> Conjoint experiments</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#declaration-6"><span class="header-section-number">15.3.1</span> Declaration</a></li>
<li><a class="nav-link" href="#dag-5"><span class="header-section-number">15.3.2</span> DAG</a></li>
<li><a class="nav-link" href="#example-3"><span class="header-section-number">15.3.3</span> Example</a></li>
<li><a class="nav-link" href="#further-reading-7"><span class="header-section-number">15.3.4</span> Further reading</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#behavioral-games"><span class="header-section-number">15.4</span> Behavioral games</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#declaration-7"><span class="header-section-number">15.4.1</span> Declaration</a></li>
<li><a class="nav-link" href="#dag-6"><span class="header-section-number">15.4.2</span> DAG</a></li>
<li><a class="nav-link" href="#example-4"><span class="header-section-number">15.4.3</span> Example</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="download-code" href="./experimental-designs-for-descriptive-inference.R"><i class="far fa-file-code"></i> Download R code</a></li>
          
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Research Design: Declare, Diagnose, Redesign</strong>" was written by Graeme Blair, Alexander Coppock, and Macartan Humphreys. </p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
