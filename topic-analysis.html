<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>32.6 Topic analysis | Research Design: Declare, Diagnose, Redesign</title>
  <meta name="description" content="describe the book" />
  <meta name="generator" content="bookdown 0.13.2 and GitBook 2.6.7" />

  <meta property="og:title" content="32.6 Topic analysis | Research Design: Declare, Diagnose, Redesign" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="describe the book" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="32.6 Topic analysis | Research Design: Declare, Diagnose, Redesign" />
  
  <meta name="twitter:description" content="describe the book" />
  

<meta name="author" content="Graeme Blair, Jasper Cooper, Alexander Coppock, and Macartan Humphreys" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="measuring-latent-variables.html"/>
<link rel="next" href="multilevel-regression-and-poststratification.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="https://hypothes.is/embed.js" async></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="headers/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Declaring and Diagnosing Research Designs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="part-a-introduction-to-design-declaration-and-diagnosis.html"><a href="part-a-introduction-to-design-declaration-and-diagnosis.html"><i class="fa fa-check"></i><b>2</b> Part A: Introduction to Design Declaration and Diagnosis</a></li>
<li class="chapter" data-level="3" data-path="part-b-a-guide-to-declaration.html"><a href="part-b-a-guide-to-declaration.html"><i class="fa fa-check"></i><b>3</b> Part B: A Guide to Declaration</a><ul>
<li class="chapter" data-level="3.1" data-path="starting-a-new-research-project-do-we-need-this-section-jc.html"><a href="starting-a-new-research-project-do-we-need-this-section-jc.html"><i class="fa fa-check"></i><b>3.1</b> Starting a new research project [<strong>Do we need this section?</strong> â€“ JC]</a></li>
<li class="chapter" data-level="3.2" data-path="kinds-of-research-projects-that-there-are-ac-jc.html"><a href="kinds-of-research-projects-that-there-are-ac-jc.html"><i class="fa fa-check"></i><b>3.2</b> Kinds of research projects that there are [AC] [JC]</a></li>
<li class="chapter" data-level="3.3" data-path="is-your-research-question-good-gb.html"><a href="is-your-research-question-good-gb.html"><i class="fa fa-check"></i><b>3.3</b> Is your research question good? [GB]</a></li>
<li class="chapter" data-level="3.4" data-path="specifying-the-model-jc.html"><a href="specifying-the-model-jc.html"><i class="fa fa-check"></i><b>3.4</b> Specifying the model [JC]</a></li>
<li class="chapter" data-level="3.5" data-path="defining-the-inquiry.html"><a href="defining-the-inquiry.html"><i class="fa fa-check"></i><b>3.5</b> Defining the Inquiry</a></li>
<li class="chapter" data-level="3.6" data-path="crafting-a-data-strategy-ac.html"><a href="crafting-a-data-strategy-ac.html"><i class="fa fa-check"></i><b>3.6</b> Crafting a Data Strategy [AC]</a></li>
<li class="chapter" data-level="3.7" data-path="choosing-an-answer-strategy-jc.html"><a href="choosing-an-answer-strategy-jc.html"><i class="fa fa-check"></i><b>3.7</b> Choosing an Answer Strategy [JC]</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="part-c-a-guide-to-diagnosis.html"><a href="part-c-a-guide-to-diagnosis.html"><i class="fa fa-check"></i><b>4</b> Part C: A Guide to Diagnosis</a><ul>
<li class="chapter" data-level="4.1" data-path="kinds-of-diagnosands-that-there-are-jc.html"><a href="kinds-of-diagnosands-that-there-are-jc.html"><i class="fa fa-check"></i><b>4.1</b> Kinds of diagnosands that there are [JC]</a></li>
<li class="chapter" data-level="4.2" data-path="what-should-you-diagnose-your-design-against-gb.html"><a href="what-should-you-diagnose-your-design-against-gb.html"><i class="fa fa-check"></i><b>4.2</b> What should you diagnose your design against? [GB]</a></li>
<li class="chapter" data-level="4.3" data-path="redesign-mh.html"><a href="redesign-mh.html"><i class="fa fa-check"></i><b>4.3</b> Redesign [MH]</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="part-d-putting-design-declaration-to-work.html"><a href="part-d-putting-design-declaration-to-work.html"><i class="fa fa-check"></i><b>5</b> Part D: Putting Design Declaration to Work</a><ul>
<li class="chapter" data-level="5.1" data-path="distributed-research.html"><a href="distributed-research.html"><i class="fa fa-check"></i><b>5.1</b> Distributed Research</a></li>
<li class="chapter" data-level="5.2" data-path="registration.html"><a href="registration.html"><i class="fa fa-check"></i><b>5.2</b> Registration</a></li>
<li class="chapter" data-level="5.3" data-path="library.html"><a href="library.html"><i class="fa fa-check"></i><b>5.3</b> Library</a></li>
<li class="chapter" data-level="5.4" data-path="design-criticism.html"><a href="design-criticism.html"><i class="fa fa-check"></i><b>5.4</b> Design Criticism</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="part-e-design-library.html"><a href="part-e-design-library.html"><i class="fa fa-check"></i><b>6</b> Part E: Design Library</a><ul>
<li class="chapter" data-level="6.1" data-path="observational-designs-for-descriptive-inference.html"><a href="observational-designs-for-descriptive-inference.html"><i class="fa fa-check"></i><b>6.1</b> Observational designs for descriptive inference</a></li>
<li class="chapter" data-level="6.2" data-path="experimental-designs-for-descriptive-inference.html"><a href="experimental-designs-for-descriptive-inference.html"><i class="fa fa-check"></i><b>6.2</b> Experimental designs for descriptive inference</a></li>
<li class="chapter" data-level="6.3" data-path="experimental-designs-for-causal-inference.html"><a href="experimental-designs-for-causal-inference.html"><i class="fa fa-check"></i><b>6.3</b> Experimental designs for causal inference</a></li>
<li class="chapter" data-level="6.4" data-path="observational-designs-for-causal-inference.html"><a href="observational-designs-for-causal-inference.html"><i class="fa fa-check"></i><b>6.4</b> Observational designs for causal inference</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ideas-we-dont-know-if-to-cut-or-integrate-or-what.html"><a href="ideas-we-dont-know-if-to-cut-or-integrate-or-what.html"><i class="fa fa-check"></i><b>7</b> IDEAs we donâ€™t know if to cut or integrate or what</a></li>
<li class="chapter" data-level="8" data-path="designs-brainstorm.html"><a href="designs-brainstorm.html"><i class="fa fa-check"></i><b>8</b> Designs brainstorm:</a></li>
<li class="chapter" data-level="9" data-path="introduction-to-design-declaration-and-diagnosis.html"><a href="introduction-to-design-declaration-and-diagnosis.html"><i class="fa fa-check"></i><b>9</b> Introduction to Design Declaration and Diagnosis</a><ul>
<li class="chapter" data-level="9.1" data-path="preamble-high-level-overview.html"><a href="preamble-high-level-overview.html"><i class="fa fa-check"></i><b>9.1</b> Preamble (high level overview)</a></li>
<li class="chapter" data-level="9.2" data-path="mida.html"><a href="mida.html"><i class="fa fa-check"></i><b>9.2</b> MIDA</a></li>
<li class="chapter" data-level="9.3" data-path="putting-designs-to-use.html"><a href="putting-designs-to-use.html"><i class="fa fa-check"></i><b>9.3</b> Putting designs to use</a><ul>
<li class="chapter" data-level="9.3.1" data-path="putting-designs-to-use.html"><a href="putting-designs-to-use.html#before"><i class="fa fa-check"></i><b>9.3.1</b> Before</a></li>
<li class="chapter" data-level="9.3.2" data-path="putting-designs-to-use.html"><a href="putting-designs-to-use.html#after"><i class="fa fa-check"></i><b>9.3.2</b> After</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="software-primer-gb.html"><a href="software-primer-gb.html"><i class="fa fa-check"></i><b>9.4</b> Software primer [GB]</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="a-guide-to-declaration-and-diagnosis-in-practice.html"><a href="a-guide-to-declaration-and-diagnosis-in-practice.html"><i class="fa fa-check"></i><b>10</b> A Guide to Declaration and Diagnosis in Practice</a><ul>
<li class="chapter" data-level="10.1" data-path="research-questions.html"><a href="research-questions.html"><i class="fa fa-check"></i><b>10.1</b> Research questions</a><ul>
<li class="chapter" data-level="10.1.1" data-path="research-questions.html"><a href="research-questions.html#what-is-your-research-question-ac"><i class="fa fa-check"></i><b>10.1.1</b> What is your research question [AC]</a></li>
<li class="chapter" data-level="10.1.2" data-path="research-questions.html"><a href="research-questions.html#is-your-research-question-good-gb-1"><i class="fa fa-check"></i><b>10.1.2</b> Is your research question good? [GB]</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="specifying-the-model-jc-10p.html"><a href="specifying-the-model-jc-10p.html"><i class="fa fa-check"></i><b>10.2</b> Specifying the model [JC 10p]</a></li>
<li class="chapter" data-level="10.3" data-path="defining-the-inquiry-mh.html"><a href="defining-the-inquiry-mh.html"><i class="fa fa-check"></i><b>10.3</b> Defining the Inquiry [MH]</a></li>
<li class="chapter" data-level="10.4" data-path="crafting-a-data-strategy-ac-1.html"><a href="crafting-a-data-strategy-ac-1.html"><i class="fa fa-check"></i><b>10.4</b> Crafting a Data Strategy [AC]</a><ul>
<li class="chapter" data-level="10.4.1" data-path="crafting-a-data-strategy-ac-1.html"><a href="crafting-a-data-strategy-ac-1.html#sampling"><i class="fa fa-check"></i><b>10.4.1</b> Sampling</a></li>
<li class="chapter" data-level="10.4.2" data-path="crafting-a-data-strategy-ac-1.html"><a href="crafting-a-data-strategy-ac-1.html#assignment"><i class="fa fa-check"></i><b>10.4.2</b> Assignment</a></li>
<li class="chapter" data-level="10.4.3" data-path="crafting-a-data-strategy-ac-1.html"><a href="crafting-a-data-strategy-ac-1.html#measurement"><i class="fa fa-check"></i><b>10.4.3</b> Measurement</a></li>
<li class="chapter" data-level="10.4.4" data-path="crafting-a-data-strategy-ac-1.html"><a href="crafting-a-data-strategy-ac-1.html#ethics"><i class="fa fa-check"></i><b>10.4.4</b> Ethics</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="choosing-an-answer-strategy-gb.html"><a href="choosing-an-answer-strategy-gb.html"><i class="fa fa-check"></i><b>10.5</b> Choosing an Answer Strategy [GB]</a></li>
<li class="chapter" data-level="10.6" data-path="diagnosis.html"><a href="diagnosis.html"><i class="fa fa-check"></i><b>10.6</b> Diagnosis</a><ul>
<li class="chapter" data-level="10.6.1" data-path="diagnosis.html"><a href="diagnosis.html#diagnosing-a-single-design-single-design-single-diagnosand"><i class="fa fa-check"></i><b>10.6.1</b> Diagnosing a single design (single design, single diagnosand)</a></li>
<li class="chapter" data-level="10.6.2" data-path="diagnosis.html"><a href="diagnosis.html#how-do-you-select-diagnosands-jc-8p"><i class="fa fa-check"></i><b>10.6.2</b> How do you select diagnosands? [JC 8p]</a></li>
<li class="chapter" data-level="10.6.3" data-path="diagnosis.html"><a href="diagnosis.html#diagnosis-to-assess-the-robustness-of-designs-to-models-gb"><i class="fa fa-check"></i><b>10.6.3</b> Diagnosis to assess the robustness of designs to models [GB]</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="redesign-mh-1.html"><a href="redesign-mh-1.html"><i class="fa fa-check"></i><b>10.7</b> Redesign [MH]</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="design-library.html"><a href="design-library.html"><i class="fa fa-check"></i><b>11</b> Design Library</a><ul>
<li class="chapter" data-level="11.1" data-path="observational-designs-for-descriptive-inference-1.html"><a href="observational-designs-for-descriptive-inference-1.html"><i class="fa fa-check"></i><b>11.1</b> Observational designs for descriptive inference</a></li>
<li class="chapter" data-level="11.2" data-path="experimental-designs-for-descriptive-inference-1.html"><a href="experimental-designs-for-descriptive-inference-1.html"><i class="fa fa-check"></i><b>11.2</b> Experimental designs for descriptive inference</a></li>
<li class="chapter" data-level="11.3" data-path="experimental-designs-for-causal-inference-1.html"><a href="experimental-designs-for-causal-inference-1.html"><i class="fa fa-check"></i><b>11.3</b> Experimental designs for causal inference</a></li>
<li class="chapter" data-level="11.4" data-path="observational-designs-for-causal-inference-1.html"><a href="observational-designs-for-causal-inference-1.html"><i class="fa fa-check"></i><b>11.4</b> Observational designs for causal inference</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>12</b> Conclusion</a></li>
<li class="chapter" data-level="13" data-path="designs-brainstorm-1.html"><a href="designs-brainstorm-1.html"><i class="fa fa-check"></i><b>13</b> Designs brainstorm</a></li>
<li class="chapter" data-level="14" data-path="introduction-to-design-declaration-and-diagnosis-1.html"><a href="introduction-to-design-declaration-and-diagnosis-1.html"><i class="fa fa-check"></i><b>14</b> Introduction to Design Declaration and Diagnosis</a><ul>
<li class="chapter" data-level="14.1" data-path="preamble-high-level-overview-1.html"><a href="preamble-high-level-overview-1.html"><i class="fa fa-check"></i><b>14.1</b> Preamble (high level overview)</a></li>
<li class="chapter" data-level="14.2" data-path="mida-1.html"><a href="mida-1.html"><i class="fa fa-check"></i><b>14.2</b> MIDA</a></li>
<li class="chapter" data-level="14.3" data-path="putting-designs-to-use-1.html"><a href="putting-designs-to-use-1.html"><i class="fa fa-check"></i><b>14.3</b> Putting designs to use</a><ul>
<li class="chapter" data-level="14.3.1" data-path="putting-designs-to-use-1.html"><a href="putting-designs-to-use-1.html#before-1"><i class="fa fa-check"></i><b>14.3.1</b> Before</a></li>
<li class="chapter" data-level="14.3.2" data-path="putting-designs-to-use-1.html"><a href="putting-designs-to-use-1.html#after-1"><i class="fa fa-check"></i><b>14.3.2</b> After</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="software-primer-gb-1.html"><a href="software-primer-gb-1.html"><i class="fa fa-check"></i><b>14.4</b> Software primer [GB]</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="a-guide-to-declaration-and-diagnosis-in-practice-1.html"><a href="a-guide-to-declaration-and-diagnosis-in-practice-1.html"><i class="fa fa-check"></i><b>15</b> A Guide to Declaration and Diagnosis in Practice</a><ul>
<li class="chapter" data-level="15.1" data-path="research-questions-1.html"><a href="research-questions-1.html"><i class="fa fa-check"></i><b>15.1</b> Research questions</a><ul>
<li class="chapter" data-level="15.1.1" data-path="research-questions-1.html"><a href="research-questions-1.html#what-is-your-research-question-ac-1"><i class="fa fa-check"></i><b>15.1.1</b> What is your research question [AC]</a></li>
<li class="chapter" data-level="15.1.2" data-path="research-questions-1.html"><a href="research-questions-1.html#is-your-research-question-good-gb-2"><i class="fa fa-check"></i><b>15.1.2</b> Is your research question good? [GB]</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="specifying-the-model-jc-10p-1.html"><a href="specifying-the-model-jc-10p-1.html"><i class="fa fa-check"></i><b>15.2</b> Specifying the model [JC 10p]</a></li>
<li class="chapter" data-level="15.3" data-path="defining-the-inquiry-mh-1.html"><a href="defining-the-inquiry-mh-1.html"><i class="fa fa-check"></i><b>15.3</b> Defining the Inquiry [MH]</a></li>
<li class="chapter" data-level="15.4" data-path="crafting-a-data-strategy-ac-2.html"><a href="crafting-a-data-strategy-ac-2.html"><i class="fa fa-check"></i><b>15.4</b> Crafting a Data Strategy [AC]</a><ul>
<li class="chapter" data-level="15.4.1" data-path="crafting-a-data-strategy-ac-2.html"><a href="crafting-a-data-strategy-ac-2.html#sampling-1"><i class="fa fa-check"></i><b>15.4.1</b> Sampling</a></li>
<li class="chapter" data-level="15.4.2" data-path="crafting-a-data-strategy-ac-2.html"><a href="crafting-a-data-strategy-ac-2.html#assignment-1"><i class="fa fa-check"></i><b>15.4.2</b> Assignment</a></li>
<li class="chapter" data-level="15.4.3" data-path="crafting-a-data-strategy-ac-2.html"><a href="crafting-a-data-strategy-ac-2.html#measurement-1"><i class="fa fa-check"></i><b>15.4.3</b> Measurement</a></li>
<li class="chapter" data-level="15.4.4" data-path="crafting-a-data-strategy-ac-2.html"><a href="crafting-a-data-strategy-ac-2.html#ethics-1"><i class="fa fa-check"></i><b>15.4.4</b> Ethics</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="choosing-an-answer-strategy-gb-1.html"><a href="choosing-an-answer-strategy-gb-1.html"><i class="fa fa-check"></i><b>15.5</b> Choosing an Answer Strategy [GB]</a></li>
<li class="chapter" data-level="15.6" data-path="diagnosis-1.html"><a href="diagnosis-1.html"><i class="fa fa-check"></i><b>15.6</b> Diagnosis</a><ul>
<li class="chapter" data-level="15.6.1" data-path="diagnosis-1.html"><a href="diagnosis-1.html#diagnosing-a-single-design-single-design-single-diagnosand-1"><i class="fa fa-check"></i><b>15.6.1</b> Diagnosing a single design (single design, single diagnosand)</a></li>
<li class="chapter" data-level="15.6.2" data-path="diagnosis-1.html"><a href="diagnosis-1.html#how-do-you-select-diagnosands-jc-8p-1"><i class="fa fa-check"></i><b>15.6.2</b> How do you select diagnosands? [JC 8p]</a></li>
<li class="chapter" data-level="15.6.3" data-path="diagnosis-1.html"><a href="diagnosis-1.html#diagnosis-to-assess-the-robustness-of-designs-to-models-gb-1"><i class="fa fa-check"></i><b>15.6.3</b> Diagnosis to assess the robustness of designs to models [GB]</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="redesign-mh-2.html"><a href="redesign-mh-2.html"><i class="fa fa-check"></i><b>15.7</b> Redesign [MH]</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="design-library-1.html"><a href="design-library-1.html"><i class="fa fa-check"></i><b>16</b> Design Library</a><ul>
<li class="chapter" data-level="16.1" data-path="observational-designs-for-descriptive-inference-2.html"><a href="observational-designs-for-descriptive-inference-2.html"><i class="fa fa-check"></i><b>16.1</b> Observational designs for descriptive inference</a></li>
<li class="chapter" data-level="16.2" data-path="experimental-designs-for-descriptive-inference-2.html"><a href="experimental-designs-for-descriptive-inference-2.html"><i class="fa fa-check"></i><b>16.2</b> Experimental designs for descriptive inference</a></li>
<li class="chapter" data-level="16.3" data-path="experimental-designs-for-causal-inference-2.html"><a href="experimental-designs-for-causal-inference-2.html"><i class="fa fa-check"></i><b>16.3</b> Experimental designs for causal inference</a></li>
<li class="chapter" data-level="16.4" data-path="observational-designs-for-causal-inference-2.html"><a href="observational-designs-for-causal-inference-2.html"><i class="fa fa-check"></i><b>16.4</b> Observational designs for causal inference</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="conclusion-1.html"><a href="conclusion-1.html"><i class="fa fa-check"></i><b>17</b> Conclusion</a></li>
<li class="chapter" data-level="18" data-path="designs-brainstorm-2.html"><a href="designs-brainstorm-2.html"><i class="fa fa-check"></i><b>18</b> Designs brainstorm</a></li>
<li class="part"><span><b>I Introduction to Design Declaration and Diagnosis</b></span></li>
<li class="chapter" data-level="19" data-path="mida-2.html"><a href="mida-2.html"><i class="fa fa-check"></i><b>19</b> MIDA</a><ul>
<li class="chapter" data-level="19.1" data-path="elements-of-a-research-design.html"><a href="elements-of-a-research-design.html"><i class="fa fa-check"></i><b>19.1</b> Elements of a Research Design</a></li>
<li class="chapter" data-level="19.2" data-path="using-diagnosands-to-evaluate-a-design.html"><a href="using-diagnosands-to-evaluate-a-design.html"><i class="fa fa-check"></i><b>19.2</b> Using diagnosands to evaluate a design</a></li>
<li class="chapter" data-level="19.3" data-path="what-is-a-complete-design-declaration.html"><a href="what-is-a-complete-design-declaration.html"><i class="fa fa-check"></i><b>19.3</b> What is a <em>Complete</em> Design Declaration?</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html"><i class="fa fa-check"></i><b>20</b> How to Use This Book</a><ul>
<li class="chapter" data-level="20.1" data-path="software-primer.html"><a href="software-primer.html"><i class="fa fa-check"></i><b>20.1</b> Software Primer</a></li>
</ul></li>
<li class="part"><span><b>II Declaration in Practice</b></span></li>
<li class="chapter" data-level="21" data-path="what-is-your-research-question.html"><a href="what-is-your-research-question.html"><i class="fa fa-check"></i><b>21</b> What is your research question?</a><ul>
<li class="chapter" data-level="21.1" data-path="topics-versus-questions.html"><a href="topics-versus-questions.html"><i class="fa fa-check"></i><b>21.1</b> Topics versus Questions</a></li>
<li class="chapter" data-level="21.2" data-path="causal-versus-descriptive-questions.html"><a href="causal-versus-descriptive-questions.html"><i class="fa fa-check"></i><b>21.2</b> Causal versus Descriptive Questions</a></li>
<li class="chapter" data-level="21.3" data-path="types-of-causal-questions.html"><a href="types-of-causal-questions.html"><i class="fa fa-check"></i><b>21.3</b> Types of Causal Questions</a></li>
<li class="chapter" data-level="21.4" data-path="is-your-research-question-good.html"><a href="is-your-research-question-good.html"><i class="fa fa-check"></i><b>21.4</b> Is your research question good?</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="specifying-the-model.html"><a href="specifying-the-model.html"><i class="fa fa-check"></i><b>22</b> Specifying the model</a></li>
<li class="chapter" data-level="23" data-path="defining-the-inquiry-1.html"><a href="defining-the-inquiry-1.html"><i class="fa fa-check"></i><b>23</b> Defining the Inquiry</a></li>
<li class="chapter" data-level="24" data-path="crafting-a-data-strategy.html"><a href="crafting-a-data-strategy.html"><i class="fa fa-check"></i><b>24</b> Crafting a Data Strategy</a></li>
<li class="chapter" data-level="25" data-path="choosing-an-answer-strategy.html"><a href="choosing-an-answer-strategy.html"><i class="fa fa-check"></i><b>25</b> Choosing an Answer Strategy</a></li>
<li class="part"><span><b>III Diagnosis in Practice</b></span></li>
<li class="chapter" data-level="26" data-path="kinds-of-diagnosands-that-there-are.html"><a href="kinds-of-diagnosands-that-there-are.html"><i class="fa fa-check"></i><b>26</b> Kinds of diagnosands that there are</a></li>
<li class="chapter" data-level="27" data-path="what-parameters-should-you-vary-to-learn-about-designs.html"><a href="what-parameters-should-you-vary-to-learn-about-designs.html"><i class="fa fa-check"></i><b>27</b> What parameters should you vary to learn about designs</a></li>
<li class="chapter" data-level="28" data-path="redesign.html"><a href="redesign.html"><i class="fa fa-check"></i><b>28</b> Redesign</a></li>
<li class="part"><span><b>IV Putting Designs to Use</b></span></li>
<li class="chapter" data-level="29" data-path="before-the-study.html"><a href="before-the-study.html"><i class="fa fa-check"></i><b>29</b> Before the Study</a><ul>
<li class="chapter" data-level="29.1" data-path="pre-analysis-plans.html"><a href="pre-analysis-plans.html"><i class="fa fa-check"></i><b>29.1</b> Pre-Analysis Plans</a></li>
<li class="chapter" data-level="29.2" data-path="registered-reports.html"><a href="registered-reports.html"><i class="fa fa-check"></i><b>29.2</b> Registered Reports</a></li>
<li class="chapter" data-level="29.3" data-path="standard-operating-procedures.html"><a href="standard-operating-procedures.html"><i class="fa fa-check"></i><b>29.3</b> Standard Operating Procedures</a></li>
<li class="chapter" data-level="29.4" data-path="evaluating-and-supporting-research.html"><a href="evaluating-and-supporting-research.html"><i class="fa fa-check"></i><b>29.4</b> Evaluating and Supporting Research</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="after-the-study.html"><a href="after-the-study.html"><i class="fa fa-check"></i><b>30</b> After the Study</a><ul>
<li class="chapter" data-level="30.1" data-path="replication.html"><a href="replication.html"><i class="fa fa-check"></i><b>30.1</b> Replication</a></li>
<li class="chapter" data-level="30.2" data-path="combining-designs.html"><a href="combining-designs.html"><i class="fa fa-check"></i><b>30.2</b> Combining designs</a></li>
<li class="chapter" data-level="30.3" data-path="a-collection-of-designs-as-objects.html"><a href="a-collection-of-designs-as-objects.html"><i class="fa fa-check"></i><b>30.3</b> A Collection of Designs-as-Objects</a></li>
</ul></li>
<li class="part"><span><b>V Design Library</b></span></li>
<li class="chapter" data-level="31" data-path="design-library-2.html"><a href="design-library-2.html"><i class="fa fa-check"></i><b>31</b> Design Library</a></li>
<li class="chapter" data-level="32" data-path="observational-designs-for-descriptive-inference-3.html"><a href="observational-designs-for-descriptive-inference-3.html"><i class="fa fa-check"></i><b>32</b> Observational Designs for Descriptive Inference</a><ul>
<li class="chapter" data-level="32.1" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html"><i class="fa fa-check"></i><b>32.1</b> Simple Random Sampling</a><ul>
<li class="chapter" data-level="32.1.1" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#design-declaration"><i class="fa fa-check"></i><b>32.1.1</b> Design Declaration</a></li>
<li class="chapter" data-level="32.1.2" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#takeaways"><i class="fa fa-check"></i><b>32.1.2</b> Takeaways</a></li>
<li class="chapter" data-level="32.1.3" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#exercises"><i class="fa fa-check"></i><b>32.1.3</b> Exercises</a></li>
<li class="chapter" data-level="32.1.4" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#design-inspector"><i class="fa fa-check"></i><b>32.1.4</b> Design Inspector</a></li>
<li class="chapter" data-level="32.1.5" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#references"><i class="fa fa-check"></i><b>32.1.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="32.2" data-path="stratified-clustered-random-sampling.html"><a href="stratified-clustered-random-sampling.html"><i class="fa fa-check"></i><b>32.2</b> Stratified clustered random sampling</a><ul>
<li class="chapter" data-level="32.2.1" data-path="stratified-clustered-random-sampling.html"><a href="stratified-clustered-random-sampling.html#design-declaration-1"><i class="fa fa-check"></i><b>32.2.1</b> Design Declaration</a></li>
<li class="chapter" data-level="32.2.2" data-path="stratified-clustered-random-sampling.html"><a href="stratified-clustered-random-sampling.html#takeaways-1"><i class="fa fa-check"></i><b>32.2.2</b> Takeaways</a></li>
<li class="chapter" data-level="32.2.3" data-path="stratified-clustered-random-sampling.html"><a href="stratified-clustered-random-sampling.html#references-1"><i class="fa fa-check"></i><b>32.2.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="32.3" data-path="respondent-driven-sampling.html"><a href="respondent-driven-sampling.html"><i class="fa fa-check"></i><b>32.3</b> Respondent driven sampling</a></li>
<li class="chapter" data-level="32.4" data-path="sample-re-sample.html"><a href="sample-re-sample.html"><i class="fa fa-check"></i><b>32.4</b> Sample re-sample</a></li>
<li class="chapter" data-level="32.5" data-path="measuring-latent-variables.html"><a href="measuring-latent-variables.html"><i class="fa fa-check"></i><b>32.5</b> Measuring latent variables</a></li>
<li class="chapter" data-level="32.6" data-path="topic-analysis.html"><a href="topic-analysis.html"><i class="fa fa-check"></i><b>32.6</b> Topic analysis</a><ul>
<li class="chapter" data-level="32.6.1" data-path="topic-analysis.html"><a href="topic-analysis.html#references-2"><i class="fa fa-check"></i><b>32.6.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="32.7" data-path="multilevel-regression-and-poststratification.html"><a href="multilevel-regression-and-poststratification.html"><i class="fa fa-check"></i><b>32.7</b> Multilevel regression and poststratification</a></li>
<li class="chapter" data-level="32.8" data-path="section-title-in-sentence-case.html"><a href="section-title-in-sentence-case.html"><i class="fa fa-check"></i><b>32.8</b> Section title in sentence case</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="experimental-designs-for-descriptive-inference-3.html"><a href="experimental-designs-for-descriptive-inference-3.html"><i class="fa fa-check"></i><b>33</b> Experimental Designs for Descriptive Inference</a><ul>
<li class="chapter" data-level="33.1" data-path="audit-experiments.html"><a href="audit-experiments.html"><i class="fa fa-check"></i><b>33.1</b> Audit experiments</a></li>
<li class="chapter" data-level="33.2" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html"><i class="fa fa-check"></i><b>33.2</b> Experiments for sensitive questions</a><ul>
<li class="chapter" data-level="33.2.1" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#list-experiments"><i class="fa fa-check"></i><b>33.2.1</b> List experiments</a></li>
<li class="chapter" data-level="33.2.2" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#randomized-response-technique"><i class="fa fa-check"></i><b>33.2.2</b> Randomized response technique</a></li>
<li class="chapter" data-level="33.2.3" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#references-3"><i class="fa fa-check"></i><b>33.2.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="33.3" data-path="conjoint-experiments.html"><a href="conjoint-experiments.html"><i class="fa fa-check"></i><b>33.3</b> Conjoint experiments</a></li>
<li class="chapter" data-level="33.4" data-path="experimental-games.html"><a href="experimental-games.html"><i class="fa fa-check"></i><b>33.4</b> Experimental games</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="observational-designs-for-causal-inference-3.html"><a href="observational-designs-for-causal-inference-3.html"><i class="fa fa-check"></i><b>34</b> Observational Designs for causal inference</a><ul>
<li class="chapter" data-level="34.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html"><i class="fa fa-check"></i><b>34.1</b> Difference in differences</a></li>
<li class="chapter" data-level="34.2" data-path="matching.html"><a href="matching.html"><i class="fa fa-check"></i><b>34.2</b> Matching</a></li>
<li class="chapter" data-level="34.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html"><i class="fa fa-check"></i><b>34.3</b> Regression Discontinuity</a><ul>
<li class="chapter" data-level="34.3.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#design-declaration-2"><i class="fa fa-check"></i><b>34.3.1</b> Design Declaration</a></li>
<li class="chapter" data-level="34.3.2" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#takeaways-2"><i class="fa fa-check"></i><b>34.3.2</b> Takeaways</a></li>
<li class="chapter" data-level="34.3.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#further-reading"><i class="fa fa-check"></i><b>34.3.3</b> Further Reading</a></li>
<li class="chapter" data-level="34.3.4" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#exercises-1"><i class="fa fa-check"></i><b>34.3.4</b> Exercises</a></li>
<li class="chapter" data-level="34.3.5" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#references-4"><i class="fa fa-check"></i><b>34.3.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="34.4" data-path="synthetic-controls.html"><a href="synthetic-controls.html"><i class="fa fa-check"></i><b>34.4</b> Synthetic controls</a><ul>
<li class="chapter" data-level="34.4.1" data-path="synthetic-controls.html"><a href="synthetic-controls.html#references-5"><i class="fa fa-check"></i><b>34.4.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="34.5" data-path="cross-national-time-series.html"><a href="cross-national-time-series.html"><i class="fa fa-check"></i><b>34.5</b> Cross national time series</a></li>
<li class="chapter" data-level="34.6" data-path="qualtitative-comparative-analysis.html"><a href="qualtitative-comparative-analysis.html"><i class="fa fa-check"></i><b>34.6</b> Qualtitative Comparative Analysis</a></li>
<li class="chapter" data-level="34.7" data-path="process-tracing.html"><a href="process-tracing.html"><i class="fa fa-check"></i><b>34.7</b> Process tracing</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="experimental-designs-for-causal-inference-3.html"><a href="experimental-designs-for-causal-inference-3.html"><i class="fa fa-check"></i><b>35</b> Experimental Designs for Causal Inference</a><ul>
<li class="chapter" data-level="35.1" data-path="multiarm-designs.html"><a href="multiarm-designs.html"><i class="fa fa-check"></i><b>35.1</b> Multiarm designs</a></li>
<li class="chapter" data-level="35.2" data-path="experiments-with-blocks-and-clusters.html"><a href="experiments-with-blocks-and-clusters.html"><i class="fa fa-check"></i><b>35.2</b> Experiments with blocks and clusters</a></li>
<li class="chapter" data-level="35.3" data-path="factorial-designs.html"><a href="factorial-designs.html"><i class="fa fa-check"></i><b>35.3</b> Factorial designs</a></li>
<li class="chapter" data-level="35.4" data-path="encouragement-designs.html"><a href="encouragement-designs.html"><i class="fa fa-check"></i><b>35.4</b> Encouragement designs</a><ul>
<li class="chapter" data-level="35.4.1" data-path="encouragement-designs.html"><a href="encouragement-designs.html#references-6"><i class="fa fa-check"></i><b>35.4.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="35.5" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html"><i class="fa fa-check"></i><b>35.5</b> Stepped wedge designs</a></li>
<li class="chapter" data-level="35.6" data-path="crossover-designs.html"><a href="crossover-designs.html"><i class="fa fa-check"></i><b>35.6</b> Crossover designs</a></li>
<li class="chapter" data-level="35.7" data-path="parallel-design-for-mediation-effects.html"><a href="parallel-design-for-mediation-effects.html"><i class="fa fa-check"></i><b>35.7</b> Parallel design for mediation effects</a></li>
<li class="chapter" data-level="35.8" data-path="partial-population-design-for-spillover-analysis.html"><a href="partial-population-design-for-spillover-analysis.html"><i class="fa fa-check"></i><b>35.8</b> Partial population design for spillover analysis</a></li>
<li class="chapter" data-level="35.9" data-path="selective-trials.html"><a href="selective-trials.html"><i class="fa fa-check"></i><b>35.9</b> Selective trials</a></li>
<li class="chapter" data-level="35.10" data-path="adaptive-trials.html"><a href="adaptive-trials.html"><i class="fa fa-check"></i><b>35.10</b> Adaptive trials</a></li>
<li class="chapter" data-level="35.11" data-path="selective-trials-1.html"><a href="selective-trials-1.html"><i class="fa fa-check"></i><b>35.11</b> Selective trials</a><ul>
<li class="chapter" data-level="35.11.1" data-path="selective-trials-1.html"><a href="selective-trials-1.html#design-declaration-3"><i class="fa fa-check"></i><b>35.11.1</b> Design Declaration</a></li>
<li class="chapter" data-level="35.11.2" data-path="selective-trials-1.html"><a href="selective-trials-1.html#references-7"><i class="fa fa-check"></i><b>35.11.2</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-8.html"><a href="references-8.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://declaredesign.org" target="blank">DeclareDesign</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Research Design: Declare, Diagnose, Redesign</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="topic-analysis" class="section level2">
<h2><span class="header-section-number">32.6</span> Topic analysis</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">lda_tidy &lt;-<span class="st"> </span><span class="cf">function</span>(data, k, matrix) {</a>
<a class="sourceLine" id="cb11-2" title="2">  tdm &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">word =</span> <span class="kw">as.character</span>(word)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="st">    </span><span class="kw">group_by</span>(document, word) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="st">    </span>count <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="st">    </span>ungroup <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="st">    </span><span class="kw">cast_dtm</span>(document, word, n)</a>
<a class="sourceLine" id="cb11-8" title="8">  fit &lt;-<span class="st"> </span><span class="kw">LDA</span>(<span class="dt">x =</span> tdm, <span class="dt">k =</span> k)</a>
<a class="sourceLine" id="cb11-9" title="9">  <span class="kw">tidy</span>(fit, <span class="dt">matrix =</span> matrix) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="st">    </span><span class="kw">group_by</span>(topic) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="st">    </span><span class="kw">top_n</span>(<span class="dv">10</span>, beta) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="st">    </span><span class="kw">arrange</span>(<span class="op">-</span>beta) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">word_num =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="st">    </span>ungroup <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="st">    </span><span class="kw">arrange</span>(topic, <span class="op">-</span>beta) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>beta) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="st">    </span><span class="kw">spread</span>(word_num, term) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="st">    </span><span class="kw">unite</span>(top_<span class="dv">10</span>_words, <span class="st">`</span><span class="dt">1</span><span class="st">`</span><span class="op">:</span><span class="st">`</span><span class="dt">10</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="st">    </span><span class="kw">spread</span>(topic, top_<span class="dv">10</span>_words) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-20" title="20"><span class="st">    </span><span class="kw">rename</span>(<span class="dt">topic_1_top_10_words =</span> <span class="st">`</span><span class="dt">1</span><span class="st">`</span>, <span class="dt">topic_2_top_10_words =</span> <span class="st">`</span><span class="dt">2</span><span class="st">`</span>)</a>
<a class="sourceLine" id="cb11-21" title="21">}</a>
<a class="sourceLine" id="cb11-22" title="22"></a>
<a class="sourceLine" id="cb11-23" title="23">laws &lt;-<span class="st"> </span><span class="kw">gutenberg_download</span>(<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">17150</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-24" title="24"><span class="st">  </span><span class="kw">group_by</span>(gutenberg_id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-25" title="25"><span class="st">  </span><span class="kw">slice</span>(<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-26" title="26"><span class="st">  </span>ungroup <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-27" title="27"><span class="st">  </span><span class="kw">unnest_tokens</span>(word, text) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-28" title="28"><span class="st">  </span><span class="kw">anti_join</span>(stop_words)</a>
<a class="sourceLine" id="cb11-29" title="29"></a>
<a class="sourceLine" id="cb11-30" title="30">topic_probs &lt;-<span class="st"> </span>laws <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-31" title="31"><span class="st">  </span><span class="kw">group_by</span>(gutenberg_id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-32" title="32"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">topic_n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-33" title="33"><span class="st">  </span><span class="kw">group_by</span>(gutenberg_id, word) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-34" title="34"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">topic_n =</span> <span class="kw">unique</span>(topic_n), <span class="dt">word_count =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb11-35" title="35">            <span class="dt">word_prob =</span> word_count <span class="op">/</span><span class="st"> </span>topic_n) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-36" title="36"><span class="st">  </span>ungroup</a>
<a class="sourceLine" id="cb11-37" title="37">  </a>
<a class="sourceLine" id="cb11-38" title="38">topic_probs &lt;-<span class="st"> </span>topic_probs <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-39" title="39"><span class="st">  </span><span class="kw">expand</span>(gutenberg_id, word) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-40" title="40"><span class="st">  </span><span class="kw">left_join</span>(topic_probs) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-41" title="41"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(gutenberg_id, word, word_prob) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-42" title="42"><span class="st">  </span><span class="kw">spread</span>(gutenberg_id, word_prob) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-43" title="43"><span class="st">  </span><span class="kw">rename</span>(<span class="dt">pr_topic_1 =</span> <span class="st">`</span><span class="dt">2</span><span class="st">`</span>,</a>
<a class="sourceLine" id="cb11-44" title="44">         <span class="dt">pr_topic_2 =</span> <span class="st">`</span><span class="dt">17150</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-45" title="45"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pr_topic_1 =</span> <span class="kw">replace_na</span>(pr_topic_<span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb11-46" title="46">         <span class="dt">pr_topic_2 =</span> <span class="kw">replace_na</span>(pr_topic_<span class="dv">2</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb11-47" title="47"></a>
<a class="sourceLine" id="cb11-48" title="48">corpus &lt;-<span class="st"> </span>topic_probs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(word)</a>
<a class="sourceLine" id="cb11-49" title="49">topic_<span class="dv">1</span>_prob &lt;-<span class="st"> </span>topic_probs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(pr_topic_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb11-50" title="50">topic_<span class="dv">2</span>_prob &lt;-<span class="st"> </span>topic_probs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(pr_topic_<span class="dv">2</span>)</a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">N_documents &lt;-<span class="st"> </span><span class="dv">50</span></a>
<a class="sourceLine" id="cb12-2" title="2">N_topics    &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb12-3" title="3"></a>
<a class="sourceLine" id="cb12-4" title="4">design &lt;-</a>
<a class="sourceLine" id="cb12-5" title="5"><span class="st">  </span><span class="kw">declare_population</span>(</a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="dt">document =</span> <span class="kw">add_level</span>(</a>
<a class="sourceLine" id="cb12-7" title="7">      <span class="dt">N =</span> <span class="dv">200</span>,</a>
<a class="sourceLine" id="cb12-8" title="8">      </a>
<a class="sourceLine" id="cb12-9" title="9">      <span class="co"># document length is drawn from a Poisson distribution</span></a>
<a class="sourceLine" id="cb12-10" title="10">      <span class="dt">N_words_per_document =</span> <span class="kw">rpois</span>(N, <span class="dt">lambda =</span> <span class="dv">500</span>),</a>
<a class="sourceLine" id="cb12-11" title="11">      </a>
<a class="sourceLine" id="cb12-12" title="12">      <span class="co"># draw topic proportion for each document from Dirichlet; save pr(topic1)</span></a>
<a class="sourceLine" id="cb12-13" title="13">      <span class="dt">theta_topic2 =</span>  <span class="kw">rdirichlet</span>(N, <span class="dt">alpha =</span> <span class="kw">rep</span>(<span class="dv">1</span>, N_topics))[, <span class="dv">2</span>]</a>
<a class="sourceLine" id="cb12-14" title="14">    ),</a>
<a class="sourceLine" id="cb12-15" title="15">    </a>
<a class="sourceLine" id="cb12-16" title="16">    <span class="dt">words =</span> <span class="kw">add_level</span>(</a>
<a class="sourceLine" id="cb12-17" title="17">      <span class="dt">N =</span> N_words_per_document,</a>
<a class="sourceLine" id="cb12-18" title="18">      </a>
<a class="sourceLine" id="cb12-19" title="19">      <span class="co"># draw topic (1 or 2) based on theta probabilities for the document</span></a>
<a class="sourceLine" id="cb12-20" title="20">      <span class="dt">topic =</span> <span class="kw">simple_ra</span>(N, <span class="dt">prob_unit =</span> theta_topic2, <span class="dt">conditions =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>),</a>
<a class="sourceLine" id="cb12-21" title="21">      </a>
<a class="sourceLine" id="cb12-22" title="22">      <span class="dt">word =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb12-23" title="23">        topic <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> </span><span class="kw">simple_ra</span>(N, <span class="dt">prob_each =</span> topic_<span class="dv">1</span>_prob, <span class="dt">conditions =</span> corpus),</a>
<a class="sourceLine" id="cb12-24" title="24">        topic <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> </span><span class="kw">simple_ra</span>(N, <span class="dt">prob_each =</span> topic_<span class="dv">2</span>_prob, <span class="dt">conditions =</span> corpus)</a>
<a class="sourceLine" id="cb12-25" title="25">      )</a>
<a class="sourceLine" id="cb12-26" title="26">    )</a>
<a class="sourceLine" id="cb12-27" title="27">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-28" title="28"><span class="st">  </span></a>
<a class="sourceLine" id="cb12-29" title="29"><span class="st">  </span><span class="kw">declare_estimator</span>(</a>
<a class="sourceLine" id="cb12-30" title="30">    <span class="dt">handler =</span> <span class="kw">tidy_estimator</span>(lda_tidy), <span class="dt">k =</span> <span class="dv">2</span>, <span class="dt">matrix =</span> <span class="st">&quot;beta&quot;</span>,</a>
<a class="sourceLine" id="cb12-31" title="31">    <span class="dt">label =</span> <span class="st">&quot;lda-topics&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">dat &lt;-<span class="st"> </span><span class="kw">draw_data</span>(design)</a>
<a class="sourceLine" id="cb13-2" title="2"></a>
<a class="sourceLine" id="cb13-3" title="3">document1 &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(document <span class="op">==</span><span class="st"> &quot;001&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(word) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste0</span>(<span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb13-4" title="4">document2 &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(document <span class="op">==</span><span class="st"> &quot;002&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(word) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste0</span>(<span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb13-5" title="5"></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="kw">kable</span>(<span class="kw">cbind</span>(document1, document2), <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Document 1&quot;</span>, <span class="st">&quot;Document 2&quot;</span>))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Document 1
</th>
<th style="text-align:left;">
Document 2
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
breach time wife enjoy department purchased _memoires 173 deed god subject borne section <em>see</em> money section property witnesses <em>tome probable 278 law dies account morrison 139 cultivation unreclaimed enjoy time children silver confronted cultivated field 197 constable business fixed time naval 275 machine father harboured portion quarrel fines lessee time lost mina life eyes annulment 227 disease section owner wine built possessed owner storage death migration respecting 179 monument boatman lifetime death owner seized accused child invalidated 144 respecting produce judge fatherâ€™s reimbursement released sickness corn children poor marriage fatherâ€™s breach house trial exceed sons scarcely bare horn district common ascertained time congress 141 1789 indictment 123 clark corn economical accused 275 feature brought establishment rear bonds 171 bronze unusual votary favor cuts house share <em>see</em> witness property process sixth committed mina gentleman carried plant deluge bring free husband 111 35 brought 2.5 <em>res husband resigns offense 148 jury motherâ€™s 131 arising son press money passenger peaceably ravaged common fees 177 womb law free constitution life district retained life war <em>se</em> crops brawlers heap judge time local crop sentence husband militia deprived death section marriage seduced money regulated garden section arising morgan harvester common <em>see</em> constitution 148 house purchase field god accidental fines thereof 226 35 138 destroyed stolen daughter seed harboured gate hands passed section robbery carrying reserved impartial house dispute 218 master caused agreed 126 impression limited oxen public gentle acquired compensation also</em> section militia granted jury bring penal branding gentlemanâ€™s ripe months held maintenance <em>january</em> january 248 eye daughter land agent december unreasonable enumeration life half freedom charges rights sheep bail 127 125 default 164 owner punishments section 118 146 bridegroom impartial dowry sons cut 1791 boatman speech loss loss rules 11 concubine kingâ€™s gentleman woman woman return enjoy loss cultivation children marry conqueror 175 impartial 119 criminal lose security 1789 public owner constitution votary process offense 57 constitution greatly garden temple money respecting slave peaceably service 28 price hoe jilting corn worry city witnesses 201 consent handicraft 207 slave account house property lost <em>gur</em> infamous 15 reaper lines months share house causing memorandum death remission 168 1791 sell translation assistance 45 orchard land portion 44 assign shortly deprived liability leased hire judgement forces <em>see</em> silver time palace law 225 bore pay trial grievances wife iii arising construed illegal 17 owe neat granted marriage 9 law morgan twenty witnesses actual naval maidservant lost speech amendments enjoy soldier settlement god ratified price 170 oil house merchant respecting common translation wife blows marriage home 42 mothers oath house children owner intelligible 55 ten preserved also</em> field 129 48 unusual slave hired ox limb seated thy jury scandal 210 rights duties branding house runnel inheritance regulated wagon capital custom woman account hand house 16 widow 10 ten merchant remarkable complaint write gardener bill thereof wife retained 277 security foreign powers cultivated womb stands government section section leave law defense doctor fault injury pay limb militia indelible children bought slave seized wine mother delegated 175 ox rights _memoires brander 207 sheep king 152 bail daughter return 193 borne lost laws woman 40 produce prosecutions heavy mina people criminal master 170 supported 17 cultivator free agent mother release seated merchant implements 215
</td>
<td style="text-align:left;">
death miscarriage bill deed hands 190 prohibiting law person private describing ox unreasonable seized people common consent leave mother bail liberty lease public suits oath reserved controversy law time constitution quartered public united operations seized jury militia favor capital wife due united effects militia actual redress fatherâ€™s verily nature owner 215 disparage common people delegated religion rights united crime redress arising law prescribed law disparage papers iv time manner issue time committed prescribed 127 witnesses required united accounts exercise government district service relationships infamous deny original criminal excessive unreasonable corn property field security compensation enjoy speech enjoy hand militia actual militia security house searched retained danger 128 common jeopardy explorations public speedy congress crime property exceed jury service drowning art iv controversy thereof wishes marriages dollars security deprived time slave construed jury ten badly establishment ii prohibited prohibited slave constitution witnesses violated delegated united trial bill ix law assemble criminal witnesses arising presentment unusual exercise thereof exceed militia woman 25 persons ratified gentleman ii time builder witness actual redress crime unreasonable process people ten law law trial constitution prohibiting freedom land law ox life 250 recaptured 137 defense danger jury accused seizures time mina criminal persons 180 houses security ten grievances mina excessive impartial wife exercise offense rules criminal confronted held defense divorced congress obtaining security seized people freedom people united bill powers held counsel service abridging united witnesses section bronze excessive affirmation petition establishment abridging supported free grand husband time ilu ii land peaceably construed dates persons militia rights trial bear fines affirmation infringed war affirmation militia prescribed nature war accused obtaining amendments 112 sentence life owner single delegated people dollars wife defense arms witnesses owner compensation actual concubine rights husband required witness person rights printed oath iii suits freedom suitor government time witnesses crime child bail forces answer powers arising houses person indictment 147 25 enjoy court liberty establishment bail borne militia deprived committed favor previously punishments free life forces law jury prosecutions code compensation poor 234 male constitution respecting redress danger house imposed peace people seizures inflicted public unreasonable district required viii 242 sought section person obtaining slave 223 money ii religion ur united jury government warrants grand deprived united witness government seizures law danger court exercise examined field public deed exceed retained dollars subject 25 property unusual owner committed people service people preserved disparage soldier examined common shepherd militia violated enjoy people ratified common petition bail constitution war people actual limb thereof amendments necessarily disparage persons disparage reserved naval committed servant housebreaking freighted reserved common prohibiting cruel 116 1791 grounds owner _per nature levy speech previously retained freedom cruel property establishment compelled people speech 25 twenty delegated people regulated religion redress searched rules prescribed property jury grievances naval owner common violated affirmation free offense sheep trial 141 person life land free disparage controversy infringed counsel defense nature service crime property people congress deny quartered person impartial jury law forces press people effects arms
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># diagnosis</span></a>
<a class="sourceLine" id="cb14-2" title="2"></a>
<a class="sourceLine" id="cb14-3" title="3">compare_word_lists &lt;-<span class="st"> </span><span class="cf">function</span>(list1, list2){</a>
<a class="sourceLine" id="cb14-4" title="4">  list1 &lt;-<span class="st"> </span><span class="kw">str_split</span>(list1, <span class="st">&quot;_&quot;</span>)</a>
<a class="sourceLine" id="cb14-5" title="5">  list2 &lt;-<span class="st"> </span><span class="kw">str_split</span>(list2, <span class="st">&quot;_&quot;</span>)[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb14-6" title="6">  <span class="kw">sapply</span>(list1, <span class="cf">function</span>(x) <span class="kw">sum</span>(x <span class="op">%in%</span><span class="st"> </span>list2) <span class="op">==</span><span class="st"> </span><span class="kw">length</span>(list2))</a>
<a class="sourceLine" id="cb14-7" title="7">}</a>
<a class="sourceLine" id="cb14-8" title="8"></a>
<a class="sourceLine" id="cb14-9" title="9">topic_<span class="dv">1</span>_words &lt;-<span class="st"> </span>topic_probs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">top_n</span>(<span class="dv">3</span>, pr_topic_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(<span class="op">-</span>pr_topic_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(word) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste0</span>(<span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</a>
<a class="sourceLine" id="cb14-10" title="10">topic_<span class="dv">2</span>_words &lt;-<span class="st"> </span>topic_probs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">top_n</span>(<span class="dv">3</span>, pr_topic_<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(<span class="op">-</span>pr_topic_<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(word) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste0</span>(<span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</a>
<a class="sourceLine" id="cb14-11" title="11"></a>
<a class="sourceLine" id="cb14-12" title="12">diag &lt;-<span class="st"> </span><span class="kw">declare_diagnosands</span>(<span class="dt">in_topic_1 =</span> </a>
<a class="sourceLine" id="cb14-13" title="13">                              <span class="kw">mean</span>(<span class="kw">compare_word_lists</span>(topic_<span class="dv">1</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">1</span>_words) <span class="op">|</span></a>
<a class="sourceLine" id="cb14-14" title="14"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">2</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">1</span>_words)),</a>
<a class="sourceLine" id="cb14-15" title="15">                            <span class="dt">in_topic_2 =</span> </a>
<a class="sourceLine" id="cb14-16" title="16">                              <span class="kw">mean</span>(<span class="kw">compare_word_lists</span>(topic_<span class="dv">1</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">2</span>_words) <span class="op">|</span></a>
<a class="sourceLine" id="cb14-17" title="17"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">2</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">2</span>_words)),</a>
<a class="sourceLine" id="cb14-18" title="18">                            <span class="dt">in_either_topic =</span> </a>
<a class="sourceLine" id="cb14-19" title="19">                              <span class="kw">mean</span>(<span class="kw">compare_word_lists</span>(topic_<span class="dv">1</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">1</span>_words) <span class="op">|</span></a>
<a class="sourceLine" id="cb14-20" title="20"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">2</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">1</span>_words) <span class="op">|</span></a>
<a class="sourceLine" id="cb14-21" title="21"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">1</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">2</span>_words) <span class="op">|</span></a>
<a class="sourceLine" id="cb14-22" title="22"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">2</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">2</span>_words )),</a>
<a class="sourceLine" id="cb14-23" title="23">                            <span class="dt">in_both_topic =</span> </a>
<a class="sourceLine" id="cb14-24" title="24">                              <span class="kw">mean</span>( (<span class="kw">compare_word_lists</span>(topic_<span class="dv">1</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">1</span>_words) <span class="op">|</span></a>
<a class="sourceLine" id="cb14-25" title="25"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">1</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">2</span>_words)) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb14-26" title="26"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">2</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">1</span>_words) <span class="op">|</span></a>
<a class="sourceLine" id="cb14-27" title="27"><span class="st">                                     </span><span class="kw">compare_word_lists</span>(topic_<span class="dv">2</span>_top_<span class="dv">10</span>_words, topic_<span class="dv">2</span>_words )),</a>
<a class="sourceLine" id="cb14-28" title="28">                            <span class="dt">keep_defaults =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<!-- This chunk is set to `echo = TRUE` and `eval = do_diagnosis` -->
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">diagnosis &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="st">  </span><span class="kw">diagnose_design</span>(design, <span class="dt">diagnosands =</span> diag, <span class="dt">sims =</span> <span class="dv">10</span>, <span class="dt">bootstrap_sims =</span> <span class="dv">10</span>)</a></code></pre></div>
<!-- Right after you do simulations, you want to save the simulations rds.  -->
<!-- Now all that simulating, saving, and loading is done, and we can use the simulations for whatever you want. -->
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">kable</span>(<span class="kw">reshape_diagnosis</span>(diagnosis))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Design Label
</th>
<th style="text-align:left;">
Estimator Label
</th>
<th style="text-align:left;">
N Sims
</th>
<th style="text-align:left;">
In Topic 1
</th>
<th style="text-align:left;">
In Topic 2
</th>
<th style="text-align:left;">
In Either Topic
</th>
<th style="text-align:left;">
In Both Topic
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
design
</td>
<td style="text-align:left;">
lda-topics
</td>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
0.90
</td>
<td style="text-align:left;">
0.60
</td>
<td style="text-align:left;">
0.90
</td>
<td style="text-align:left;">
0.70
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
(0.10)
</td>
<td style="text-align:left;">
(0.12)
</td>
<td style="text-align:left;">
(0.10)
</td>
<td style="text-align:left;">
(0.14)
</td>
</tr>
</tbody>
</table>
<div id="references-2" class="section level3">
<h3><span class="header-section-number">32.6.1</span> References</h3>

<!-- note do_bookdown is set in index.rmd, so we know if you're running just this .Rmd or compiling the book-->
<!-- start post here, do not edit above -->
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="measuring-latent-variables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multilevel-regression-and-poststratification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
