<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15.1 Random sampling | Research Design: Declare, Diagnose, Redesign</title>
  <meta name="description" content="describe the book" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="15.1 Random sampling | Research Design: Declare, Diagnose, Redesign" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="describe the book" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15.1 Random sampling | Research Design: Declare, Diagnose, Redesign" />
  
  <meta name="twitter:description" content="describe the book" />
  

<meta name="author" content="Graeme Blair, Jasper Cooper, Alexander Coppock, and Macartan Humphreys" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="observational-designs-for-descriptive-inference.html"/>
<link rel="next" href="multilevel-regression-and-poststratification.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="https://hypothes.is/embed.js" async></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="headers/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>Research Design</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="preamble.html"><a href="preamble.html"><i class="fa fa-check"></i><b>1</b> Preamble</a></li>
<li class="chapter" data-level="2" data-path="improving-research-designs.html"><a href="improving-research-designs.html"><i class="fa fa-check"></i><b>2</b> Improving research designs</a><ul>
<li class="chapter" data-level="2.1" data-path="what-is-a-research-design.html"><a href="what-is-a-research-design.html"><i class="fa fa-check"></i><b>2.1</b> What is a research design?</a></li>
<li class="chapter" data-level="2.2" data-path="model-inquiry-data-strategy-answer-strategy.html"><a href="model-inquiry-data-strategy-answer-strategy.html"><i class="fa fa-check"></i><b>2.2</b> Model-Inquiry-Data Strategy-Answer Strategy</a></li>
<li class="chapter" data-level="2.3" data-path="how-do-we-assess-the-quality-of-a-design.html"><a href="how-do-we-assess-the-quality-of-a-design.html"><i class="fa fa-check"></i><b>2.3</b> How do we assess the quality of a design?</a></li>
<li class="chapter" data-level="2.4" data-path="how-can-we-best-plan-for-research.html"><a href="how-can-we-best-plan-for-research.html"><i class="fa fa-check"></i><b>2.4</b> How can we best plan for research?</a></li>
<li class="chapter" data-level="2.5" data-path="implications.html"><a href="implications.html"><i class="fa fa-check"></i><b>2.5</b> Implications</a></li>
<li class="chapter" data-level="2.6" data-path="limitations.html"><a href="limitations.html"><i class="fa fa-check"></i><b>2.6</b> Limitations</a></li>
<li class="chapter" data-level="2.7" data-path="appendix-a-formal-definition-of-a-research-design-and-design-diagnosis.html"><a href="appendix-a-formal-definition-of-a-research-design-and-design-diagnosis.html"><i class="fa fa-check"></i><b>2.7</b> Appendix: A formal definition of a research design and design diagnosis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="software-primer.html"><a href="software-primer.html"><i class="fa fa-check"></i><b>3</b> Software primer</a><ul>
<li class="chapter" data-level="3.1" data-path="installing-r.html"><a href="installing-r.html"><i class="fa fa-check"></i><b>3.1</b> Installing R</a></li>
<li class="chapter" data-level="3.2" data-path="where-we-are-going.html"><a href="where-we-are-going.html"><i class="fa fa-check"></i><b>3.2</b> Where we are going</a><ul>
<li class="chapter" data-level="3.2.1" data-path="where-we-are-going.html"><a href="where-we-are-going.html#declaring-a-design"><i class="fa fa-check"></i><b>3.2.1</b> Declaring a design</a></li>
<li class="chapter" data-level="3.2.2" data-path="where-we-are-going.html"><a href="where-we-are-going.html#diagnosis"><i class="fa fa-check"></i><b>3.2.2</b> Diagnosis</a></li>
<li class="chapter" data-level="3.2.3" data-path="where-we-are-going.html"><a href="where-we-are-going.html#redesign"><i class="fa fa-check"></i><b>3.2.3</b> Redesign</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="building-a-step-of-a-research-design.html"><a href="building-a-step-of-a-research-design.html"><i class="fa fa-check"></i><b>3.3</b> Building a step of a research design</a><ul>
<li class="chapter" data-level="3.3.1" data-path="building-a-step-of-a-research-design.html"><a href="building-a-step-of-a-research-design.html#using-dplyr"><i class="fa fa-check"></i><b>3.3.1</b> Using dplyr</a></li>
<li class="chapter" data-level="3.3.2" data-path="building-a-step-of-a-research-design.html"><a href="building-a-step-of-a-research-design.html#as-a-function"><i class="fa fa-check"></i><b>3.3.2</b> As a function</a></li>
<li class="chapter" data-level="3.3.3" data-path="building-a-step-of-a-research-design.html"><a href="building-a-step-of-a-research-design.html#in-declaredesign"><i class="fa fa-check"></i><b>3.3.3</b> In DeclareDesign</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="research-design-steps.html"><a href="research-design-steps.html"><i class="fa fa-check"></i><b>3.4</b> Research design steps</a><ul>
<li class="chapter" data-level="3.4.1" data-path="research-design-steps.html"><a href="research-design-steps.html#model"><i class="fa fa-check"></i><b>3.4.1</b> Model</a></li>
<li class="chapter" data-level="3.4.2" data-path="research-design-steps.html"><a href="research-design-steps.html#inquiry"><i class="fa fa-check"></i><b>3.4.2</b> Inquiry</a></li>
<li class="chapter" data-level="3.4.3" data-path="research-design-steps.html"><a href="research-design-steps.html#data-strategy"><i class="fa fa-check"></i><b>3.4.3</b> Data strategy</a></li>
<li class="chapter" data-level="3.4.4" data-path="research-design-steps.html"><a href="research-design-steps.html#answer-strategy"><i class="fa fa-check"></i><b>3.4.4</b> Answer strategy</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="building-a-design-from-design-steps.html"><a href="building-a-design-from-design-steps.html"><i class="fa fa-check"></i><b>3.5</b> Building a design from design steps</a><ul>
<li class="chapter" data-level="3.5.1" data-path="building-a-design-from-design-steps.html"><a href="building-a-design-from-design-steps.html#order-matters"><i class="fa fa-check"></i><b>3.5.1</b> Order matters</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="simulating-a-research-design.html"><a href="simulating-a-research-design.html"><i class="fa fa-check"></i><b>3.6</b> Simulating a research design</a><ul>
<li class="chapter" data-level="3.6.1" data-path="simulating-a-research-design.html"><a href="simulating-a-research-design.html#in-dplyr"><i class="fa fa-check"></i><b>3.6.1</b> In <code>dplyr</code></a></li>
<li class="chapter" data-level="3.6.2" data-path="simulating-a-research-design.html"><a href="simulating-a-research-design.html#in-declaredesign-1"><i class="fa fa-check"></i><b>3.6.2</b> In <code>DeclareDesign</code></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="diagnosing-a-research-design.html"><a href="diagnosing-a-research-design.html"><i class="fa fa-check"></i><b>3.7</b> Diagnosing a research design</a></li>
<li class="chapter" data-level="3.8" data-path="comparing-designs.html"><a href="comparing-designs.html"><i class="fa fa-check"></i><b>3.8</b> Comparing designs</a><ul>
<li class="chapter" data-level="3.8.1" data-path="comparing-designs.html"><a href="comparing-designs.html#comparing-many-variants-of-a-design"><i class="fa fa-check"></i><b>3.8.1</b> Comparing many variants of a design</a></li>
<li class="chapter" data-level="3.8.2" data-path="comparing-designs.html"><a href="comparing-designs.html#library-of-designs"><i class="fa fa-check"></i><b>3.8.2</b> Library of designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html"><i class="fa fa-check"></i><b>4</b> How to use this book</a><ul>
<li class="chapter" data-level="4.1" data-path="part-i-exercises.html"><a href="part-i-exercises.html"><i class="fa fa-check"></i><b>4.1</b> Part I Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Declaration and Diagnosis in Practice</b></span></li>
<li class="chapter" data-level="5" data-path="research-questions.html"><a href="research-questions.html"><i class="fa fa-check"></i><b>5</b> Research questions</a></li>
<li class="chapter" data-level="6" data-path="directed-acyclic-graphs-and-potential-outcomes.html"><a href="directed-acyclic-graphs-and-potential-outcomes.html"><i class="fa fa-check"></i><b>6</b> Directed Acyclic Graphs and Potential Outcomes</a><ul>
<li class="chapter" data-level="6.1" data-path="the-same-dag-can-support-multiple-causal-theories-.html"><a href="the-same-dag-can-support-multiple-causal-theories-.html"><i class="fa fa-check"></i><b>6.1</b> The same DAG can support multiple causal theories.</a></li>
<li class="chapter" data-level="6.2" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>6.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="specifying-the-model.html"><a href="specifying-the-model.html"><i class="fa fa-check"></i><b>7</b> Specifying the model</a><ul>
<li class="chapter" data-level="7.1" data-path="declaring-exogenous-and-endogenous-variables-in-the-population.html"><a href="declaring-exogenous-and-endogenous-variables-in-the-population.html"><i class="fa fa-check"></i><b>7.1</b> Declaring exogenous and endogenous variables in the population</a></li>
<li class="chapter" data-level="7.2" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html"><i class="fa fa-check"></i><b>7.2</b> Declaring potential outcomes</a><ul>
<li class="chapter" data-level="7.2.1" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#potential-outcomes-can-include-variables-that-are-not-yet-defined"><i class="fa fa-check"></i><b>7.2.1</b> Potential outcomes can include variables that are not yet defined</a></li>
<li class="chapter" data-level="7.2.2" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#when-you-do-and-do-not-need-to-define-potential-outcomes"><i class="fa fa-check"></i><b>7.2.2</b> When you do and do not need to define potential outcomes</a></li>
<li class="chapter" data-level="7.2.3" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#manipulation-creates-potential-outcomes"><i class="fa fa-check"></i><b>7.2.3</b> Manipulation creates potential outcomes</a></li>
<li class="chapter" data-level="7.2.4" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#interference-creates-potential-outcomes"><i class="fa fa-check"></i><b>7.2.4</b> Interference creates potential outcomes</a></li>
<li class="chapter" data-level="7.2.5" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#what-to-do-with-potential-outcomes-whose-parents-are-continuous"><i class="fa fa-check"></i><b>7.2.5</b> What to do with potential outcomes whose parents are continuous</a></li>
<li class="chapter" data-level="7.2.6" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#principal-strata-can-be-defined-in-terms-of-potential-outcomes"><i class="fa fa-check"></i><b>7.2.6</b> Principal strata can be defined in terms of potential outcomes</a></li>
<li class="chapter" data-level="7.2.7" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#develop-a-null-model"><i class="fa fa-check"></i><b>7.2.7</b> Develop a null model</a></li>
<li class="chapter" data-level="7.2.8" data-path="declaring-potential-outcomes.html"><a href="declaring-potential-outcomes.html#consider-heterogeneity"><i class="fa fa-check"></i><b>7.2.8</b> Consider heterogeneity</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="declaring-populations.html"><a href="declaring-populations.html"><i class="fa fa-check"></i><b>7.3</b> Declaring populations</a><ul>
<li class="chapter" data-level="7.3.1" data-path="declaring-populations.html"><a href="declaring-populations.html#use-data-if-you-have-it"><i class="fa fa-check"></i><b>7.3.1</b> Use data, if you have it</a></li>
<li class="chapter" data-level="7.3.2" data-path="declaring-populations.html"><a href="declaring-populations.html#incorporate-hierarchy-into-your-model"><i class="fa fa-check"></i><b>7.3.2</b> Incorporate hierarchy into your model</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="without-a-model-you-can-get-the-answer-pretty-wrong.html"><a href="without-a-model-you-can-get-the-answer-pretty-wrong.html"><i class="fa fa-check"></i><b>7.4</b> Without a model you can get the answer pretty wrong</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="defining-the-inquiry.html"><a href="defining-the-inquiry.html"><i class="fa fa-check"></i><b>8</b> Defining the Inquiry</a><ul>
<li class="chapter" data-level="8.1" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html"><i class="fa fa-check"></i><b>8.1</b> Classes of estimands</a><ul>
<li class="chapter" data-level="8.1.1" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#descriptive-estimands"><i class="fa fa-check"></i><b>8.1.1</b> Descriptive estimands</a></li>
<li class="chapter" data-level="8.1.2" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#simple-causal-estimands"><i class="fa fa-check"></i><b>8.1.2</b> Simple causal estimands</a></li>
<li class="chapter" data-level="8.1.3" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#local-estimands-estiamnds-over-latent-classes-principal-strata"><i class="fa fa-check"></i><b>8.1.3</b> Local estimands / EStiamnds over latent classes, principal strata</a></li>
<li class="chapter" data-level="8.1.4" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#study-dependent-estimands"><i class="fa fa-check"></i><b>8.1.4</b> Study dependent estimands</a></li>
<li class="chapter" data-level="8.1.5" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#complex-counterfactuals"><i class="fa fa-check"></i><b>8.1.5</b> Complex counterfactuals</a></li>
<li class="chapter" data-level="8.1.6" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#parametric-estimands"><i class="fa fa-check"></i><b>8.1.6</b> Parametric estimands</a></li>
<li class="chapter" data-level="8.1.7" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#vector-valued-inquiries-set-of-predictions-for-n-units"><i class="fa fa-check"></i><b>8.1.7</b> Vector-valued inquiries (set of predictions for N units),</a></li>
<li class="chapter" data-level="8.1.8" data-path="classes-of-estimands.html"><a href="classes-of-estimands.html#models-as-estimands"><i class="fa fa-check"></i><b>8.1.8</b> Models as estimands</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="selecting-estimands.html"><a href="selecting-estimands.html"><i class="fa fa-check"></i><b>8.2</b> Selecting estimands</a><ul>
<li class="chapter" data-level="8.2.1" data-path="selecting-estimands.html"><a href="selecting-estimands.html#you-are-responsible-for-your-estimand"><i class="fa fa-check"></i><b>8.2.1</b> You are responsible for your estimand</a></li>
<li class="chapter" data-level="8.2.2" data-path="selecting-estimands.html"><a href="selecting-estimands.html#estimands-to-purpose.-choice-of-inquiry-is-not-valueless"><i class="fa fa-check"></i><b>8.2.2</b> Estimands to purpose. Choice of inquiry is not valueless</a></li>
<li class="chapter" data-level="8.2.3" data-path="selecting-estimands.html"><a href="selecting-estimands.html#estimand-scopewhat-is-the-set-of-units-which-you-want-to-learn-the-answer-about-know-what-ate-averages-over"><i class="fa fa-check"></i><b>8.2.3</b> Estimand scope:What is the set of units which you want to learn the answer about? Know what ATE averages over</a></li>
<li class="chapter" data-level="8.2.4" data-path="selecting-estimands.html"><a href="selecting-estimands.html#unknown-estimands-inquiries-for-discovery"><i class="fa fa-check"></i><b>8.2.4</b> Unknown estimands: Inquiries for discovery</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="crafting-a-data-strategy.html"><a href="crafting-a-data-strategy.html"><i class="fa fa-check"></i><b>9</b> Crafting a data strategy</a><ul>
<li class="chapter" data-level="9.1" data-path="choosing-a-sampling-procedure.html"><a href="choosing-a-sampling-procedure.html"><i class="fa fa-check"></i><b>9.1</b> Choosing a sampling procedure</a></li>
<li class="chapter" data-level="9.2" data-path="choosing-an-assignment-procedure.html"><a href="choosing-an-assignment-procedure.html"><i class="fa fa-check"></i><b>9.2</b> Choosing an assignment procedure</a></li>
<li class="chapter" data-level="9.3" data-path="choosing-a-measurement-procedure.html"><a href="choosing-a-measurement-procedure.html"><i class="fa fa-check"></i><b>9.3</b> Choosing a measurement procedure</a></li>
<li class="chapter" data-level="9.4" data-path="section.html"><a href="section.html"><i class="fa fa-check"></i><b>9.4</b> </a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="choosing-an-answer-strategy.html"><a href="choosing-an-answer-strategy.html"><i class="fa fa-check"></i><b>10</b> Choosing an answer strategy</a><ul>
<li class="chapter" data-level="10.1" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html"><i class="fa fa-check"></i><b>10.1</b> What belongs in an answer strategy</a><ul>
<li class="chapter" data-level="10.1.1" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html#estimate-estimand-pairs"><i class="fa fa-check"></i><b>10.1.1</b> estimate-estimand pairs</a></li>
<li class="chapter" data-level="10.1.2" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html#measures-of-uncertainty"><i class="fa fa-check"></i><b>10.1.2</b> measures of uncertainty</a></li>
<li class="chapter" data-level="10.1.3" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html#procedures"><i class="fa fa-check"></i><b>10.1.3</b> procedures</a></li>
<li class="chapter" data-level="10.1.4" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html#robustness-checks"><i class="fa fa-check"></i><b>10.1.4</b> robustness checks</a></li>
<li class="chapter" data-level="10.1.5" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html#presentation-of-results"><i class="fa fa-check"></i><b>10.1.5</b> presentation of results</a></li>
<li class="chapter" data-level="10.1.6" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html#multiple-comparisons"><i class="fa fa-check"></i><b>10.1.6</b> multiple comparisons</a></li>
<li class="chapter" data-level="10.1.7" data-path="what-belongs-in-an-answer-strategy.html"><a href="what-belongs-in-an-answer-strategy.html#what-you-will-do-when-data-goes-sideways"><i class="fa fa-check"></i><b>10.1.7</b> what you will do when data goes sideways</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="how-to-select-an-answer-strategy.html"><a href="how-to-select-an-answer-strategy.html"><i class="fa fa-check"></i><b>10.2</b> How to select an answer strategy</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="diagnosis-1.html"><a href="diagnosis-1.html"><i class="fa fa-check"></i><b>11</b> Diagnosis</a><ul>
<li class="chapter" data-level="11.1" data-path="diagnosing-a-design.html"><a href="diagnosing-a-design.html"><i class="fa fa-check"></i><b>11.1</b> Diagnosing a design</a></li>
<li class="chapter" data-level="11.2" data-path="how-do-you-select-diagnosands.html"><a href="how-do-you-select-diagnosands.html"><i class="fa fa-check"></i><b>11.2</b> How do you select diagnosands?</a></li>
<li class="chapter" data-level="11.3" data-path="diagnosis-to-assess-the-robustness-of-designs-to-models-gb.html"><a href="diagnosis-to-assess-the-robustness-of-designs-to-models-gb.html"><i class="fa fa-check"></i><b>11.3</b> Diagnosis to assess the robustness of designs to models [GB]</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="redesign-1.html"><a href="redesign-1.html"><i class="fa fa-check"></i><b>12</b> Redesign</a></li>
<li class="chapter" data-level="13" data-path="part-ii-exercises.html"><a href="part-ii-exercises.html"><i class="fa fa-check"></i><b>13</b> Part II Exercises</a></li>
<li class="part"><span><b>III Design Library</b></span></li>
<li class="chapter" data-level="14" data-path="design-library.html"><a href="design-library.html"><i class="fa fa-check"></i><b>14</b> Design Library</a></li>
<li class="chapter" data-level="15" data-path="observational-designs-for-descriptive-inference.html"><a href="observational-designs-for-descriptive-inference.html"><i class="fa fa-check"></i><b>15</b> Observational designs for descriptive inference</a><ul>
<li class="chapter" data-level="15.1" data-path="random-sampling.html"><a href="random-sampling.html"><i class="fa fa-check"></i><b>15.1</b> Random sampling</a><ul>
<li class="chapter" data-level="15.1.1" data-path="random-sampling.html"><a href="random-sampling.html#simple-random-sampling"><i class="fa fa-check"></i><b>15.1.1</b> Simple random sampling</a></li>
<li class="chapter" data-level="15.1.2" data-path="random-sampling.html"><a href="random-sampling.html#stratified-and-clustered-random-sampling"><i class="fa fa-check"></i><b>15.1.2</b> Stratified and clustered random sampling</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="multilevel-regression-and-poststratification.html"><a href="multilevel-regression-and-poststratification.html"><i class="fa fa-check"></i><b>15.2</b> Multilevel regression and poststratification</a></li>
<li class="chapter" data-level="15.3" data-path="inference-about-unobserved-variables.html"><a href="inference-about-unobserved-variables.html"><i class="fa fa-check"></i><b>15.3</b> Inference about unobserved variables</a></li>
<li class="chapter" data-level="15.4" data-path="structural-estimation.html"><a href="structural-estimation.html"><i class="fa fa-check"></i><b>15.4</b> Structural estimation</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="experimental-designs-for-descriptive-inference.html"><a href="experimental-designs-for-descriptive-inference.html"><i class="fa fa-check"></i><b>16</b> Experimental designs for descriptive inference</a><ul>
<li class="chapter" data-level="16.1" data-path="audit-experiments.html"><a href="audit-experiments.html"><i class="fa fa-check"></i><b>16.1</b> Audit experiments</a><ul>
<li class="chapter" data-level="16.1.1" data-path="audit-experiments.html"><a href="audit-experiments.html#design-declaration-2"><i class="fa fa-check"></i><b>16.1.1</b> Design Declaration</a></li>
<li class="chapter" data-level="16.1.2" data-path="audit-experiments.html"><a href="audit-experiments.html#takeaways-2"><i class="fa fa-check"></i><b>16.1.2</b> Takeaways</a></li>
<li class="chapter" data-level="16.1.3" data-path="audit-experiments.html"><a href="audit-experiments.html#applications"><i class="fa fa-check"></i><b>16.1.3</b> Applications</a></li>
<li class="chapter" data-level="16.1.4" data-path="audit-experiments.html"><a href="audit-experiments.html#exercises-1"><i class="fa fa-check"></i><b>16.1.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html"><i class="fa fa-check"></i><b>16.2</b> Experiments for sensitive questions</a><ul>
<li class="chapter" data-level="16.2.1" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#list-experiments"><i class="fa fa-check"></i><b>16.2.1</b> List experiments</a></li>
<li class="chapter" data-level="16.2.2" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#randomized-response-technique"><i class="fa fa-check"></i><b>16.2.2</b> Randomized response technique</a></li>
<li class="chapter" data-level="16.2.3" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#references"><i class="fa fa-check"></i><b>16.2.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="conjoint-experimetns.html"><a href="conjoint-experimetns.html"><i class="fa fa-check"></i><b>16.3</b> Conjoint experimetns</a></li>
<li class="chapter" data-level="16.4" data-path="behavioral-games.html"><a href="behavioral-games.html"><i class="fa fa-check"></i><b>16.4</b> Behavioral games</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="observational-designs-for-causal-inference.html"><a href="observational-designs-for-causal-inference.html"><i class="fa fa-check"></i><b>17</b> Observational designs for causal inference</a><ul>
<li class="chapter" data-level="17.1" data-path="selection-on-observables.html"><a href="selection-on-observables.html"><i class="fa fa-check"></i><b>17.1</b> Selection on observables</a><ul>
<li class="chapter" data-level="17.1.1" data-path="selection-on-observables.html"><a href="selection-on-observables.html#classic-confounding"><i class="fa fa-check"></i><b>17.1.1</b> Classic Confounding</a></li>
<li class="chapter" data-level="17.1.2" data-path="selection-on-observables.html"><a href="selection-on-observables.html#what-if-the-functional-form-is-wrong"><i class="fa fa-check"></i><b>17.1.2</b> What if the functional form is wrong?</a></li>
<li class="chapter" data-level="17.1.3" data-path="selection-on-observables.html"><a href="selection-on-observables.html#what-if-you-have-unobserved-confounding"><i class="fa fa-check"></i><b>17.1.3</b> What if you have unobserved confounding?</a></li>
<li class="chapter" data-level="17.1.4" data-path="selection-on-observables.html"><a href="selection-on-observables.html#what-if-the-observed-covariate-is-post-treatment"><i class="fa fa-check"></i><b>17.1.4</b> What if the observed covariate is post-treatment?</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="instrumental-variables.html"><a href="instrumental-variables.html"><i class="fa fa-check"></i><b>17.2</b> Instrumental variables</a></li>
<li class="chapter" data-level="17.3" data-path="difference-in-differences.html"><a href="difference-in-differences.html"><i class="fa fa-check"></i><b>17.3</b> Difference-in-differences</a><ul>
<li class="chapter" data-level="17.3.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html#two-period-two-group-setting"><i class="fa fa-check"></i><b>17.3.1</b> Two-period two-group setting</a></li>
<li class="chapter" data-level="17.3.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html#parallel-trends-assumption"><i class="fa fa-check"></i><b>17.3.2</b> Parallel trends assumption</a></li>
<li class="chapter" data-level="17.3.3" data-path="difference-in-differences.html"><a href="difference-in-differences.html#multi-period-design"><i class="fa fa-check"></i><b>17.3.3</b> Multi-period design</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html"><i class="fa fa-check"></i><b>17.4</b> Regression Discontinuity</a><ul>
<li class="chapter" data-level="17.4.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#design-declaration-3"><i class="fa fa-check"></i><b>17.4.1</b> Design Declaration</a></li>
<li class="chapter" data-level="17.4.2" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#takeaways-3"><i class="fa fa-check"></i><b>17.4.2</b> Takeaways</a></li>
<li class="chapter" data-level="17.4.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#further-reading"><i class="fa fa-check"></i><b>17.4.3</b> Further Reading</a></li>
<li class="chapter" data-level="17.4.4" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#exercises-2"><i class="fa fa-check"></i><b>17.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="process-tracing.html"><a href="process-tracing.html"><i class="fa fa-check"></i><b>17.5</b> Process tracing</a></li>
<li class="chapter" data-level="17.6" data-path="synthetic-controls.html"><a href="synthetic-controls.html"><i class="fa fa-check"></i><b>17.6</b> Synthetic controls</a><ul>
<li class="chapter" data-level="17.6.1" data-path="synthetic-controls.html"><a href="synthetic-controls.html#when-there-are-not-good-controls-standard-synth-will-get-the-wrong-answer"><i class="fa fa-check"></i><b>17.6.1</b> When there are not good controls, standard synth will get the wrong answer</a></li>
<li class="chapter" data-level="17.6.2" data-path="synthetic-controls.html"><a href="synthetic-controls.html#references-1"><i class="fa fa-check"></i><b>17.6.2</b> References</a></li>
</ul></li>
<li class="chapter" data-level="17.7" data-path="policing-and-post-treatment-bias.html"><a href="policing-and-post-treatment-bias.html"><i class="fa fa-check"></i><b>17.7</b> Policing and post-treatment bias</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="design-declaration-4.html"><a href="design-declaration-4.html"><i class="fa fa-check"></i><b>18</b> Design Declaration</a></li>
<li class="chapter" data-level="19" data-path="experimental-designs-for-causal-inference.html"><a href="experimental-designs-for-causal-inference.html"><i class="fa fa-check"></i><b>19</b> Experimental designs for causal inference</a><ul>
<li class="chapter" data-level="19.1" data-path="two-arm-trials.html"><a href="two-arm-trials.html"><i class="fa fa-check"></i><b>19.1</b> Two arm trials</a></li>
<li class="chapter" data-level="19.2" data-path="two-arm-trials-and-designs-with-blocking-and-clustering.html"><a href="two-arm-trials-and-designs-with-blocking-and-clustering.html"><i class="fa fa-check"></i><b>19.2</b> Two-arm trials and designs with blocking and clustering</a></li>
<li class="chapter" data-level="19.3" data-path="multiarm-designs.html"><a href="multiarm-designs.html"><i class="fa fa-check"></i><b>19.3</b> Multiarm Designs</a></li>
<li class="chapter" data-level="19.4" data-path="encouragement-designs.html"><a href="encouragement-designs.html"><i class="fa fa-check"></i><b>19.4</b> Encouragement designs</a><ul>
<li class="chapter" data-level="19.4.1" data-path="encouragement-designs.html"><a href="encouragement-designs.html#references-2"><i class="fa fa-check"></i><b>19.4.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html"><i class="fa fa-check"></i><b>19.5</b> Stepped wedge designs</a><ul>
<li class="chapter" data-level="19.5.1" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html#design-declaration-5"><i class="fa fa-check"></i><b>19.5.1</b> Design Declaration</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="spillovers.html"><a href="spillovers.html"><i class="fa fa-check"></i><b>19.6</b> Spillovers</a><ul>
<li class="chapter" data-level="19.6.1" data-path="spillovers.html"><a href="spillovers.html#references-3"><i class="fa fa-check"></i><b>19.6.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="19.7" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html"><i class="fa fa-check"></i><b>19.7</b> Randomized Saturation Design</a><ul>
<li class="chapter" data-level="19.7.1" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html#design-declaration-6"><i class="fa fa-check"></i><b>19.7.1</b> Design Declaration</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="multi-study-designs.html"><a href="multi-study-designs.html"><i class="fa fa-check"></i><b>20</b> Multi-study designs</a><ul>
<li class="chapter" data-level="20.1" data-path="papers-with-multiple-studies.html"><a href="papers-with-multiple-studies.html"><i class="fa fa-check"></i><b>20.1</b> Papers with multiple studies</a><ul>
<li class="chapter" data-level="20.1.1" data-path="papers-with-multiple-studies.html"><a href="papers-with-multiple-studies.html#design-declaration-7"><i class="fa fa-check"></i><b>20.1.1</b> Design Declaration</a></li>
<li class="chapter" data-level="20.1.2" data-path="papers-with-multiple-studies.html"><a href="papers-with-multiple-studies.html#takeaways-4"><i class="fa fa-check"></i><b>20.1.2</b> Takeaways</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="multi-site-studies.html"><a href="multi-site-studies.html"><i class="fa fa-check"></i><b>20.2</b> Multi-site studies</a><ul>
<li class="chapter" data-level="20.2.1" data-path="multi-site-studies.html"><a href="multi-site-studies.html#unbiased-estimates-of-out-of-sample-sites-in-presence-of-heterogeneous-effects"><i class="fa fa-check"></i><b>20.2.1</b> Unbiased estimates of out-of-sample sites in presence of heterogeneous effects</a></li>
<li class="chapter" data-level="20.2.2" data-path="multi-site-studies.html"><a href="multi-site-studies.html#bayesian-estimation-can-improve-estimates-of-effects-for-sampled-sites"><i class="fa fa-check"></i><b>20.2.2</b> Bayesian estimation can improve estimates of effects for sampled sites</a></li>
<li class="chapter" data-level="20.2.3" data-path="multi-site-studies.html"><a href="multi-site-studies.html#when-things-break-down-confounded-sampling"><i class="fa fa-check"></i><b>20.2.3</b> when things break down: confounded sampling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="part-iii-exercises.html"><a href="part-iii-exercises.html"><i class="fa fa-check"></i><b>21</b> Part III Exercises</a></li>
<li class="part"><span><b>IV Conclusion</b></span></li>
<li class="chapter" data-level="22" data-path="putting-designs-to-use.html"><a href="putting-designs-to-use.html"><i class="fa fa-check"></i><b>22</b> Putting Designs to Use</a><ul>
<li class="chapter" data-level="22.1" data-path="before-studies.html"><a href="before-studies.html"><i class="fa fa-check"></i><b>22.1</b> Before studies</a><ul>
<li class="chapter" data-level="22.1.1" data-path="before-studies.html"><a href="before-studies.html#pre-analysis-plans"><i class="fa fa-check"></i><b>22.1.1</b> Pre-Analysis Plans</a></li>
<li class="chapter" data-level="22.1.2" data-path="before-studies.html"><a href="before-studies.html#registered-reports"><i class="fa fa-check"></i><b>22.1.2</b> Registered Reports</a></li>
<li class="chapter" data-level="22.1.3" data-path="before-studies.html"><a href="before-studies.html#standard-operating-procedures"><i class="fa fa-check"></i><b>22.1.3</b> Standard Operating Procedures</a></li>
<li class="chapter" data-level="22.1.4" data-path="before-studies.html"><a href="before-studies.html#evaluating-and-supporting-research"><i class="fa fa-check"></i><b>22.1.4</b> Evaluating and Supporting Research</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="after-studies.html"><a href="after-studies.html"><i class="fa fa-check"></i><b>22.2</b> After studies</a><ul>
<li class="chapter" data-level="22.2.1" data-path="after-studies.html"><a href="after-studies.html#reconciliation"><i class="fa fa-check"></i><b>22.2.1</b> Reconciliation</a></li>
<li class="chapter" data-level="22.2.2" data-path="after-studies.html"><a href="after-studies.html#replication"><i class="fa fa-check"></i><b>22.2.2</b> Replication</a></li>
<li class="chapter" data-level="22.2.3" data-path="after-studies.html"><a href="after-studies.html#peers-better-scholarly-critique"><i class="fa fa-check"></i><b>22.2.3</b> Peers: Better scholarly critique</a></li>
<li class="chapter" data-level="22.2.4" data-path="after-studies.html"><a href="after-studies.html#combining-designs"><i class="fa fa-check"></i><b>22.2.4</b> Combining designs</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="improving-designs-in-the-social-sciences.html"><a href="improving-designs-in-the-social-sciences.html"><i class="fa fa-check"></i><b>22.3</b> Improving designs in the social sciences</a><ul>
<li class="chapter" data-level="22.3.1" data-path="improving-designs-in-the-social-sciences.html"><a href="improving-designs-in-the-social-sciences.html#a-library-of-research-designs-as-objects"><i class="fa fa-check"></i><b>22.3.1</b> A library of research designs as objects</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="part-iv-exercises.html"><a href="part-iv-exercises.html"><i class="fa fa-check"></i><b>22.4</b> Part IV Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-4.html"><a href="references-4.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://declaredesign.org" target="blank">DeclareDesign</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Research Design: Declare, Diagnose, Redesign</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="random-sampling" class="section level2">
<h2><span class="header-section-number">15.1</span> Random sampling</h2>
<div id="simple-random-sampling" class="section level3">
<h3><span class="header-section-number">15.1.1</span> Simple random sampling</h3>
<p>Often we are interested in features of a population, but data on the entire population is prohibitively expensive to collect. Instead, researchers obtain data on a small fraction of the population and use measurements taken on that sample to draw inferences about the population.</p>
<p>Imagine we seek to estimate the average political ideology of residents of the small town of Portola, California, on a left-right scale that varies from 1 (most liberal) to 7 (most conservative). We draw a simple random sample in which all residents have an equal chance of inclusion in the study. It’s a straightforward design but formally declaring it will make it easy to assess its properties.</p>
<div id="design-declaration" class="section level4">
<h4><span class="header-section-number">15.1.1.1</span> Design Declaration</h4>
<ul>
<li><p><strong>M</strong>odel:</p>
<p>Even for this most basic of designs, researchers bring to bear a background model of the world. As described in Chapter 1, the three elements of a model are the signature, probability distributions over variables, and functional equations among variables. The signature here is a specification of the variable of interest, <span class="math inline">\(Y\)</span>, with a well defined domain (seven possible values between 1 and 7). In the code declaration below, we assume a uniform distribution over these 7 values. This choice is a speculation about the population distribution of <span class="math inline">\(Y\)</span>; some features of the design diagnosis will depend on the choice of distribution. The functional equations seem absent here as there is only one variable in the model. We could consider an elaboration of the model that includes three variables: the true outcome, <span class="math inline">\(Y\)</span>; the decision to measure the outcome, <span class="math inline">\(M\)</span>; and the measured outcome, <span class="math inline">\(Y^M\)</span>. We ignore this complication for now under the assumption that <span class="math inline">\(Y = Y^M\)</span>, i.e., that <span class="math inline">\(Y\)</span> is measured perfectly. Finally, the model also includes information about the size of the population. Portola, California, has a population of approximately 2100 people as of 2010, so <span class="math inline">\(N = 2100\)</span>.</p></li>
<li><p><strong>I</strong>nquiry:</p>
<p>Our inquiry is the population mean of <span class="math inline">\(Y\)</span>: <span class="math inline">\(\frac{1}{N} \sum_1^N Y_i = \bar{Y}\)</span>.</p></li>
<li><p><strong>D</strong>ata strategy:</p>
<p>In simple random sampling, we draw a random sample without replacement of size <span class="math inline">\(n\)</span>, where every member of the population has an equal probability of inclusion in the sample, <span class="math inline">\(\frac{n}{N}\)</span>. When <span class="math inline">\(N\)</span> is very large relative to <span class="math inline">\(n\)</span>, units are drawn approximately independently. In this design we measure <span class="math inline">\(Y\)</span> for <span class="math inline">\(n=100\)</span> units in the sample; the other <span class="math inline">\(N-n\)</span> units are not measured.</p></li>
<li><p><strong>A</strong>nswer strategy:</p>
<p>We estimate the population mean with the sample mean estimator: <span class="math inline">\(\widehat{\overline{Y}} = \frac{1}{n} \sum_1^n Y_i\)</span>. Even though our inquiry implies our answer should be a single number, an answer strategy typically also provides statistics that help us assess the uncertainty around that single number. To construct a 95% confidence interval around our estimate, we calculate the standard error of the sample mean, then approximate the sampling distribution of the sample mean estimator using a formula that includes a finite population correction. In particular, we approximate the estimated sampling distribution by a <span class="math inline">\(t\)</span> distribution with <span class="math inline">\(n - 1\)</span> degrees of freedom. In the code for our answer strategy, we spell out each step in turn.</p></li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1"><span class="co"># Model -------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb75-2" title="2">N &lt;-<span class="st"> </span><span class="dv">2100</span></a>
<a class="sourceLine" id="cb75-3" title="3">fixed_population &lt;-<span class="st"> </span><span class="kw">declare_population</span>(<span class="dt">N =</span> N, <span class="dt">Y =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>, N, <span class="dt">replace =</span> <span class="ot">TRUE</span>))()</a>
<a class="sourceLine" id="cb75-4" title="4">population &lt;-<span class="st"> </span><span class="kw">declare_population</span>(<span class="dt">data =</span> fixed_population)</a>
<a class="sourceLine" id="cb75-5" title="5"></a>
<a class="sourceLine" id="cb75-6" title="6"><span class="co"># Inquiry -----------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb75-7" title="7">estimand &lt;-<span class="st"> </span><span class="kw">declare_estimand</span>(<span class="dt">Ybar =</span> <span class="kw">mean</span>(Y))</a>
<a class="sourceLine" id="cb75-8" title="8"></a>
<a class="sourceLine" id="cb75-9" title="9"><span class="co"># Data Strategy -----------------------------------------------------------</span></a>
<a class="sourceLine" id="cb75-10" title="10">n &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb75-11" title="11">sampling &lt;-<span class="st"> </span><span class="kw">declare_sampling</span>(<span class="dt">n =</span> n)</a>
<a class="sourceLine" id="cb75-12" title="12"></a>
<a class="sourceLine" id="cb75-13" title="13"><span class="co"># Answer Strategy ---------------------------------------------------------</span></a>
<a class="sourceLine" id="cb75-14" title="14">estimator &lt;-<span class="st"> </span><span class="kw">declare_estimator</span>(Y <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb75-15" title="15">                               <span class="dt">model =</span> lm_robust,</a>
<a class="sourceLine" id="cb75-16" title="16">                                       <span class="dt">estimand =</span> estimand,</a>
<a class="sourceLine" id="cb75-17" title="17">                                       <span class="dt">label =</span> <span class="st">&quot;Sample Mean Estimator&quot;</span>)</a>
<a class="sourceLine" id="cb75-18" title="18"></a>
<a class="sourceLine" id="cb75-19" title="19"><span class="co"># Design ------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb75-20" title="20">design &lt;-<span class="st"> </span>population <span class="op">+</span><span class="st"> </span>estimand <span class="op">+</span><span class="st">  </span>sampling <span class="op">+</span><span class="st"> </span>estimator</a>
<a class="sourceLine" id="cb75-21" title="21"></a>
<a class="sourceLine" id="cb75-22" title="22">diagnosands &lt;-<span class="st"> </span><span class="kw">declare_diagnosands</span>(<span class="dt">select =</span> <span class="kw">c</span>(bias, coverage, mean_estimate, sd_estimate))</a></code></pre></div>
</div>
<div id="takeaways" class="section level4">
<h4><span class="header-section-number">15.1.1.2</span> Takeaways</h4>
<p>With the design declared we can run a diagnosis and plot results from Monte Carlo simulations of the design:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1">diagnosis &lt;-<span class="st"> </span><span class="kw">diagnose_design</span>(</a>
<a class="sourceLine" id="cb76-2" title="2">  design, <span class="dt">sims =</span> sims, <span class="dt">bootstrap_sims =</span> b_sims, <span class="dt">diagnosands =</span> diagnosands) </a></code></pre></div>
<p>The diagnosis indicates that under simple random sampling, the sample mean estimator of the population mean is unbiased. The graph on the left shows the sampling distribution of the estimator: it’s centered directly on the true value of the inquiry. Confidence intervals <strong>also</strong> have a sampling distribution – they change depending on the idiosyncrasies of each sample we happen to draw. The figure on the right shows that the 95% of the time the confidence intervals cover the true value of the estimand, as they should. As sample size grows, the sampling distribution of the estimator gets tighter, but the coverage of the confidence intervals stays at 95% – just the properties we would want out of our answer strategy.</p>
<p>Things work well here it seems. In the exercises we suggest some small modifications of the design that point to conditions under which things might break down.</p>
</div>
</div>
<div id="stratified-and-clustered-random-sampling" class="section level3">
<h3><span class="header-section-number">15.1.2</span> Stratified and clustered random sampling</h3>
<p>Researchers often cannot randomly sample at the individual level because it may, among other reasons, be too costly or logistically impractical. Instead, they may choose to randomly sample households, political precincts, or any group of individuals in order to draw inferences about the population. This strategy may be cheaper and simpler but may also introduce risks of less precise estimates.</p>
<p>Say we are interested in the average party ideology in the entire state of California. Using cluster sampling, we randomly sample counties within the state, and within each selected county, randomly sample individuals to survey.</p>
<p>Assuming enough variation in the outcome of interest, the random assignment of equal-sized clusters yields unbiased but imprecise estimates. By sampling clusters, we select groups of individuals who may share common attributes. Unlike simple random sampling, we need to take account of this intra-cluster correlation in our estimation of the standard error.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> The higher the degree of within-cluster similarity, the more variance we observe in cluster-level averages and the more imprecise are our estimates.<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> We address this by considering cluster-robust standard errors in our answer strategy below.</p>
<div id="design-declaration-1" class="section level4">
<h4><span class="header-section-number">15.1.2.1</span> Design Declaration</h4>
<ul>
<li><strong>M</strong>odel:</li>
</ul>
<p>We specify the variable of interest <span class="math inline">\(Y\)</span> (political ideology, say) as a discrete variable ranging from 1 (most liberal) to 7 (most conservative). We do not define a functional model since we are interested in the population mean of <span class="math inline">\(Y\)</span>. The model also includes information about the number of sampled clusters and the number of individuals per cluster.</p>
<ul>
<li><strong>I</strong>nquiry:</li>
</ul>
<p>Our estimand is the population mean of political identification <span class="math inline">\(Y\)</span>. Because we employed random sampling, we can expect the value of the sample mean (<span class="math inline">\(\widehat{\overline{y}}\)</span>) to approximate the true population parameter (<span class="math inline">\(\widehat{\overline{Y}}\)</span>).</p>
<ul>
<li><strong>D</strong>ata strategy:</li>
</ul>
<p>Sampling follows a two-stage strategy. We first draw a random sample 30 counties in California, and in each county select 20 individuals at random. This guarantees that each county has the same probability of being included in the sample and each resident within a county the same probability of being in the sample. In this design we estimate <span class="math inline">\(Y\)</span> for n = 600 respondents.</p>
<ul>
<li><strong>A</strong>nswer strategy:</li>
</ul>
<p>We estimate the population mean with the sample mean estimator: <span class="math inline">\(\widehat{\overline{Y}} = \frac{1}{n} \sum_1^n Y_i\)</span>, and estimate standard errors under the assumption of independent and heteroskedastic errors as well as cluster-robust standard errors to take into account correlation of errors within clusters. Below we demonstrate the the imprecision of our estimated <span class="math inline">\(\widehat{\overline{Y}}\)</span> when we cluster standard errors and when we do not in the presence of an intracluster correlation coefficient (ICC) of 0.402.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" title="1">N_blocks &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb77-2" title="2">N_clusters_in_block &lt;-<span class="st"> </span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb77-3" title="3">N_i_in_cluster &lt;-<span class="st"> </span><span class="dv">50</span></a>
<a class="sourceLine" id="cb77-4" title="4">n_clusters_in_block &lt;-<span class="st"> </span><span class="dv">30</span></a>
<a class="sourceLine" id="cb77-5" title="5">n_i_in_cluster &lt;-<span class="st"> </span><span class="dv">20</span></a>
<a class="sourceLine" id="cb77-6" title="6">icc &lt;-<span class="st"> </span><span class="fl">0.402</span></a>
<a class="sourceLine" id="cb77-7" title="7"></a>
<a class="sourceLine" id="cb77-8" title="8"><span class="co"># M: Model</span></a>
<a class="sourceLine" id="cb77-9" title="9">fixed_pop &lt;-</a>
<a class="sourceLine" id="cb77-10" title="10"><span class="st">  </span><span class="kw">declare_population</span>(</a>
<a class="sourceLine" id="cb77-11" title="11">    <span class="dt">block =</span> <span class="kw">add_level</span>(<span class="dt">N =</span> N_blocks),</a>
<a class="sourceLine" id="cb77-12" title="12">    <span class="dt">cluster =</span> <span class="kw">add_level</span>(<span class="dt">N =</span> N_clusters_in_block),</a>
<a class="sourceLine" id="cb77-13" title="13">    <span class="dt">subject =</span> <span class="kw">add_level</span>(<span class="dt">N =</span> N_i_in_cluster,</a>
<a class="sourceLine" id="cb77-14" title="14">                        <span class="dt">latent =</span> <span class="kw">draw_normal_icc</span>(<span class="dt">mean =</span> <span class="dv">0</span>, <span class="dt">N =</span> N, <span class="dt">clusters =</span> cluster, <span class="dt">ICC =</span> icc),</a>
<a class="sourceLine" id="cb77-15" title="15">                        <span class="dt">Y =</span> <span class="kw">draw_ordered</span>(<span class="dt">x =</span> latent, <span class="dt">breaks =</span> <span class="kw">qnorm</span>(<span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">length.out =</span> <span class="dv">8</span>)))</a>
<a class="sourceLine" id="cb77-16" title="16">    )</a>
<a class="sourceLine" id="cb77-17" title="17">  )()</a>
<a class="sourceLine" id="cb77-18" title="18"></a>
<a class="sourceLine" id="cb77-19" title="19">cluster_sampling_design &lt;-<span class="st"> </span><span class="kw">declare_population</span>(<span class="dt">data =</span> fixed_pop) <span class="op">+</span></a>
<a class="sourceLine" id="cb77-20" title="20"><span class="st">  </span></a>
<a class="sourceLine" id="cb77-21" title="21"><span class="st">  </span><span class="co"># I: Inquiry</span></a>
<a class="sourceLine" id="cb77-22" title="22"><span class="st">  </span><span class="kw">declare_estimand</span>(<span class="dt">Ybar =</span> <span class="kw">mean</span>(Y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb77-23" title="23"><span class="st">  </span></a>
<a class="sourceLine" id="cb77-24" title="24"><span class="st">  </span><span class="co"># D: Data Strategy</span></a>
<a class="sourceLine" id="cb77-25" title="25"><span class="st">  </span><span class="kw">declare_sampling</span>(<span class="dt">strata =</span> block, </a>
<a class="sourceLine" id="cb77-26" title="26">                   <span class="dt">clusters =</span> cluster, <span class="dt">n =</span> n_clusters_in_block, </a>
<a class="sourceLine" id="cb77-27" title="27">                   <span class="dt">sampling_variable =</span> <span class="st">&quot;Cluster_Sampling_Prob&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb77-28" title="28"><span class="st">  </span></a>
<a class="sourceLine" id="cb77-29" title="29"><span class="st">  </span><span class="kw">declare_sampling</span>(<span class="dt">strata =</span> cluster,   <span class="dt">n =</span> n_i_in_cluster, </a>
<a class="sourceLine" id="cb77-30" title="30">                   <span class="dt">sampling_variable =</span> <span class="st">&quot;Within_Cluster_Sampling_Prob&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb77-31" title="31"><span class="st">  </span></a>
<a class="sourceLine" id="cb77-32" title="32"><span class="st">  </span><span class="co"># A: Answer Strategy</span></a>
<a class="sourceLine" id="cb77-33" title="33"><span class="st">  </span><span class="kw">declare_estimator</span>(Y <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb77-34" title="34">                    <span class="dt">model =</span> lm_robust,</a>
<a class="sourceLine" id="cb77-35" title="35">                    <span class="dt">clusters =</span> cluster,</a>
<a class="sourceLine" id="cb77-36" title="36">                    <span class="dt">estimand =</span> <span class="st">&quot;Ybar&quot;</span>,</a>
<a class="sourceLine" id="cb77-37" title="37">                    <span class="dt">label =</span> <span class="st">&quot;Clustered Standard Errors&quot;</span>)</a></code></pre></div>
</div>
<div id="takeaways-1" class="section level4">
<h4><span class="header-section-number">15.1.2.2</span> Takeaways</h4>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1">diagnosis &lt;-<span class="st"> </span><span class="kw">diagnose_design</span>(cluster_sampling_design, <span class="dt">sims =</span> sims)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Design Label
</th>
<th style="text-align:left;">
Estimand Label
</th>
<th style="text-align:left;">
Estimator Label
</th>
<th style="text-align:left;">
Term
</th>
<th style="text-align:left;">
N Sims
</th>
<th style="text-align:left;">
Bias
</th>
<th style="text-align:left;">
RMSE
</th>
<th style="text-align:left;">
Power
</th>
<th style="text-align:left;">
Coverage
</th>
<th style="text-align:left;">
Mean Estimate
</th>
<th style="text-align:left;">
SD Estimate
</th>
<th style="text-align:left;">
Mean Se
</th>
<th style="text-align:left;">
Type S Rate
</th>
<th style="text-align:left;">
Mean Estimand
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
cluster_sampling_design
</td>
<td style="text-align:left;">
Ybar
</td>
<td style="text-align:left;">
Clustered Standard Errors
</td>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:left;">
500
</td>
<td style="text-align:left;">
0.01
</td>
<td style="text-align:left;">
0.25
</td>
<td style="text-align:left;">
1.00
</td>
<td style="text-align:left;">
0.95
</td>
<td style="text-align:left;">
3.97
</td>
<td style="text-align:left;">
0.25
</td>
<td style="text-align:left;">
0.25
</td>
<td style="text-align:left;">
0.00
</td>
<td style="text-align:left;">
3.97
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
(0.01)
</td>
<td style="text-align:left;">
(0.01)
</td>
<td style="text-align:left;">
(0.00)
</td>
<td style="text-align:left;">
(0.01)
</td>
<td style="text-align:left;">
(0.01)
</td>
<td style="text-align:left;">
(0.01)
</td>
<td style="text-align:left;">
(0.00)
</td>
<td style="text-align:left;">
(0.00)
</td>
<td style="text-align:left;">
(0.00)
</td>
</tr>
</tbody>
</table>
<p>To appreciate the role of clustering better we also plot simulated values of our estimand with standard errors not clustered and with clustered standard errors. To do this we first add an additional estimator to the design that does not take account of clusters.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1">new_design &lt;-<span class="st"> </span>cluster_sampling_design <span class="op">+</span><span class="st"> </span><span class="kw">declare_estimator</span>(Y <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb79-2" title="2">                                                          <span class="dt">model =</span> lm_robust,</a>
<a class="sourceLine" id="cb79-3" title="3">                                                          <span class="dt">estimand =</span> <span class="st">&quot;Ybar&quot;</span>,</a>
<a class="sourceLine" id="cb79-4" title="4">                                                          <span class="dt">label =</span> <span class="st">&quot;Naive Standard Errors&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" title="1">diagnosis &lt;-<span class="st"> </span><span class="kw">diagnose_design</span>(new_design, <span class="dt">sims =</span> sims)</a></code></pre></div>
<p><img src="book_files/figure-html/plot-1.png" width="672" /></p>
<p>The figure above may give us the impression that our estimate with clustered standard errors is less precise, when in fact, it correctly accounts for the uncertainty surrounding our estimates. The blue lines in the graph demonstrate the estimates from simulations which contain our estimand. As our table and graphs show, the share of these simulations over the total number of simulations, also known as coverage, is (correctly) close to 95% in estimations with clustered standard errors and 54% in estimations without clustered standard errors. As expected, the mean estimate itself and the bias is the same in both specifications.</p>
</div>
<div id="exercises" class="section level4">
<h4><span class="header-section-number">15.1.2.3</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li>Modify the declaration to change the distribution of <span class="math inline">\(Y\)</span> from being uniform to something else: perhaps imagine that more extreme ideologies are more prevalent than moderate ones. Is the sample mean estimator still unbiased? Interpret your answer.</li>
<li>Change the sampling procedure to favor units with higher values of ideology. Is the sample mean estimator still unbiased? Interpret your answer.</li>
<li>Modify the estimation function to use this formula for the standard error: <span class="math inline">\(\widehat{se} \equiv \frac{\widehat\sigma}{\sqrt{n}}\)</span>. This equation differs from the one used in our declaration (it ignores the total population size <span class="math inline">\(N\)</span>). Check that the coverage of this new design is incorrect when <span class="math inline">\(N=n\)</span>. Assess how large <span class="math inline">\(N\)</span> has to be for the difference between these procedures not to matter.</li>
</ol>

<!-- note do_bookdown is set in index.rmd, so we know if you're running just this .Rmd or compiling the book-->
<!-- start post here, do not edit above -->
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p>The intra-cluster correlation coefficient (ICC) can be calculated directly and is a feature of this design.<a href="random-sampling.html#fnref15" class="footnote-back">↩</a></p></li>
<li id="fn16"><p>In ordinary least square (OLS) models, we assume errors are independent (error terms between individual observations are uncorrelated with each other) and homoskedastic (the size of errors is homogeneous across individuals). In reality, this is often not the case with cluster sampling.<a href="random-sampling.html#fnref16" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="observational-designs-for-descriptive-inference.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multilevel-regression-and-poststratification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
