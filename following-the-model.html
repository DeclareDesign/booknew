<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9.1 Following the model | Research Design: Declare, Diagnose, Redesign</title>
  <meta name="description" content="describe the book" />
  <meta name="generator" content="bookdown 0.21.4 and GitBook 2.6.7" />

  <meta property="og:title" content="9.1 Following the model | Research Design: Declare, Diagnose, Redesign" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="describe the book" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9.1 Following the model | Research Design: Declare, Diagnose, Redesign" />
  
  <meta name="twitter:description" content="describe the book" />
  

<meta name="author" content="Graeme Blair, Jasper Cooper, Alexander Coppock, and Macartan Humphreys" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="choosing-an-answer-strategy.html"/>
<link rel="next" href="following-the-inquiry.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="https://hypothes.is/embed.js" async></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="headers/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>Research Design</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Research Design: Declaration, Diagnose, Redesign</a><ul>
<li class="chapter" data-level="" data-path="graeme-blair-jasper-cooper-alexander-coppock-and-macartan-humphreys.html"><a href="graeme-blair-jasper-cooper-alexander-coppock-and-macartan-humphreys.html"><i class="fa fa-check"></i>Graeme Blair, Jasper Cooper, Alexander Coppock, and Macartan Humphreys</a><ul>
<li class="chapter" data-level="" data-path="graeme-blair-jasper-cooper-alexander-coppock-and-macartan-humphreys.html"><a href="graeme-blair-jasper-cooper-alexander-coppock-and-macartan-humphreys.html#draft.-under-advance-contract-princeton-university-press"><i class="fa fa-check"></i>Draft. Under advance contract, Princeton University Press</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="preamble.html"><a href="preamble.html"><i class="fa fa-check"></i><b>1</b> Preamble</a><ul>
<li class="chapter" data-level="1.1" data-path="how-to-read-this-book.html"><a href="how-to-read-this-book.html"><i class="fa fa-check"></i><b>1.1</b> How to read this book</a></li>
<li class="chapter" data-level="1.2" data-path="how-to-work-this-book.html"><a href="how-to-work-this-book.html"><i class="fa fa-check"></i><b>1.2</b> How to <strong>work</strong> this book</a></li>
<li class="chapter" data-level="1.3" data-path="what-this-book-will-not-do.html"><a href="what-this-book-will-not-do.html"><i class="fa fa-check"></i><b>1.3</b> What this book will not do</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="improving-research-designs.html"><a href="improving-research-designs.html"><i class="fa fa-check"></i><b>2</b> Improving research designs</a><ul>
<li class="chapter" data-level="2.1" data-path="the-four-components-of-research-design.html"><a href="the-four-components-of-research-design.html"><i class="fa fa-check"></i><b>2.1</b> The four components of research design</a><ul>
<li class="chapter" data-level="2.1.1" data-path="the-four-components-of-research-design.html"><a href="the-four-components-of-research-design.html#example"><i class="fa fa-check"></i><b>2.1.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="declaring-a-design-in-code.html"><a href="declaring-a-design-in-code.html"><i class="fa fa-check"></i><b>2.2</b> Declaring a design in code</a></li>
<li class="chapter" data-level="2.3" data-path="assessing-research-design-quality-design-diagnosis.html"><a href="assessing-research-design-quality-design-diagnosis.html"><i class="fa fa-check"></i><b>2.3</b> Assessing research design quality: design diagnosis</a></li>
<li class="chapter" data-level="2.4" data-path="redesign.html"><a href="redesign.html"><i class="fa fa-check"></i><b>2.4</b> Redesign</a></li>
<li class="chapter" data-level="2.5" data-path="putting-designs-to-use.html"><a href="putting-designs-to-use.html"><i class="fa fa-check"></i><b>2.5</b> Putting designs to use</a></li>
<li class="chapter" data-level="2.6" data-path="avoiding-declaration-and-diagnosis-pitfalls.html"><a href="avoiding-declaration-and-diagnosis-pitfalls.html"><i class="fa fa-check"></i><b>2.6</b> Avoiding declaration and diagnosis pitfalls</a></li>
<li class="chapter" data-level="2.7" data-path="further-reading.html"><a href="further-reading.html"><i class="fa fa-check"></i><b>2.7</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="primer.html"><a href="primer.html"><i class="fa fa-check"></i><b>3</b> Software primer</a><ul>
<li class="chapter" data-level="3.1" data-path="installing-r.html"><a href="installing-r.html"><i class="fa fa-check"></i><b>3.1</b> Installing R</a></li>
<li class="chapter" data-level="3.2" data-path="building-a-step-of-a-research-design.html"><a href="building-a-step-of-a-research-design.html"><i class="fa fa-check"></i><b>3.2</b> Building a step of a research design</a><ul>
<li class="chapter" data-level="3.2.1" data-path="building-a-step-of-a-research-design.html"><a href="building-a-step-of-a-research-design.html#options-and-defaults"><i class="fa fa-check"></i><b>3.2.1</b> Options and defaults</a></li>
<li class="chapter" data-level="3.2.2" data-path="building-a-step-of-a-research-design.html"><a href="building-a-step-of-a-research-design.html#your-own-handlers"><i class="fa fa-check"></i><b>3.2.2</b> Your own handlers</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="research-design-steps.html"><a href="research-design-steps.html"><i class="fa fa-check"></i><b>3.3</b> Research design steps</a><ul>
<li class="chapter" data-level="3.3.1" data-path="research-design-steps.html"><a href="research-design-steps.html#model"><i class="fa fa-check"></i><b>3.3.1</b> Model</a></li>
<li class="chapter" data-level="3.3.2" data-path="research-design-steps.html"><a href="research-design-steps.html#inquiry"><i class="fa fa-check"></i><b>3.3.2</b> Inquiry</a></li>
<li class="chapter" data-level="3.3.3" data-path="research-design-steps.html"><a href="research-design-steps.html#data-strategy"><i class="fa fa-check"></i><b>3.3.3</b> Data strategy</a></li>
<li class="chapter" data-level="3.3.4" data-path="research-design-steps.html"><a href="research-design-steps.html#answer-strategy"><i class="fa fa-check"></i><b>3.3.4</b> Answer strategy</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="building-a-design-from-design-steps.html"><a href="building-a-design-from-design-steps.html"><i class="fa fa-check"></i><b>3.4</b> Building a design from design steps</a><ul>
<li class="chapter" data-level="3.4.1" data-path="building-a-design-from-design-steps.html"><a href="building-a-design-from-design-steps.html#order-matters"><i class="fa fa-check"></i><b>3.4.1</b> Order matters</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="simulating-a-research-design.html"><a href="simulating-a-research-design.html"><i class="fa fa-check"></i><b>3.5</b> Simulating a research design</a></li>
<li class="chapter" data-level="3.6" data-path="diagnosing-a-research-design.html"><a href="diagnosing-a-research-design.html"><i class="fa fa-check"></i><b>3.6</b> Diagnosing a research design</a></li>
<li class="chapter" data-level="3.7" data-path="comparing-designs.html"><a href="comparing-designs.html"><i class="fa fa-check"></i><b>3.7</b> Comparing designs</a><ul>
<li class="chapter" data-level="3.7.1" data-path="comparing-designs.html"><a href="comparing-designs.html#comparing-many-variants-of-a-design"><i class="fa fa-check"></i><b>3.7.1</b> Comparing many variants of a design</a></li>
<li class="chapter" data-level="3.7.2" data-path="comparing-designs.html"><a href="comparing-designs.html#library-of-designs"><i class="fa fa-check"></i><b>3.7.2</b> Library of designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="part-i-exercises.html"><a href="part-i-exercises.html"><i class="fa fa-check"></i><b>4</b> Part I Exercises</a></li>
<li class="part"><span><b>II Declaration, Diagnosis, Redesign</b></span></li>
<li class="chapter" data-level="5" data-path="declaration.html"><a href="declaration.html"><i class="fa fa-check"></i><b>5</b> Declaration</a><ul>
<li class="chapter" data-level="5.1" data-path="p2gulzarkhanrevisited.html"><a href="p2gulzarkhanrevisited.html"><i class="fa fa-check"></i><b>5.1</b> Example</a></li>
<li class="chapter" data-level="5.2" data-path="further-reading-1.html"><a href="further-reading-1.html"><i class="fa fa-check"></i><b>5.2</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="specifying-the-model.html"><a href="specifying-the-model.html"><i class="fa fa-check"></i><b>6</b> Specifying the model</a><ul>
<li class="chapter" data-level="6.1" data-path="what-is-the-population.html"><a href="what-is-the-population.html"><i class="fa fa-check"></i><b>6.1</b> What is the population?</a></li>
<li class="chapter" data-level="6.2" data-path="what-variables-to-include.html"><a href="what-variables-to-include.html"><i class="fa fa-check"></i><b>6.2</b> What variables to include?</a><ul>
<li class="chapter" data-level="6.2.1" data-path="what-variables-to-include.html"><a href="what-variables-to-include.html#types-of-variables"><i class="fa fa-check"></i><b>6.2.1</b> Types of variables</a></li>
<li class="chapter" data-level="6.2.2" data-path="what-variables-to-include.html"><a href="what-variables-to-include.html#what-variables-are-needed-for-declaration-and-diagnosis"><i class="fa fa-check"></i><b>6.2.2</b> What variables are <em>needed</em> for declaration and diagnosis?</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="specifying-structural-relations.html"><a href="specifying-structural-relations.html"><i class="fa fa-check"></i><b>6.3</b> Specifying structural relations</a></li>
<li class="chapter" data-level="6.4" data-path="substantive-justifications-for-choices-of-nodes-and-equations.html"><a href="substantive-justifications-for-choices-of-nodes-and-equations.html"><i class="fa fa-check"></i><b>6.4</b> Substantive justifications for choices of nodes and equations</a><ul>
<li class="chapter" data-level="6.4.1" data-path="substantive-justifications-for-choices-of-nodes-and-equations.html"><a href="substantive-justifications-for-choices-of-nodes-and-equations.html#reality-tracking-models"><i class="fa fa-check"></i><b>6.4.1</b> Reality tracking models</a></li>
<li class="chapter" data-level="6.4.2" data-path="substantive-justifications-for-choices-of-nodes-and-equations.html"><a href="substantive-justifications-for-choices-of-nodes-and-equations.html#discursive-models"><i class="fa fa-check"></i><b>6.4.2</b> Discursive models</a></li>
<li class="chapter" data-level="6.4.3" data-path="substantive-justifications-for-choices-of-nodes-and-equations.html"><a href="substantive-justifications-for-choices-of-nodes-and-equations.html#sufficient-models"><i class="fa fa-check"></i><b>6.4.3</b> Sufficient models</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="getting-it-right.html"><a href="getting-it-right.html"><i class="fa fa-check"></i><b>6.5</b> Getting it right?</a><ul>
<li class="chapter" data-level="6.5.1" data-path="getting-it-right.html"><a href="getting-it-right.html#robustness-to-multiple-models"><i class="fa fa-check"></i><b>6.5.1</b> Robustness to multiple models</a></li>
<li class="chapter" data-level="6.5.2" data-path="getting-it-right.html"><a href="getting-it-right.html#fundamental-uncertainty"><i class="fa fa-check"></i><b>6.5.2</b> Fundamental uncertainty</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="defining-the-inquiry.html"><a href="defining-the-inquiry.html"><i class="fa fa-check"></i><b>7</b> Defining the inquiry</a><ul>
<li class="chapter" data-level="7.1" data-path="three-families-of-inquiries.html"><a href="three-families-of-inquiries.html"><i class="fa fa-check"></i><b>7.1</b> Three families of inquiries</a><ul>
<li class="chapter" data-level="7.1.1" data-path="three-families-of-inquiries.html"><a href="three-families-of-inquiries.html#descriptive-inquiries"><i class="fa fa-check"></i><b>7.1.1</b> Descriptive inquiries</a></li>
<li class="chapter" data-level="7.1.2" data-path="three-families-of-inquiries.html"><a href="three-families-of-inquiries.html#inquiries-about-causal-effects"><i class="fa fa-check"></i><b>7.1.2</b> Inquiries about causal effects</a></li>
<li class="chapter" data-level="7.1.3" data-path="three-families-of-inquiries.html"><a href="three-families-of-inquiries.html#causalattribution"><i class="fa fa-check"></i><b>7.1.3</b> Causal attribution inquiries</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="estimands-declared.html"><a href="estimands-declared.html"><i class="fa fa-check"></i><b>7.2</b> Estimands declared</a></li>
<li class="chapter" data-level="7.3" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html"><i class="fa fa-check"></i><b>7.3</b> Common complexities in defining estimands</a><ul>
<li class="chapter" data-level="7.3.1" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html#data-dependent-inquiries"><i class="fa fa-check"></i><b>7.3.1</b> Data-dependent inquiries</a></li>
<li class="chapter" data-level="7.3.2" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html#non-decomposable-inquiries"><i class="fa fa-check"></i><b>7.3.2</b> Non-decomposable inquiries</a></li>
<li class="chapter" data-level="7.3.3" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html#model-dependent-inquiries"><i class="fa fa-check"></i><b>7.3.3</b> Model dependent inquiries</a></li>
<li class="chapter" data-level="7.3.4" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html#complex-counterfactual-inquiries"><i class="fa fa-check"></i><b>7.3.4</b> Complex counterfactual inquiries</a></li>
<li class="chapter" data-level="7.3.5" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html#inquiries-with-continuous-causal-variables"><i class="fa fa-check"></i><b>7.3.5</b> Inquiries with continuous causal variables</a></li>
<li class="chapter" data-level="7.3.6" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html#undefined-and-unanswerable-inquiries"><i class="fa fa-check"></i><b>7.3.6</b> Undefined and unanswerable inquiries</a></li>
<li class="chapter" data-level="7.3.7" data-path="common-complexities-in-defining-estimands.html"><a href="common-complexities-in-defining-estimands.html#example-1"><i class="fa fa-check"></i><b>7.3.7</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="how-should-you-select-inquiries.html"><a href="how-should-you-select-inquiries.html"><i class="fa fa-check"></i><b>7.4</b> How should you select inquiries?</a></li>
<li class="chapter" data-level="7.5" data-path="further-reading-2.html"><a href="further-reading-2.html"><i class="fa fa-check"></i><b>7.5</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="crafting-a-data-strategy.html"><a href="crafting-a-data-strategy.html"><i class="fa fa-check"></i><b>8</b> Crafting a data strategy</a><ul>
<li class="chapter" data-level="8.1" data-path="p2sampling.html"><a href="p2sampling.html"><i class="fa fa-check"></i><b>8.1</b> Sampling strategies</a><ul>
<li class="chapter" data-level="8.1.1" data-path="p2sampling.html"><a href="p2sampling.html#randomized-sampling-designs"><i class="fa fa-check"></i><b>8.1.1</b> Randomized sampling designs</a></li>
<li class="chapter" data-level="8.1.2" data-path="p2sampling.html"><a href="p2sampling.html#nonrandomized-sampling-designs"><i class="fa fa-check"></i><b>8.1.2</b> Nonrandomized sampling designs</a></li>
<li class="chapter" data-level="8.1.3" data-path="p2sampling.html"><a href="p2sampling.html#sampling-designs-for-qualitative-research"><i class="fa fa-check"></i><b>8.1.3</b> Sampling designs for qualitative research</a></li>
<li class="chapter" data-level="8.1.4" data-path="p2sampling.html"><a href="p2sampling.html#choosing-among-sampling-designs"><i class="fa fa-check"></i><b>8.1.4</b> Choosing among sampling designs</a></li>
<li class="chapter" data-level="8.1.5" data-path="p2sampling.html"><a href="p2sampling.html#example-wang2015forecasting"><i class="fa fa-check"></i><b>8.1.5</b> Example: <span class="citation">Wang et al. (<span>2015</span>)</span></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="p2assignment.html"><a href="p2assignment.html"><i class="fa fa-check"></i><b>8.2</b> Treatment assignment</a><ul>
<li class="chapter" data-level="8.2.1" data-path="p2assignment.html"><a href="p2assignment.html#two-arm-trials"><i class="fa fa-check"></i><b>8.2.1</b> Two arm trials</a></li>
<li class="chapter" data-level="8.2.2" data-path="p2assignment.html"><a href="p2assignment.html#multiarm-and-factorial-trials"><i class="fa fa-check"></i><b>8.2.2</b> Multiarm and factorial trials</a></li>
<li class="chapter" data-level="8.2.3" data-path="p2assignment.html"><a href="p2assignment.html#complex-designs"><i class="fa fa-check"></i><b>8.2.3</b> Complex designs</a></li>
<li class="chapter" data-level="8.2.4" data-path="p2assignment.html"><a href="p2assignment.html#non-randomized-assignment"><i class="fa fa-check"></i><b>8.2.4</b> Non randomized assignment</a></li>
<li class="chapter" data-level="8.2.5" data-path="p2assignment.html"><a href="p2assignment.html#example-sociology-natural-experiment-from-government-or-official-cutoff"><i class="fa fa-check"></i><b>8.2.5</b> Example: sociology natural experiment from government or official cutoff</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="measurement.html"><a href="measurement.html"><i class="fa fa-check"></i><b>8.3</b> Measurement</a><ul>
<li class="chapter" data-level="8.3.1" data-path="measurement.html"><a href="measurement.html#example-weaver2019too"><i class="fa fa-check"></i><b>8.3.1</b> Example: <span class="citation">Weaver, Prowse, and Piston (<span>2019</span>)</span></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="threats-to-implementation.html"><a href="threats-to-implementation.html"><i class="fa fa-check"></i><b>8.4</b> Threats to implementation</a><ul>
<li class="chapter" data-level="8.4.1" data-path="threats-to-implementation.html"><a href="threats-to-implementation.html#noncompliance"><i class="fa fa-check"></i><b>8.4.1</b> Noncompliance</a></li>
<li class="chapter" data-level="8.4.2" data-path="threats-to-implementation.html"><a href="threats-to-implementation.html#attrition"><i class="fa fa-check"></i><b>8.4.2</b> Attrition</a></li>
<li class="chapter" data-level="8.4.3" data-path="threats-to-implementation.html"><a href="threats-to-implementation.html#excludability"><i class="fa fa-check"></i><b>8.4.3</b> Excludability</a></li>
<li class="chapter" data-level="8.4.4" data-path="threats-to-implementation.html"><a href="threats-to-implementation.html#interference"><i class="fa fa-check"></i><b>8.4.4</b> Interference</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="further-reading-3.html"><a href="further-reading-3.html"><i class="fa fa-check"></i><b>8.5</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="choosing-an-answer-strategy.html"><a href="choosing-an-answer-strategy.html"><i class="fa fa-check"></i><b>9</b> Choosing an answer strategy</a><ul>
<li class="chapter" data-level="9.1" data-path="following-the-model.html"><a href="following-the-model.html"><i class="fa fa-check"></i><b>9.1</b> Following the model</a><ul>
<li class="chapter" data-level="9.1.1" data-path="following-the-model.html"><a href="following-the-model.html#identification"><i class="fa fa-check"></i><b>9.1.1</b> Identification</a></li>
<li class="chapter" data-level="9.1.2" data-path="following-the-model.html"><a href="following-the-model.html#estimation"><i class="fa fa-check"></i><b>9.1.2</b> Estimation</a></li>
<li class="chapter" data-level="9.1.3" data-path="following-the-model.html"><a href="following-the-model.html#robustness"><i class="fa fa-check"></i><b>9.1.3</b> Robustness</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="following-the-inquiry.html"><a href="following-the-inquiry.html"><i class="fa fa-check"></i><b>9.2</b> Following the inquiry</a><ul>
<li class="chapter" data-level="9.2.1" data-path="following-the-inquiry.html"><a href="following-the-inquiry.html#plug-in-principle"><i class="fa fa-check"></i><b>9.2.1</b> Plug-in principle</a></li>
<li class="chapter" data-level="9.2.2" data-path="following-the-inquiry.html"><a href="following-the-inquiry.html#point-estimation"><i class="fa fa-check"></i><b>9.2.2</b> Point estimation</a></li>
<li class="chapter" data-level="9.2.3" data-path="following-the-inquiry.html"><a href="following-the-inquiry.html#estimating-the-variance"><i class="fa fa-check"></i><b>9.2.3</b> Estimating the variance</a></li>
<li class="chapter" data-level="9.2.4" data-path="following-the-inquiry.html"><a href="following-the-inquiry.html#tests"><i class="fa fa-check"></i><b>9.2.4</b> Tests</a></li>
<li class="chapter" data-level="9.2.5" data-path="following-the-inquiry.html"><a href="following-the-inquiry.html#partial-identification"><i class="fa fa-check"></i><b>9.2.5</b> Partial identification</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="p2followdatastrategy.html"><a href="p2followdatastrategy.html"><i class="fa fa-check"></i><b>9.3</b> Following the data strategy</a></li>
<li class="chapter" data-level="9.4" data-path="qualitative-methods-of-inference.html"><a href="qualitative-methods-of-inference.html"><i class="fa fa-check"></i><b>9.4</b> Qualitative methods of inference</a><ul>
<li class="chapter" data-level="9.4.1" data-path="qualitative-methods-of-inference.html"><a href="qualitative-methods-of-inference.html#process-tracing"><i class="fa fa-check"></i><b>9.4.1</b> Process-tracing</a></li>
<li class="chapter" data-level="9.4.2" data-path="qualitative-methods-of-inference.html"><a href="qualitative-methods-of-inference.html#boolean-and-set-theoretic-methods"><i class="fa fa-check"></i><b>9.4.2</b> Boolean and set-theoretic methods</a></li>
<li class="chapter" data-level="9.4.3" data-path="qualitative-methods-of-inference.html"><a href="qualitative-methods-of-inference.html#narrative-comparison"><i class="fa fa-check"></i><b>9.4.3</b> Narrative comparison</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="answer-strategies-as-procedures.html"><a href="answer-strategies-as-procedures.html"><i class="fa fa-check"></i><b>9.5</b> Answer strategies as procedures</a></li>
<li class="chapter" data-level="9.6" data-path="interpretation.html"><a href="interpretation.html"><i class="fa fa-check"></i><b>9.6</b> Interpretation</a></li>
<li class="chapter" data-level="9.7" data-path="further-reading-4.html"><a href="further-reading-4.html"><i class="fa fa-check"></i><b>9.7</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="p2diagnosis.html"><a href="p2diagnosis.html"><i class="fa fa-check"></i><b>10</b> Diagnosis</a><ul>
<li class="chapter" data-level="10.1" data-path="estimating-diagnosands-analytically.html"><a href="estimating-diagnosands-analytically.html"><i class="fa fa-check"></i><b>10.1</b> Estimating diagnosands analytically</a></li>
<li class="chapter" data-level="10.2" data-path="estimating-diagnosands-via-simulation.html"><a href="estimating-diagnosands-via-simulation.html"><i class="fa fa-check"></i><b>10.2</b> Estimating diagnosands via simulation</a><ul>
<li class="chapter" data-level="10.2.1" data-path="estimating-diagnosands-via-simulation.html"><a href="estimating-diagnosands-via-simulation.html#interpreting-diagnosands"><i class="fa fa-check"></i><b>10.2.1</b> Interpreting diagnosands</a></li>
<li class="chapter" data-level="10.2.2" data-path="estimating-diagnosands-via-simulation.html"><a href="estimating-diagnosands-via-simulation.html#how-many-simulations-to-run"><i class="fa fa-check"></i><b>10.2.2</b> How many simulations to run</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="diagnosands.html"><a href="diagnosands.html"><i class="fa fa-check"></i><b>10.3</b> How to choose among diagnosands</a></li>
<li class="chapter" data-level="10.4" data-path="diagnosing-with-respect-to-variations-in-m.html"><a href="diagnosing-with-respect-to-variations-in-m.html"><i class="fa fa-check"></i><b>10.4</b> Diagnosing with respect to variations in M</a><ul>
<li class="chapter" data-level="10.4.1" data-path="diagnosing-with-respect-to-variations-in-m.html"><a href="diagnosing-with-respect-to-variations-in-m.html#estimating-the-minimum-detectable-effect-size"><i class="fa fa-check"></i><b>10.4.1</b> Estimating the minimum detectable effect size</a></li>
<li class="chapter" data-level="10.4.2" data-path="diagnosing-with-respect-to-variations-in-m.html"><a href="diagnosing-with-respect-to-variations-in-m.html#adjudicating-between-competing-models"><i class="fa fa-check"></i><b>10.4.2</b> Adjudicating between competing models</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="further-reading-5.html"><a href="further-reading-5.html"><i class="fa fa-check"></i><b>10.5</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="redesign-1.html"><a href="redesign-1.html"><i class="fa fa-check"></i><b>11</b> Redesign</a><ul>
<li class="chapter" data-level="11.1" data-path="redesign-mountain.html"><a href="redesign-mountain.html"><i class="fa fa-check"></i><b>11.1</b> Redesign Mountain</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="part-ii-exercises.html"><a href="part-ii-exercises.html"><i class="fa fa-check"></i><b>12</b> Part II Exercises</a></li>
<li class="part"><span><b>III Research Design Library</b></span></li>
<li class="chapter" data-level="13" data-path="research-design-library.html"><a href="research-design-library.html"><i class="fa fa-check"></i><b>13</b> Research Design Library</a></li>
<li class="chapter" data-level="14" data-path="observational-designs-for-descriptive-inference.html"><a href="observational-designs-for-descriptive-inference.html"><i class="fa fa-check"></i><b>14</b> Observational designs for descriptive inference</a><ul>
<li class="chapter" data-level="14.1" data-path="random-sampling.html"><a href="random-sampling.html"><i class="fa fa-check"></i><b>14.1</b> Random sampling</a><ul>
<li class="chapter" data-level="14.1.1" data-path="random-sampling.html"><a href="random-sampling.html#declaration-1"><i class="fa fa-check"></i><b>14.1.1</b> Declaration</a></li>
<li class="chapter" data-level="14.1.2" data-path="random-sampling.html"><a href="random-sampling.html#dag"><i class="fa fa-check"></i><b>14.1.2</b> Dag</a></li>
<li class="chapter" data-level="14.1.3" data-path="random-sampling.html"><a href="random-sampling.html#example-2"><i class="fa fa-check"></i><b>14.1.3</b> Example</a></li>
<li class="chapter" data-level="14.1.4" data-path="random-sampling.html"><a href="random-sampling.html#simple-random-sampling"><i class="fa fa-check"></i><b>14.1.4</b> Simple random sampling</a></li>
<li class="chapter" data-level="14.1.5" data-path="random-sampling.html"><a href="random-sampling.html#stratified-and-clustered-random-sampling"><i class="fa fa-check"></i><b>14.1.5</b> Stratified and clustered random sampling</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="poststratification.html"><a href="poststratification.html"><i class="fa fa-check"></i><b>14.2</b> Poststratification</a><ul>
<li class="chapter" data-level="14.2.1" data-path="poststratification.html"><a href="poststratification.html#declaration-2"><i class="fa fa-check"></i><b>14.2.1</b> Declaration</a></li>
<li class="chapter" data-level="14.2.2" data-path="poststratification.html"><a href="poststratification.html#dag-1"><i class="fa fa-check"></i><b>14.2.2</b> Dag</a></li>
<li class="chapter" data-level="14.2.3" data-path="poststratification.html"><a href="poststratification.html#exercises-1"><i class="fa fa-check"></i><b>14.2.3</b> Exercises</a></li>
<li class="chapter" data-level="14.2.4" data-path="poststratification.html"><a href="poststratification.html#example-3"><i class="fa fa-check"></i><b>14.2.4</b> Example</a></li>
<li class="chapter" data-level="14.2.5" data-path="poststratification.html"><a href="poststratification.html#example-4"><i class="fa fa-check"></i><b>14.2.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="inference-about-unobserved-variables.html"><a href="inference-about-unobserved-variables.html"><i class="fa fa-check"></i><b>14.3</b> Inference about unobserved variables</a><ul>
<li class="chapter" data-level="14.3.1" data-path="inference-about-unobserved-variables.html"><a href="inference-about-unobserved-variables.html#declaration-3"><i class="fa fa-check"></i><b>14.3.1</b> Declaration</a></li>
<li class="chapter" data-level="14.3.2" data-path="inference-about-unobserved-variables.html"><a href="inference-about-unobserved-variables.html#dag-2"><i class="fa fa-check"></i><b>14.3.2</b> Dag</a></li>
<li class="chapter" data-level="14.3.3" data-path="inference-about-unobserved-variables.html"><a href="inference-about-unobserved-variables.html#example-5"><i class="fa fa-check"></i><b>14.3.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="structural-estimation.html"><a href="structural-estimation.html"><i class="fa fa-check"></i><b>14.4</b> Structural estimation</a><ul>
<li class="chapter" data-level="14.4.1" data-path="structural-estimation.html"><a href="structural-estimation.html#declaration-4"><i class="fa fa-check"></i><b>14.4.1</b> Declaration</a></li>
<li class="chapter" data-level="14.4.2" data-path="structural-estimation.html"><a href="structural-estimation.html#dag-3"><i class="fa fa-check"></i><b>14.4.2</b> Dag</a></li>
<li class="chapter" data-level="14.4.3" data-path="structural-estimation.html"><a href="structural-estimation.html#example-6"><i class="fa fa-check"></i><b>14.4.3</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="experimental-designs-for-descriptive-inference.html"><a href="experimental-designs-for-descriptive-inference.html"><i class="fa fa-check"></i><b>15</b> Experimental designs for descriptive inference</a><ul>
<li class="chapter" data-level="15.1" data-path="audit-experiments.html"><a href="audit-experiments.html"><i class="fa fa-check"></i><b>15.1</b> Audit experiments</a><ul>
<li class="chapter" data-level="15.1.1" data-path="audit-experiments.html"><a href="audit-experiments.html#declaration-5"><i class="fa fa-check"></i><b>15.1.1</b> Declaration</a></li>
<li class="chapter" data-level="15.1.2" data-path="audit-experiments.html"><a href="audit-experiments.html#dag-4"><i class="fa fa-check"></i><b>15.1.2</b> Dag</a></li>
<li class="chapter" data-level="15.1.3" data-path="audit-experiments.html"><a href="audit-experiments.html#example-7"><i class="fa fa-check"></i><b>15.1.3</b> Example</a></li>
<li class="chapter" data-level="15.1.4" data-path="audit-experiments.html"><a href="audit-experiments.html#design-declaration-2"><i class="fa fa-check"></i><b>15.1.4</b> Design Declaration</a></li>
<li class="chapter" data-level="15.1.5" data-path="audit-experiments.html"><a href="audit-experiments.html#takeaways-2"><i class="fa fa-check"></i><b>15.1.5</b> Takeaways</a></li>
<li class="chapter" data-level="15.1.6" data-path="audit-experiments.html"><a href="audit-experiments.html#applications"><i class="fa fa-check"></i><b>15.1.6</b> Applications</a></li>
<li class="chapter" data-level="15.1.7" data-path="audit-experiments.html"><a href="audit-experiments.html#exercises-2"><i class="fa fa-check"></i><b>15.1.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html"><i class="fa fa-check"></i><b>15.2</b> Experiments for sensitive questions</a><ul>
<li class="chapter" data-level="15.2.1" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#declaration-6"><i class="fa fa-check"></i><b>15.2.1</b> Declaration</a></li>
<li class="chapter" data-level="15.2.2" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#dag-5"><i class="fa fa-check"></i><b>15.2.2</b> Dag</a></li>
<li class="chapter" data-level="15.2.3" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#example-8"><i class="fa fa-check"></i><b>15.2.3</b> Example</a></li>
<li class="chapter" data-level="15.2.4" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#list-experiments"><i class="fa fa-check"></i><b>15.2.4</b> List experiments</a></li>
<li class="chapter" data-level="15.2.5" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#randomized-response-technique"><i class="fa fa-check"></i><b>15.2.5</b> Randomized response technique</a></li>
<li class="chapter" data-level="15.2.6" data-path="experiments-for-sensitive-questions.html"><a href="experiments-for-sensitive-questions.html#references"><i class="fa fa-check"></i><b>15.2.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="conjoint-experiments.html"><a href="conjoint-experiments.html"><i class="fa fa-check"></i><b>15.3</b> Conjoint experiments</a><ul>
<li class="chapter" data-level="15.3.1" data-path="conjoint-experiments.html"><a href="conjoint-experiments.html#declaration-8"><i class="fa fa-check"></i><b>15.3.1</b> Declaration</a></li>
<li class="chapter" data-level="15.3.2" data-path="conjoint-experiments.html"><a href="conjoint-experiments.html#dag-6"><i class="fa fa-check"></i><b>15.3.2</b> Dag</a></li>
<li class="chapter" data-level="15.3.3" data-path="conjoint-experiments.html"><a href="conjoint-experiments.html#example-9"><i class="fa fa-check"></i><b>15.3.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="behavioral-games.html"><a href="behavioral-games.html"><i class="fa fa-check"></i><b>15.4</b> Behavioral games</a><ul>
<li class="chapter" data-level="15.4.1" data-path="behavioral-games.html"><a href="behavioral-games.html#declaration-9"><i class="fa fa-check"></i><b>15.4.1</b> Declaration</a></li>
<li class="chapter" data-level="15.4.2" data-path="behavioral-games.html"><a href="behavioral-games.html#dag-7"><i class="fa fa-check"></i><b>15.4.2</b> Dag</a></li>
<li class="chapter" data-level="15.4.3" data-path="behavioral-games.html"><a href="behavioral-games.html#example-10"><i class="fa fa-check"></i><b>15.4.3</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="observational-designs-for-causal-inference.html"><a href="observational-designs-for-causal-inference.html"><i class="fa fa-check"></i><b>16</b> Observational designs for causal inference</a><ul>
<li class="chapter" data-level="16.1" data-path="selection-on-observables.html"><a href="selection-on-observables.html"><i class="fa fa-check"></i><b>16.1</b> Selection on observables</a><ul>
<li class="chapter" data-level="16.1.1" data-path="selection-on-observables.html"><a href="selection-on-observables.html#declaration-10"><i class="fa fa-check"></i><b>16.1.1</b> Declaration</a></li>
<li class="chapter" data-level="16.1.2" data-path="selection-on-observables.html"><a href="selection-on-observables.html#dag-8"><i class="fa fa-check"></i><b>16.1.2</b> Dag</a></li>
<li class="chapter" data-level="16.1.3" data-path="selection-on-observables.html"><a href="selection-on-observables.html#example-11"><i class="fa fa-check"></i><b>16.1.3</b> Example</a></li>
<li class="chapter" data-level="16.1.4" data-path="selection-on-observables.html"><a href="selection-on-observables.html#classic-confounding"><i class="fa fa-check"></i><b>16.1.4</b> Classic Confounding</a></li>
<li class="chapter" data-level="16.1.5" data-path="selection-on-observables.html"><a href="selection-on-observables.html#what-if-the-functional-form-is-wrong"><i class="fa fa-check"></i><b>16.1.5</b> What if the functional form is wrong?</a></li>
<li class="chapter" data-level="16.1.6" data-path="selection-on-observables.html"><a href="selection-on-observables.html#what-if-you-have-unobserved-confounding"><i class="fa fa-check"></i><b>16.1.6</b> What if you have unobserved confounding?</a></li>
<li class="chapter" data-level="16.1.7" data-path="selection-on-observables.html"><a href="selection-on-observables.html#what-if-the-observed-covariate-is-post-treatment"><i class="fa fa-check"></i><b>16.1.7</b> What if the observed covariate is post-treatment?</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="further-reading-6.html"><a href="further-reading-6.html"><i class="fa fa-check"></i><b>16.2</b> Further reading</a></li>
<li class="chapter" data-level="16.3" data-path="p3iv.html"><a href="p3iv.html"><i class="fa fa-check"></i><b>16.3</b> Instrumental variables</a><ul>
<li class="chapter" data-level="16.3.1" data-path="p3iv.html"><a href="p3iv.html#declaration-11"><i class="fa fa-check"></i><b>16.3.1</b> Declaration</a></li>
<li class="chapter" data-level="16.3.2" data-path="p3iv.html"><a href="p3iv.html#dag-9"><i class="fa fa-check"></i><b>16.3.2</b> Dag</a></li>
<li class="chapter" data-level="16.3.3" data-path="p3iv.html"><a href="p3iv.html#redesign-2"><i class="fa fa-check"></i><b>16.3.3</b> Redesign</a></li>
<li class="chapter" data-level="16.3.4" data-path="p3iv.html"><a href="p3iv.html#suggested-readings"><i class="fa fa-check"></i><b>16.3.4</b> Suggested readings</a></li>
<li class="chapter" data-level="16.3.5" data-path="p3iv.html"><a href="p3iv.html#example-12"><i class="fa fa-check"></i><b>16.3.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="difference-in-differences.html"><a href="difference-in-differences.html"><i class="fa fa-check"></i><b>16.4</b> Difference-in-differences</a><ul>
<li class="chapter" data-level="16.4.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html#declaration-12"><i class="fa fa-check"></i><b>16.4.1</b> Declaration</a></li>
<li class="chapter" data-level="16.4.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html#dag-10"><i class="fa fa-check"></i><b>16.4.2</b> Dag</a></li>
<li class="chapter" data-level="16.4.3" data-path="difference-in-differences.html"><a href="difference-in-differences.html#example-13"><i class="fa fa-check"></i><b>16.4.3</b> Example</a></li>
<li class="chapter" data-level="16.4.4" data-path="difference-in-differences.html"><a href="difference-in-differences.html#two-period-two-group-setting"><i class="fa fa-check"></i><b>16.4.4</b> Two-period two-group setting</a></li>
<li class="chapter" data-level="16.4.5" data-path="difference-in-differences.html"><a href="difference-in-differences.html#parallel-trends-assumption"><i class="fa fa-check"></i><b>16.4.5</b> Parallel trends assumption</a></li>
<li class="chapter" data-level="16.4.6" data-path="difference-in-differences.html"><a href="difference-in-differences.html#multi-period-design"><i class="fa fa-check"></i><b>16.4.6</b> Multi-period design</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="RDD.html"><a href="RDD.html"><i class="fa fa-check"></i><b>16.5</b> Regression Discontinuity</a><ul>
<li class="chapter" data-level="16.5.1" data-path="RDD.html"><a href="RDD.html#declaration-13"><i class="fa fa-check"></i><b>16.5.1</b> Declaration</a></li>
<li class="chapter" data-level="16.5.2" data-path="RDD.html"><a href="RDD.html#dag-11"><i class="fa fa-check"></i><b>16.5.2</b> Dag</a></li>
<li class="chapter" data-level="16.5.3" data-path="RDD.html"><a href="RDD.html#example-14"><i class="fa fa-check"></i><b>16.5.3</b> Example</a></li>
<li class="chapter" data-level="16.5.4" data-path="RDD.html"><a href="RDD.html#design-declaration-3"><i class="fa fa-check"></i><b>16.5.4</b> Design Declaration</a></li>
<li class="chapter" data-level="16.5.5" data-path="RDD.html"><a href="RDD.html#takeaways-3"><i class="fa fa-check"></i><b>16.5.5</b> Takeaways</a></li>
<li class="chapter" data-level="16.5.6" data-path="RDD.html"><a href="RDD.html#further-reading-7"><i class="fa fa-check"></i><b>16.5.6</b> Further Reading</a></li>
<li class="chapter" data-level="16.5.7" data-path="RDD.html"><a href="RDD.html#exercises-3"><i class="fa fa-check"></i><b>16.5.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="bayesianprocesstracing.html"><a href="bayesianprocesstracing.html"><i class="fa fa-check"></i><b>16.6</b> Bayesian process-tracing</a><ul>
<li class="chapter" data-level="16.6.1" data-path="bayesianprocesstracing.html"><a href="bayesianprocesstracing.html#declaration-14"><i class="fa fa-check"></i><b>16.6.1</b> Declaration</a></li>
<li class="chapter" data-level="16.6.2" data-path="bayesianprocesstracing.html"><a href="bayesianprocesstracing.html#dag-12"><i class="fa fa-check"></i><b>16.6.2</b> Dag</a></li>
<li class="chapter" data-level="16.6.3" data-path="bayesianprocesstracing.html"><a href="bayesianprocesstracing.html#exercises-4"><i class="fa fa-check"></i><b>16.6.3</b> Exercises</a></li>
<li class="chapter" data-level="16.6.4" data-path="bayesianprocesstracing.html"><a href="bayesianprocesstracing.html#online-appendix-applied-example"><i class="fa fa-check"></i><b>16.6.4</b> Online Appendix Applied Example</a></li>
<li class="chapter" data-level="16.6.5" data-path="bayesianprocesstracing.html"><a href="bayesianprocesstracing.html#dag-13"><i class="fa fa-check"></i><b>16.6.5</b> Dag</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="synthetic-controls.html"><a href="synthetic-controls.html"><i class="fa fa-check"></i><b>16.7</b> Synthetic controls</a><ul>
<li class="chapter" data-level="16.7.1" data-path="synthetic-controls.html"><a href="synthetic-controls.html#declaration-15"><i class="fa fa-check"></i><b>16.7.1</b> Declaration</a></li>
<li class="chapter" data-level="16.7.2" data-path="synthetic-controls.html"><a href="synthetic-controls.html#dag-14"><i class="fa fa-check"></i><b>16.7.2</b> Dag</a></li>
<li class="chapter" data-level="16.7.3" data-path="synthetic-controls.html"><a href="synthetic-controls.html#example-15"><i class="fa fa-check"></i><b>16.7.3</b> Example</a></li>
<li class="chapter" data-level="16.7.4" data-path="synthetic-controls.html"><a href="synthetic-controls.html#when-there-are-not-good-controls-standard-synth-will-get-the-wrong-answer"><i class="fa fa-check"></i><b>16.7.4</b> When there are not good controls, standard synth will get the wrong answer</a></li>
<li class="chapter" data-level="16.7.5" data-path="synthetic-controls.html"><a href="synthetic-controls.html#references-1"><i class="fa fa-check"></i><b>16.7.5</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="experimental-designs-for-causal-inference.html"><a href="experimental-designs-for-causal-inference.html"><i class="fa fa-check"></i><b>17</b> Experimental designs for causal inference</a><ul>
<li class="chapter" data-level="17.1" data-path="two-arm-trials-1.html"><a href="two-arm-trials-1.html"><i class="fa fa-check"></i><b>17.1</b> Two arm trials</a><ul>
<li class="chapter" data-level="17.1.1" data-path="two-arm-trials-1.html"><a href="two-arm-trials-1.html#declaration-16"><i class="fa fa-check"></i><b>17.1.1</b> Declaration</a></li>
<li class="chapter" data-level="17.1.2" data-path="two-arm-trials-1.html"><a href="two-arm-trials-1.html#dag-15"><i class="fa fa-check"></i><b>17.1.2</b> Dag</a></li>
<li class="chapter" data-level="17.1.3" data-path="two-arm-trials-1.html"><a href="two-arm-trials-1.html#example-16"><i class="fa fa-check"></i><b>17.1.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="blocked-trials.html"><a href="blocked-trials.html"><i class="fa fa-check"></i><b>17.2</b> Blocked trials</a><ul>
<li class="chapter" data-level="17.2.1" data-path="blocked-trials.html"><a href="blocked-trials.html#declaration-17"><i class="fa fa-check"></i><b>17.2.1</b> Declaration</a></li>
<li class="chapter" data-level="17.2.2" data-path="blocked-trials.html"><a href="blocked-trials.html#dag-16"><i class="fa fa-check"></i><b>17.2.2</b> Dag</a></li>
<li class="chapter" data-level="17.2.3" data-path="blocked-trials.html"><a href="blocked-trials.html#example-17"><i class="fa fa-check"></i><b>17.2.3</b> Example</a></li>
<li class="chapter" data-level="17.2.4" data-path="blocked-trials.html"><a href="blocked-trials.html#two-arm-trials-and-designs-with-blocking-and-clustering"><i class="fa fa-check"></i><b>17.2.4</b> Two-arm trials and designs with blocking and clustering</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="multiarm-designs.html"><a href="multiarm-designs.html"><i class="fa fa-check"></i><b>17.3</b> Multiarm Designs</a><ul>
<li class="chapter" data-level="17.3.1" data-path="multiarm-designs.html"><a href="multiarm-designs.html#declaration-18"><i class="fa fa-check"></i><b>17.3.1</b> Declaration</a></li>
<li class="chapter" data-level="17.3.2" data-path="multiarm-designs.html"><a href="multiarm-designs.html#dag-17"><i class="fa fa-check"></i><b>17.3.2</b> Dag</a></li>
<li class="chapter" data-level="17.3.3" data-path="multiarm-designs.html"><a href="multiarm-designs.html#example-18"><i class="fa fa-check"></i><b>17.3.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="encouragement-designs.html"><a href="encouragement-designs.html"><i class="fa fa-check"></i><b>17.4</b> Encouragement designs</a><ul>
<li class="chapter" data-level="17.4.1" data-path="encouragement-designs.html"><a href="encouragement-designs.html#declaration-19"><i class="fa fa-check"></i><b>17.4.1</b> Declaration</a></li>
<li class="chapter" data-level="17.4.2" data-path="encouragement-designs.html"><a href="encouragement-designs.html#dag-18"><i class="fa fa-check"></i><b>17.4.2</b> Dag</a></li>
<li class="chapter" data-level="17.4.3" data-path="encouragement-designs.html"><a href="encouragement-designs.html#example-19"><i class="fa fa-check"></i><b>17.4.3</b> Example</a></li>
<li class="chapter" data-level="17.4.4" data-path="encouragement-designs.html"><a href="encouragement-designs.html#references-2"><i class="fa fa-check"></i><b>17.4.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html"><i class="fa fa-check"></i><b>17.5</b> Stepped wedge designs</a><ul>
<li class="chapter" data-level="17.5.1" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html#declaration-20"><i class="fa fa-check"></i><b>17.5.1</b> Declaration</a></li>
<li class="chapter" data-level="17.5.2" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html#dag-19"><i class="fa fa-check"></i><b>17.5.2</b> Dag</a></li>
<li class="chapter" data-level="17.5.3" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html#exercises-5"><i class="fa fa-check"></i><b>17.5.3</b> Exercises</a></li>
<li class="chapter" data-level="17.5.4" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html#online-appendix-applied-example-1"><i class="fa fa-check"></i><b>17.5.4</b> Online Appendix Applied Example</a></li>
<li class="chapter" data-level="17.5.5" data-path="stepped-wedge-designs.html"><a href="stepped-wedge-designs.html#references-3"><i class="fa fa-check"></i><b>17.5.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html"><i class="fa fa-check"></i><b>17.6</b> Randomized Saturation Design</a><ul>
<li class="chapter" data-level="17.6.1" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html#declaration-21"><i class="fa fa-check"></i><b>17.6.1</b> Declaration</a></li>
<li class="chapter" data-level="17.6.2" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html#dag-20"><i class="fa fa-check"></i><b>17.6.2</b> Dag</a></li>
<li class="chapter" data-level="17.6.3" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html#exercises-6"><i class="fa fa-check"></i><b>17.6.3</b> Exercises</a></li>
<li class="chapter" data-level="17.6.4" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html#online-appendix-applied-example-2"><i class="fa fa-check"></i><b>17.6.4</b> Online Appendix Applied Example</a></li>
<li class="chapter" data-level="17.6.5" data-path="randomized-saturation-design.html"><a href="randomized-saturation-design.html#design-declaration-4"><i class="fa fa-check"></i><b>17.6.5</b> Design Declaration</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="multi-study-designs.html"><a href="multi-study-designs.html"><i class="fa fa-check"></i><b>18</b> Multi-study designs</a><ul>
<li class="chapter" data-level="18.1" data-path="papers-with-multiple-studies.html"><a href="papers-with-multiple-studies.html"><i class="fa fa-check"></i><b>18.1</b> Papers with multiple studies</a><ul>
<li class="chapter" data-level="18.1.1" data-path="papers-with-multiple-studies.html"><a href="papers-with-multiple-studies.html#design-declaration-5"><i class="fa fa-check"></i><b>18.1.1</b> Design Declaration</a></li>
<li class="chapter" data-level="18.1.2" data-path="papers-with-multiple-studies.html"><a href="papers-with-multiple-studies.html#dag-21"><i class="fa fa-check"></i><b>18.1.2</b> DAG</a></li>
<li class="chapter" data-level="18.1.3" data-path="papers-with-multiple-studies.html"><a href="papers-with-multiple-studies.html#takeaways-4"><i class="fa fa-check"></i><b>18.1.3</b> Takeaways</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="multi-site-studies.html"><a href="multi-site-studies.html"><i class="fa fa-check"></i><b>18.2</b> Multi-site studies</a></li>
<li class="chapter" data-level="18.3" data-path="the-metaketa-design.html"><a href="the-metaketa-design.html"><i class="fa fa-check"></i><b>18.3</b> The Metaketa design</a><ul>
<li class="chapter" data-level="18.3.1" data-path="the-metaketa-design.html"><a href="the-metaketa-design.html#unbiased-estimates-of-out-of-sample-sites-in-presence-of-heterogeneous-effects"><i class="fa fa-check"></i><b>18.3.1</b> Unbiased estimates of out-of-sample sites in presence of heterogeneous effects</a></li>
<li class="chapter" data-level="18.3.2" data-path="the-metaketa-design.html"><a href="the-metaketa-design.html#bayesian-estimation-can-improve-estimates-of-effects-for-sampled-sites"><i class="fa fa-check"></i><b>18.3.2</b> Bayesian estimation can improve estimates of effects for sampled sites</a></li>
<li class="chapter" data-level="18.3.3" data-path="the-metaketa-design.html"><a href="the-metaketa-design.html#when-things-break-down-confounded-sampling"><i class="fa fa-check"></i><b>18.3.3</b> when things break down: confounded sampling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="part-iii-exercises.html"><a href="part-iii-exercises.html"><i class="fa fa-check"></i><b>19</b> Part III Exercises</a></li>
<li class="part"><span><b>IV Research Design Lifecycle</b></span></li>
<li class="chapter" data-level="20" data-path="research-design-lifecycle.html"><a href="research-design-lifecycle.html"><i class="fa fa-check"></i><b>20</b> Research Design Lifecycle</a><ul>
<li class="chapter" data-level="20.1" data-path="p4planning.html"><a href="p4planning.html"><i class="fa fa-check"></i><b>20.1</b> Planning</a><ul>
<li class="chapter" data-level="20.1.1" data-path="p4planning.html"><a href="p4planning.html#example-20"><i class="fa fa-check"></i><b>20.1.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="ethical-review.html"><a href="ethical-review.html"><i class="fa fa-check"></i><b>20.2</b> Ethical Review</a><ul>
<li class="chapter" data-level="20.2.1" data-path="ethical-review.html"><a href="ethical-review.html#ethical-principles-as-diagnosands"><i class="fa fa-check"></i><b>20.2.1</b> Ethical principles as diagnosands</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="partners.html"><a href="partners.html"><i class="fa fa-check"></i><b>20.3</b> Partners</a></li>
<li class="chapter" data-level="20.4" data-path="funding.html"><a href="funding.html"><i class="fa fa-check"></i><b>20.4</b> Funding</a></li>
<li class="chapter" data-level="20.5" data-path="p4piloting.html"><a href="p4piloting.html"><i class="fa fa-check"></i><b>20.5</b> Piloting</a></li>
<li class="chapter" data-level="20.6" data-path="implementation.html"><a href="implementation.html"><i class="fa fa-check"></i><b>20.6</b> Implementation</a></li>
<li class="chapter" data-level="20.7" data-path="p4populatedpap.html"><a href="p4populatedpap.html"><i class="fa fa-check"></i><b>20.7</b> Populated Preanalysis Plan</a><ul>
<li class="chapter" data-level="20.7.1" data-path="p4populatedpap.html"><a href="p4populatedpap.html#example-21"><i class="fa fa-check"></i><b>20.7.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="20.8" data-path="reconciliation.html"><a href="reconciliation.html"><i class="fa fa-check"></i><b>20.8</b> Reconciliation</a><ul>
<li class="chapter" data-level="20.8.1" data-path="reconciliation.html"><a href="reconciliation.html#example-22"><i class="fa fa-check"></i><b>20.8.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="20.9" data-path="writing.html"><a href="writing.html"><i class="fa fa-check"></i><b>20.9</b> Writing</a></li>
<li class="chapter" data-level="20.10" data-path="publication.html"><a href="publication.html"><i class="fa fa-check"></i><b>20.10</b> Publication</a><ul>
<li class="chapter" data-level="20.10.1" data-path="publication.html"><a href="publication.html#reviewing-papers"><i class="fa fa-check"></i><b>20.10.1</b> Reviewing papers</a></li>
<li class="chapter" data-level="20.10.2" data-path="publication.html"><a href="publication.html#responding-to-reviewers"><i class="fa fa-check"></i><b>20.10.2</b> Responding to reviewers</a></li>
</ul></li>
<li class="chapter" data-level="20.11" data-path="archiving.html"><a href="archiving.html"><i class="fa fa-check"></i><b>20.11</b> Archiving</a></li>
<li class="chapter" data-level="20.12" data-path="reanalysis.html"><a href="reanalysis.html"><i class="fa fa-check"></i><b>20.12</b> Reanalysis</a></li>
<li class="chapter" data-level="20.13" data-path="replication.html"><a href="replication.html"><i class="fa fa-check"></i><b>20.13</b> Replication</a></li>
<li class="chapter" data-level="20.14" data-path="resolving-disputes.html"><a href="resolving-disputes.html"><i class="fa fa-check"></i><b>20.14</b> Resolving Disputes</a></li>
<li class="chapter" data-level="20.15" data-path="synthesis.html"><a href="synthesis.html"><i class="fa fa-check"></i><b>20.15</b> Synthesis</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="part-iv-exercises.html"><a href="part-iv-exercises.html"><i class="fa fa-check"></i><b>21</b> Part IV Exercises</a></li>
<li class="chapter" data-level="22" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>22</b> Glossary</a></li>
<li class="chapter" data-level="" data-path="references-4.html"><a href="references-4.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://declaredesign.org" target="blank">DeclareDesign</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Research Design: Declare, Diagnose, Redesign</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="following-the-model" class="section level2">
<h2><span class="header-section-number">9.1</span> Following the model</h2>
<p>As we described in chapter 6, we can (non-parametrically) express our model of the world as a directed acyclic graph, or DAG. DAGs express <em>some</em> but not all parts of our model, precisely because they are nonparametric. They don’t encode how variables cause each other, just whether they do. Even so, writing down a theoretical model in as parsimonious a form as a nonparametric structual causal model can guide answer strategies in an enormously powerful way. Given a DAG, we can learn whether <em>any</em> answer strategy would be sufficient for estimating a causal effect. Further, we can learn which variables our answer strategy must condition on, and which must be left alone.</p>
<p>When we want to estimate a particular causal relationship, such as the average causal effect of D on Y, we can read off the DAG whether that relationship is <em>identified</em> or not. The most common (and useful) criterion for identification is the “backdoor criterion.” If there exists an unblocked “backdoor path” from D to Y, then the relationship is not identified.<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a> A backdoor path is a causal path that begins with an arrow in to D and ends with an arrow in to Y. Backdoor paths can be blocked in two ways: conditioning the analysis on a variable along the path or <em>not</em> conditioning on a “collider” along the path.</p>
<p>Pearl (p. 61) defines the backdoor criterion:</p>
<p>Given an ordered pair of variables D, Y in a DAG G, a set of variables X, satifies the backdoor criterion relative to D, Y if no node in X is a descendant of D, and X blocks every path between D and Y that contains an arrow into D. (pg. 61 Pearl primer)</p>
<p>With this definition in hand, we can inspect DAGs to find “adjustment sets.” An adjustment set is a set of variables that may be conditioned upon in the answer strategy. “Conditioned upon” is a sufficiently vague phrase to include conditioning procedures such as controlling for a variable in a regression setting or stratifying the analysis according to those variables.</p>
<p>In general, if <span class="math inline">\(X\)</span> is an adjustment set that satisfies the backdoor criterion, then we can estimate the conditional probability distributions of <span class="math inline">\(Y\)</span> for each level of <span class="math inline">\(D\)</span> using this expression.</p>
<p><span class="math display">\[\Pr(Y = y \mid do(D=d)) = \sum_x \Pr(Y = y \mid D = d, X = x) \Pr(X = x)\]</span></p>
<p>We can write the same expression using potential outcomes notation:</p>
<p><span class="math display">\[\Pr(Y_i(D_i = 1) = y) = \sum_x \Pr(Y_i(D_i = 1) = y \mid X_i = x) \Pr(X_i = x)\]</span></p>
<p>Figure <a href="following-the-model.html#fig:threedags">9.1</a> shows three DAGs with these three variables D, X, and Y, as well as an additional unmeasured variable <span class="math inline">\(U\)</span> (we will consider <span class="math inline">\(U\)</span> in later sections). In all three cases, our inquiry is the average treatment effect of D on Y, and in all three cases, X, D, and Y are correlated. In the first case, <span class="math inline">\(X\)</span> confounds the causal relationship between D and Y, which is to say if we simply compared units with different levels of D, our estimates of the causal effect would be prone to bias. However, if we conduct the analysis separately <em>within</em> levels of X (that is to say, we condition on X), then combine the separate analyses, our overall estimate will be unbiased. This first DAG is the setting that analysts have in mind when controlling for observables in order to estimate causal effects.</p>
<p>A dangerous possibility, however, is represented by the second DAG. In this causal graph, X doesn’t confound the relationship between D and Y – instead, it is a downstream consequence of both variables. If an analyst mistakenly conditions on X, a noncausal confounding path opens up between D and Y, biasing estimates of average effect on D on Y. The contrast between the first and second graphs is an illustration of the general principle that our theoretical models guide analytic choices. In the first case, our estimates are unbiased if and only if we <em>do</em> control for <span class="math inline">\(X\)</span>, in the second case if and only if we <em>do not</em> control for X.</p>
<p>The third case describes a setting in which D has both a direct effect on Y and an indirect effect that travels through X – in this case, X is a mediator. If we condition on X, our estimate of the effect D on Y is biased (X is a descendant of D). Like in the collider case, the effect is identified if we <em>do not</em> control for X, but is not identified if we <em>do</em> condition. Some intuition for the problems associated with controlling for mediators: controlling for X “controls away” some portion of the effect.</p>
<p>This example illustrates in a small way how your model of the world guides your answer strategy. In all three cases, we could in principle have the same dataset of D, X, and Y. If we followed some common regression advice, we would control for X in all three cases because it is correlated with both D and Y – this approach works only if X is a confounder. If X is a collider or a mediator, then this control strategy would induce bias. Without further changes to the design, no empirical tests can distinguish between these three DAGs, so in a very real way, theoretical assumptions in the Model must be relied upon to correctly choose a control strategy.</p>
<div class="figure"><span id="fig:threedags"></span>
<img src="book_files/figure-html/threedags-1.png" alt="Three roles for a variable X." width="100%" />
<p class="caption">
Figure 9.1: Three roles for a variable X.
</p>
</div>
<!-- Definition: The frontdoor criterion. A set of variables X is said to satisfy the frontdoor criterion relative to an ordered pair of variables D, Y if X intercepts all directed paths from D to Y, there is no unblocked path from D to X, all backdoor paths from X to Y are blocked by D. (pg. 69 Pearl primer) -->
<!-- $$\Pr(Y = y \mid do(D = d)) = \sum_x \Pr(X = x \mid D = d) \sum_{d^{\prime}} \Pr(Y = y \mid D = d^{\prime}, X = x) \Pr(D = d^{\prime})$$ -->
<p>We consider three possible paths to estimating the effect of the treatment <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span>. First, we consider conditioning on <span class="math inline">\(X\)</span> without making additional assumptions about the DAG; second, we consider invoking an ignorability assumption, often known as selection-on-observables; third, we consider randomizing the treatment and measuring <span class="math inline">\(X\)</span> before treatment. Finally, we consider the role of estimation in narrowing down the set of possible DAGs that describe the world.</p>
<div id="identification" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Identification</h3>
<p>We can only learn the answer to the inquiry when we can <em>identify</em> the causal effect, meaning if we had infinite data we could estimate without bias the causal effect. Identification can be obtained if the backdoor criterion is met, if the frontdoor criterion is met, or if there are no other causal relationships into both <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span>. These conditions will be violated in several circumstances, including when an observed confounder <span class="math inline">\(X\)</span> confounds the relationship between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> and is left unadjusted or when there is an unobserved confounder <span class="math inline">\(U\)</span>.</p>
<p>To reason about causal identification, we turn back to DAGs. We start with a simple DAG with four variables: a treatment <span class="math inline">\(D\)</span>, an outcome <span class="math inline">\(Y\)</span>, a observed variable <span class="math inline">\(X\)</span> (which may or may not confound the relationship between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span>), and an unobserved variable <span class="math inline">\(U\)</span>. There are six edges between these variables, each with three possible relations: each variable may cause (e.g., <span class="math inline">\(D \rightarrow Y\)</span>), be caused by (e.g., <span class="math inline">\(D \leftarrow Y\)</span>), or not be causally related to every other variable. With three possible relationships and six edges, there are <span class="math inline">\(3^6 = 729\)</span> conceptually possible DAGs. We rule out DAGs in which other variables cause <span class="math inline">\(U\)</span>, because we defined <span class="math inline">\(U\)</span> as an unobserved confounder. This leaves 216 possible combinations. We do not know which one! Our goal as researchers is to narrow down the possible DAGs.</p>
<p>To do so, we collect data on the three observable variables, as in Table <a href="#fig:identificationsimdf"><strong>??</strong></a>. We are faced with the choice of answer strategy. In the presence of possible confounding from <span class="math inline">\(X\)</span> and/or <span class="math inline">\(U\)</span>, we have several options for our research design: we can estimate the causal effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> by controlling for the observed confounder <span class="math inline">\(X\)</span> (or not), by invoking additional conditional independence assumptions, and by randomizing the treatment. In each case, our aim is to rule out DAGs in which the causal effect is not identified.</p>
<table>
<caption>
<span id="tab:identificationsimdf">Table 9.1: </span>Simulated data from a DAG with varaibles <span class="math inline">\(X\)</span>, <span class="math inline">\(D\)</span>, <span class="math inline">\(Y\)</span>, and <span class="math inline">\(U\)</span>.
</caption>
<thead>
<tr>
<th style="text-align:left;">
ID
</th>
<th style="text-align:right;">
X
</th>
<th style="text-align:right;">
D
</th>
<th style="text-align:right;">
Y
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
001
</td>
<td style="text-align:right;">
0.531
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2.240
</td>
</tr>
<tr>
<td style="text-align:left;">
002
</td>
<td style="text-align:right;">
0.181
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-1.278
</td>
</tr>
<tr>
<td style="text-align:left;">
003
</td>
<td style="text-align:right;">
0.777
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.154
</td>
</tr>
<tr>
<td style="text-align:left;">
004
</td>
<td style="text-align:right;">
-0.576
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.998
</td>
</tr>
<tr>
<td style="text-align:left;">
005
</td>
<td style="text-align:right;">
0.661
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.682
</td>
</tr>
<tr>
<td style="text-align:left;">
006
</td>
<td style="text-align:right;">
1.270
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.434
</td>
</tr>
</tbody>
</table>
<div id="consequences-of-conditioning" class="section level4">
<h4><span class="header-section-number">9.1.1.1</span> Consequences of conditioning</h4>
<p>The first strategy is that we can control for the observed variable <span class="math inline">\(X\)</span> or not. Whether controlling for <span class="math inline">\(X\)</span> enables, prevents, or does not affect the causal identification of the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> depends on our beliefs about which DAG is the true DAG.</p>
<p>We illustrate possible beliefs about these edges by visualizing all of the 216 DAGs in which <span class="math inline">\(U\)</span> is an unobserved confounder (see Figure <a href="following-the-model.html#fig:dagsadjustment">9.2</a>). The large groups of three squares of nine group DAGs based on how <span class="math inline">\(U\)</span> affects other variables in the model: the top left grouping of 27 DAGs represents those in which <span class="math inline">\(U\)</span> affects all of <span class="math inline">\(D\)</span>, <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. Within that grouping, there are three squares of nine squares. Each group of nine squares represents a set of DAGs with a single relationship between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span>. The top left group of nine are those DAGs in which <span class="math inline">\(D\rightarrow Y\)</span>.</p>
<p>We can rule out several of these 216 through acyclicity: the gray squares are graphs that are cyclical. (We operate under the view that cycling is not possible in the world, which would imply that these variables simultaneously cause each other.)</p>
<p>We color the rest of the squares in terms of whether controlling for <span class="math inline">\(X\)</span> will identify the causal effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span>.</p>
<p>In some cases, the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> will be identified regardless of whether we control for <span class="math inline">\(X\)</span> (white squares). For example, in the left DAG, <span class="math inline">\(X\)</span> affects <span class="math inline">\(D\)</span> and <span class="math inline">\(U\)</span> affects <span class="math inline">\(Y\)</span> but neither affect both. The causal effect is identified because there is no path between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> except for the direct effect <span class="math inline">\(D\rightarrow Y\)</span>. In other words, neither <span class="math inline">\(X\)</span> nor <span class="math inline">\(U\)</span> confound the relationship, and the potential outcomes of <span class="math inline">\(Y\)</span> are independent of <span class="math inline">\(D\)</span>.</p>
<p>In other cases, the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> is identified if and only if we control for <span class="math inline">\(X\)</span> (blue squares). These are situations in which <span class="math inline">\(X\)</span> confounds the relationship and there is no additional confounding from unmeasured confounders. These are cases in which the potential outcomes of <span class="math inline">\(Y\)</span> are independent of <span class="math inline">\(D\)</span> <em>conditional</em> on <span class="math inline">\(X\)</span>.</p>
<p>However, conditioning on <span class="math inline">\(X\)</span> is risky, because if we are not in one of the blue DAGs we might be in the purple DAGs in which the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> is identified only if we do <em>not</em> condition on <span class="math inline">\(X\)</span> (purple squares). These are DAGs in which <span class="math inline">\(X\)</span> is a collider, opening a backdoor path between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> aside from the direct effect when <span class="math inline">\(X\)</span> is conditioned on. If we knew we were in one of these DAGs, we would not control for <span class="math inline">\(X\)</span>.</p>
<p>There are also many situations — a majority in fact, the pink squares — in which the relationship between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> is <em>never</em> identified, regardless of whether you control for <span class="math inline">\(X\)</span>. Most of these result from confounding from unobservable confounders <span class="math inline">\(U\)</span>. The upper left quadrant contains the cases where <span class="math inline">\(U\)</span> affects all of the other variables, and the middle left those where <span class="math inline">\(U\)</span> affects <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span>. In both cases, identification would require at a minimum the ability to control for these unmeasured confounders. The other situations in which causal identification fails are those in which the causal order between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> is reversed, i.e. <span class="math inline">\(Y\)</span> causes <span class="math inline">\(D\)</span>. Without additional assumptions or control of the order in which variables are collected from the data strategy, we cannot rule out this possibility, the first and fourth columns of subgraphs labeled <span class="math inline">\(D\leftarrow Y\)</span>.</p>
<p>Without additional assumptions or manipulation in our data strategy, we cannot know where we are among the 200 acyclic DAGs represented in the plot. As a result, we are in danger either of having the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> unidentified regardless of what we do, or of making the wrong choice to control or not to control.</p>
<div class="figure"><span id="fig:dagsadjustment"></span>
<img src="book_files/figure-html/dagsadjustment-1.png" alt="Consequences of conditioning on variable X for all 216 possible DAGs." width="100%" />
<p class="caption">
Figure 9.2: Consequences of conditioning on variable X for all 216 possible DAGs.
</p>
</div>
</div>
<div id="adding-model-based-assumptions" class="section level4">
<h4><span class="header-section-number">9.1.1.2</span> Adding model-based assumptions</h4>
<p>We can address the problem of unmeasured confounding by invoking conditional independence assumptions. The ``selection-on-observables’’ answer strategy invokes the assumption that <span class="math inline">\(D\)</span> is statistically independent of the potential outcomes of <span class="math inline">\(Y\)</span> <em>given</em> X, i.e. after adjusting for <span class="math inline">\(X\)</span>. In other words, controlling for <span class="math inline">\(X\)</span> blocks all backdoor paths between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span>. This assumption is also known as a conditional independence or ignorability assumption.</p>
<p>In Figure <a href="following-the-model.html#fig:dagsignorability">9.3</a>, we display the 216 possible causal graphs again, ruling out in gray those that are cyclical. Among the 200 that remain, we color in the same way as under controlling for <span class="math inline">\(X\)</span> but add a fourth color: lavender for DAGs that we rule out based on our conditional independence assumption. Those that are ruled out, in the upper left quadrants, have unobserved confounding from <span class="math inline">\(U\)</span> that cannot be addressed by adjusting for <span class="math inline">\(X\)</span>.</p>
<p>Analysts who invoke this conditional independence assumption assure that there are many fewer circumstances in which identification is not possible either through controlling for <span class="math inline">\(X\)</span> or not controlling for <span class="math inline">\(X\)</span>. However, this is a strong assumption that is not possible to test directly. Instead, the analyst must justify the assumption based on circumstantial qualitative or quantitative evidence. The task is to rule out through this evidence either a relationship between <span class="math inline">\(U\)</span> and <span class="math inline">\(D\)</span> or a relationship between <span class="math inline">\(U\)</span> and <span class="math inline">\(Y\)</span> or both. In the first case, this evidence might take the form of background knowledge about how values of <span class="math inline">\(D\)</span> are determined. The treatment might be assigned using a cut-off rule, in which case all those above the cut-off are assigned to treatment (e.g., are admitted to a college) and those below are not. In this case, there is no relationship between unobserved variables <span class="math inline">\(U\)</span> and treatment <span class="math inline">\(D\)</span>, there is only a relationship between <span class="math inline">\(X\)</span> (score) and <span class="math inline">\(D\)</span>. Controlling for <span class="math inline">\(X\)</span> will enable causal identification even if <span class="math inline">\(Y\)</span> is affected by <span class="math inline">\(U\)</span>. However, the assumption of conditional independence between <span class="math inline">\(U\)</span> and <span class="math inline">\(D\)</span> given <span class="math inline">\(X\)</span> is a strong assumption: the analyst must be sure that there is no unobserved variable <span class="math inline">\(U\)</span> that directly affects <span class="math inline">\(D\)</span>, such as legacy applicants who may be “pushed” over the threshold of the cut-off if they are close enough to it.</p>
<p>Under selection-on-observables, there are still many DAGs that raise problems for us. There are still many DAGs in which <span class="math inline">\(D\leftarrow Y\)</span>, <span class="math inline">\(D\)</span> is caused by <span class="math inline">\(Y\)</span> instead of the other way around. If we cannot rule those out by assumption, we will never identify the causal effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> regardless of whether we control for <span class="math inline">\(X\)</span>. The DAGs in blue (the effect is identified only when we condition on <span class="math inline">\(X\)</span> and not otherwise) and purple (the opposite, that we only achieve identification when we do not condition on <span class="math inline">\(X\)</span>) still remain. Those in blue involve <span class="math inline">\(X\)</span> confounding the relationship between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> and those in purple are when <span class="math inline">\(X\)</span> is a collider so conditioning on it opens up a backdoor path to <span class="math inline">\(U\)</span>. In other words, the conditional independence of <span class="math inline">\(D\)</span> and <span class="math inline">\(U\)</span> given <span class="math inline">\(X\)</span> is insufficient to identify the effect, without ruling out these other scenarios.</p>
<div class="figure"><span id="fig:dagsignorability"></span>
<img src="book_files/figure-html/dagsignorability-1.png" alt="Consequences of conditional ignorability assumption for all 216 possible DAGs." width="100%" />
<p class="caption">
Figure 9.3: Consequences of conditional ignorability assumption for all 216 possible DAGs.
</p>
</div>
</div>
<div id="design-based-identification" class="section level4">
<h4><span class="header-section-number">9.1.1.3</span> Design-based identification</h4>
<p>When we are unable to rule out confounding by assumption and adjustment, we can randomly assign <span class="math inline">\(D\)</span> to sever connections between unobserved variables <span class="math inline">\(U\)</span> and <span class="math inline">\(D\)</span> by design. Ruling out confounders by assumption or adjustment requires the <em>model</em> to be correct, so is often known as model-based inference, whereas ruling out confounders by design is labeled design-based inference.<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a> In addition, we can measure <span class="math inline">\(X\)</span> before treatment to rule out situations in which <span class="math inline">\(D\)</span> causes <span class="math inline">\(X\)</span>, which can lead to collider bias or opening backdoor paths from <span class="math inline">\(D\)</span> to <span class="math inline">\(Y\)</span>.</p>
<p>In doing so, we dramatically reduce the set of possible DAGs, because we set the causal order between <span class="math inline">\(X\)</span> and <span class="math inline">\(D\)</span>, and dramatically expand the number of settings under which the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> is identified both due to this restriction on causal order and the randomization of <span class="math inline">\(D\)</span> which guarantees ignorability of <span class="math inline">\(U\)</span>.</p>
<p>In Figure <a href="following-the-model.html#fig:dagsrandomization">9.4</a>, we swap the colors to now indicate DAGs ruled out by measuring <span class="math inline">\(X\)</span> before treatment (salmon squares), and those ruled out by random assignment (blue squares). In all of the remaining white squares, the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> is causally identified, regardless of whether we adjust for <span class="math inline">\(X\)</span> or not. We remove the conditionality of inference depending on whether we control. This is good, because ultimately even in the presence of strong ignorability assumptions outlined in the last section there are many possible DAGs in which controlling or failing to control lead to bias. Now, our inferences do not depend on guessing the correct DAG.</p>
<div class="figure"><span id="fig:dagsrandomization"></span>
<img src="book_files/figure-html/dagsrandomization-1.png" alt="Consequences of randomizing Z and measuring X before treatment for all 216 possible DAGs." width="100%" />
<p class="caption">
Figure 9.4: Consequences of randomizing Z and measuring X before treatment for all 216 possible DAGs.
</p>
</div>
<p>In short, what we do by controlling the timing of measurement of <span class="math inline">\(X\)</span> and randomizing <span class="math inline">\(D\)</span> is to move our assumptions about conditional independence from <span class="math inline">\(M\)</span> our assumed (but possibly incorrect!) model of the world into our data strategy, which we control and so can guarantee by design.</p>
</div>
</div>
<div id="estimation" class="section level3">
<h3><span class="header-section-number">9.1.2</span> Estimation</h3>
<p>The identification of the causal effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> either by assumption or design enables us to undertake two tasks: estimate the average treatment effect, estimate the sign of the effect, or estimate whether there is an affect or not.</p>
<p>The first task, estimating the magnitude of the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span>, can be accomplished using model-based inference under the selection-on-observables design or under a randomized experiment. In both cases, we apply the plug-in principle, replacing the true but unknown average potential outcomes under treatment (control) with the sample analogues, the average outcomes in the treatment (control) group. With data from randomized experiments, <span class="math inline">\(X\)</span> is ignorable, so we can either adjust for it (which may reduce variability in estimates) or not without bias. But under selection-on-observables, we have to rule out many DAGs by assumption that include <span class="math inline">\(X\)</span> as a collider or in which <span class="math inline">\(X\)</span> opens a backdoor path between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> in order to safely select an answer strategy.</p>
<p>For estimating the sign of the effect, we can calculate the sign of the effect magnitude, and then conduct a statistical test of the null hypothesis of zero effect to distinguish among zero, positive, and negative effects.</p>
<p>The third task, determining whether there is an effect or not, similarly involves a statistical test of the null hypothesis of zero effect. If we fail to reject the null, then our posterior belief is that there is no effect, but if we reject in a two-sided test then we leave believing there is an effect. This zero average effect null hypothesis test can help us take the final step in distinguishing among the 216 possible DAGs representing the relationships between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> and the confounders <span class="math inline">\(X\)</span> and <span class="math inline">\(U\)</span>. In Figure XX, we display the 16 DAGs that are identified under random assignment and pretreatment measurement of <span class="math inline">\(X\)</span>. We need to use data and the two-sided null hypothesis test to distinguish between the top row (there is an effect <span class="math inline">\(D\rightarrow Y\)</span>) and the bottom row (there is no effect). Our design got us most of the way there, but then we need to use the data to narrow further to one of the two rows of eight DAGs. Since our inquiry is about the causal relationship between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span>, we may not be concerned about distinguishing among the eight. If we are, we need to develop an alternative research design in order to learn about the causal effects of <span class="math inline">\(X\)</span>.</p>
<p><img src="book_files/figure-html/unnamed-chunk-102-1.png" width="100%" /></p>
</div>
<div id="robustness" class="section level3">
<h3><span class="header-section-number">9.1.3</span> Robustness</h3>
<p>Robustness checks are modified answer strategies that aim to demonstrate the “robustness” or “sensitivity” to answer strategy choices. Often a primary analysis about a quantity of interest such as the effect of treatment <span class="math inline">\(D\)</span> on outcome <span class="math inline">\(Y\)</span> is presented and then in an appendix a set of modified analyses are presented. The author discusses whether or not there is variation in the magnitude and statistical significance of the estimates across these specifications.</p>
<p>Robustness checks are implicitly a response to the fundamental uncertainty we identified in the last several sections over which is the true DAG. We do not know! As a result, each robustness check should be motivated by a particular DAG. When we complete a set of robustness checks, we can then make claims about how “robust” our estimates of the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> are to alternative DAGs. Each robustness analyses should aim to falsify a DAG, as in the case of controlling for <span class="math inline">\(X\)</span>. If we have three variables <span class="math inline">\(X_1\)</span>, <span class="math inline">\(X_2\)</span>, and <span class="math inline">\(X_3\)</span> that either confound the relationship between <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> or play no role in the causal system, then we may want to present robustness checks including and excluding each combination of the three variables. In doing so, we rule out each variable as a collider or a mediator by assumption. These analyses can help distinguish among DAGs and give us evidence about the effect of <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span> across <em>possible</em> DAGs that involve confounding by some combination of <span class="math inline">\(X_1\)</span>, <span class="math inline">\(X_2\)</span>, and <span class="math inline">\(X_3\)</span>. However, it is important to highlight the assumptions we make in selecting the DAGs that are ruling in or out these relationships. In order for controlling for <span class="math inline">\(X_2\)</span> to be a sensible strategy, we must invoke the assumption that <span class="math inline">\(X_2\)</span> is not a collider. If it is possible that it is, it is not clear what we can learn from adjusting for <span class="math inline">\(X_2\)</span>. If we find its inclusion wipes out the effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span> this may not be because there is no causal relationship but because <span class="math inline">\(X_2\)</span> is a collider.</p>
<!-- two other kinds of robustness checks: functional form and subsetting. subsetting is about the units in which our assumptions about causal relations are met. functional form is about rejecting parametric structural causal models. -->
<!-- Robustness checks are part of the answer strategy. Often, a single estimator is presented as the main analysis but then a series of alternative specifications are displayed in an appendix (such as including or excluding covariates and their interactions, different subsets of the data, or alternative statistical models). These differ from multiple estimates of a latent quantity in that the goal is not a primary analysis, but rather to support the main analysis. The purpose is to provide readers with evidence about how dependent the main results are on the specification, data subset, and statistical model used. The decision a reader makes from a paper depends not only on the main estimate but also the robustness checks. As a result, we want to assess the properties of the two together. -->
<!-- [NOTE TO ADD HERE]: robustness checks are often more about $M$ than about $A$ -- we see how $a^d$ changes when we change $A$ in order see how our inferences change under alternative $M$s. -->
<p>We illustrate with a simple analysis of the correlation between two variables <code>y1</code> and <code>y2</code>, who have a true positive correlation. <code>y2</code> is also a function of an observed covariate <code>x</code> and measurement error. Our main analysis is a bivariate regression predicting <code>y2</code> with <code>y1</code>. We compare this answer strategy to one in which we run that analysis, but also run a robustness check controlling for <code>x</code>. We do this because as the analyst we are unsure of the true DGP and wish to demonstrate to reviewer’s that our results are not dependent on the functional form we choose.</p>
<!-- - distinguish this from changes to the model where we do robustnesss vis a vis a fixed answer and data strategy. i.e. two notions of "robustness". one is fix I D A and change M, is this "design" robust to changes in M. the other is, within a given run, is the estimate "robust" to changing the estimation procedure, so this is a diagnostic statistic. note I must be defined across these changes in M. -->
<p>Using the MIDA way of thinking about designs, we discuss in the diagnosis section another notion of the “robustness” of a design. The typical way we think of robustness checks is multiple secondary analyses <em>conditional on the observed data</em> to build confidence in an analysis of that fixed data. However, the motivation for these robustness checks is uncertainty about the true data generating process. By declaring a design in terms of MIDA, we can think about the robustness of a <em>single</em> estimator to multiple possible true data generating processes. An estimator that is robust in this sense is one that is unbiased with low uncertainty regardless of, say, the true functional form between <code>y1</code> and <code>y2</code>. To determine whether an estimator is robust, we can redefine a set of designs with different functional forms and assess the rate of correct decisions of our robustness checks strategy under each different model.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="17">
<li id="fn17"><p>Footnote here about other criteria.<a href="following-the-model.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>In truth, there is a continuum between the two. Design-based inferences that rely on non-parametric estimators of the average treatment effect using data from a randomized experiment are a classic design-based estimator, yet they also rely on a modeling assumption: the stable unit treatment-value assumption.<a href="following-the-model.html#fnref18" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="choosing-an-answer-strategy.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="following-the-inquiry.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
